var cU=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Eve=cU((Dve,Rf)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Hn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var px={exports:{}},Qp={},mx={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd=Symbol.for("react.element"),uU=Symbol.for("react.portal"),dU=Symbol.for("react.fragment"),hU=Symbol.for("react.strict_mode"),fU=Symbol.for("react.profiler"),pU=Symbol.for("react.provider"),mU=Symbol.for("react.context"),gU=Symbol.for("react.forward_ref"),vU=Symbol.for("react.suspense"),yU=Symbol.for("react.memo"),wU=Symbol.for("react.lazy"),mT=Symbol.iterator;function _U(e){return e===null||typeof e!="object"?null:(e=mT&&e[mT]||e["@@iterator"],typeof e=="function"?e:null)}var gx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vx=Object.assign,yx={};function Nl(e,t,n){this.props=e,this.context=t,this.refs=yx,this.updater=n||gx}Nl.prototype.isReactComponent={};Nl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Nl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wx(){}wx.prototype=Nl.prototype;function z0(e,t,n){this.props=e,this.context=t,this.refs=yx,this.updater=n||gx}var V0=z0.prototype=new wx;V0.constructor=z0;vx(V0,Nl.prototype);V0.isPureReactComponent=!0;var gT=Array.isArray,_x=Object.prototype.hasOwnProperty,Y0={current:null},Sx={key:!0,ref:!0,__self:!0,__source:!0};function Ex(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)_x.call(t,r)&&!Sx.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:sd,type:e,key:s,ref:a,props:i,_owner:Y0.current}}function SU(e,t){return{$$typeof:sd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function W0(e){return typeof e=="object"&&e!==null&&e.$$typeof===sd}function EU(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vT=/\/+/g;function mv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?EU(""+e.key):t.toString(36)}function sf(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case sd:case uU:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+mv(a,0):r,gT(i)?(n="",e!=null&&(n=e.replace(vT,"$&/")+"/"),sf(i,t,n,"",function(u){return u})):i!=null&&(W0(i)&&(i=SU(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(vT,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",gT(e))for(var o=0;o<e.length;o++){s=e[o];var l=r+mv(s,o);a+=sf(s,t,n,l,i)}else if(l=_U(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=r+mv(s,o++),a+=sf(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function _h(e,t,n){if(e==null)return e;var r=[],i=0;return sf(e,r,"","",function(s){return t.call(n,s,i++)}),r}function TU(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var xn={current:null},af={transition:null},bU={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:af,ReactCurrentOwner:Y0};function Tx(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:_h,forEach:function(e,t,n){_h(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _h(e,function(){t++}),t},toArray:function(e){return _h(e,function(t){return t})||[]},only:function(e){if(!W0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};De.Component=Nl;De.Fragment=dU;De.Profiler=fU;De.PureComponent=z0;De.StrictMode=hU;De.Suspense=vU;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bU;De.act=Tx;De.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=vx({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Y0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)_x.call(t,l)&&!Sx.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:sd,type:e.type,key:i,ref:s,props:r,_owner:a}};De.createContext=function(e){return e={$$typeof:mU,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pU,_context:e},e.Consumer=e};De.createElement=Ex;De.createFactory=function(e){var t=Ex.bind(null,e);return t.type=e,t};De.createRef=function(){return{current:null}};De.forwardRef=function(e){return{$$typeof:gU,render:e}};De.isValidElement=W0;De.lazy=function(e){return{$$typeof:wU,_payload:{_status:-1,_result:e},_init:TU}};De.memo=function(e,t){return{$$typeof:yU,type:e,compare:t===void 0?null:t}};De.startTransition=function(e){var t=af.transition;af.transition={};try{e()}finally{af.transition=t}};De.unstable_act=Tx;De.useCallback=function(e,t){return xn.current.useCallback(e,t)};De.useContext=function(e){return xn.current.useContext(e)};De.useDebugValue=function(){};De.useDeferredValue=function(e){return xn.current.useDeferredValue(e)};De.useEffect=function(e,t){return xn.current.useEffect(e,t)};De.useId=function(){return xn.current.useId()};De.useImperativeHandle=function(e,t,n){return xn.current.useImperativeHandle(e,t,n)};De.useInsertionEffect=function(e,t){return xn.current.useInsertionEffect(e,t)};De.useLayoutEffect=function(e,t){return xn.current.useLayoutEffect(e,t)};De.useMemo=function(e,t){return xn.current.useMemo(e,t)};De.useReducer=function(e,t,n){return xn.current.useReducer(e,t,n)};De.useRef=function(e){return xn.current.useRef(e)};De.useState=function(e){return xn.current.useState(e)};De.useSyncExternalStore=function(e,t,n){return xn.current.useSyncExternalStore(e,t,n)};De.useTransition=function(){return xn.current.useTransition()};De.version="18.3.1";mx.exports=De;var M=mx.exports;const A=Cn(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kU=M,DU=Symbol.for("react.element"),CU=Symbol.for("react.fragment"),xU=Object.prototype.hasOwnProperty,IU=kU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NU={key:!0,ref:!0,__self:!0,__source:!0};function bx(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)xU.call(t,r)&&!NU.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:DU,type:e,key:s,ref:a,props:i,_owner:IU.current}}Qp.Fragment=CU;Qp.jsx=bx;Qp.jsxs=bx;px.exports=Qp;var y=px.exports,kx={exports:{}},tr={},Dx={exports:{}},Cx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,Y){var V=B.length;B.push(Y);e:for(;0<V;){var $=V-1>>>1,L=B[$];if(0<i(L,Y))B[$]=Y,B[V]=L,V=$;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Y=B[0],V=B.pop();if(V!==Y){B[0]=V;e:for(var $=0,L=B.length,z=L>>>1;$<z;){var G=2*($+1)-1,F=B[G],he=G+1,ye=B[he];if(0>i(F,V))he<L&&0>i(ye,F)?(B[$]=ye,B[he]=V,$=he):(B[$]=F,B[G]=V,$=G);else if(he<L&&0>i(ye,V))B[$]=ye,B[he]=V,$=he;else break e}}return Y}function i(B,Y){var V=B.sortIndex-Y.sortIndex;return V!==0?V:B.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,f=null,p=3,g=!1,S=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=B)r(u),Y.sortIndex=Y.expirationTime,t(l,Y);else break;Y=n(u)}}function D(B){if(E=!1,b(B),!S)if(n(l)!==null)S=!0,ee(C);else{var Y=n(u);Y!==null&&de(D,Y.startTime-B)}}function C(B,Y){S=!1,E&&(E=!1,v(O),O=-1),g=!0;var V=p;try{for(b(Y),f=n(l);f!==null&&(!(f.expirationTime>Y)||B&&!j());){var $=f.callback;if(typeof $=="function"){f.callback=null,p=f.priorityLevel;var L=$(f.expirationTime<=Y);Y=e.unstable_now(),typeof L=="function"?f.callback=L:f===n(l)&&r(l),b(Y)}else r(l);f=n(l)}if(f!==null)var z=!0;else{var G=n(u);G!==null&&de(D,G.startTime-Y),z=!1}return z}finally{f=null,p=V,g=!1}}var I=!1,N=null,O=-1,P=5,x=-1;function j(){return!(e.unstable_now()-x<P)}function K(){if(N!==null){var B=e.unstable_now();x=B;var Y=!0;try{Y=N(!0,B)}finally{Y?W():(I=!1,N=null)}}else I=!1}var W;if(typeof w=="function")W=function(){w(K)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,q=ne.port2;ne.port1.onmessage=K,W=function(){q.postMessage(null)}}else W=function(){T(K,0)};function ee(B){N=B,I||(I=!0,W())}function de(B,Y){O=T(function(){B(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){S||g||(S=!0,ee(C))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(B){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var V=p;p=Y;try{return B()}finally{p=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var V=p;p=B;try{return Y()}finally{p=V}},e.unstable_scheduleCallback=function(B,Y,V){var $=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?$+V:$):V=$,B){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=V+L,B={id:d++,callback:Y,priorityLevel:B,startTime:V,expirationTime:L,sortIndex:-1},V>$?(B.sortIndex=V,t(u,B),n(l)===null&&B===n(u)&&(E?(v(O),O=-1):E=!0,de(D,V-$))):(B.sortIndex=L,t(l,B),S||g||(S=!0,ee(C))),B},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(B){var Y=p;return function(){var V=p;p=Y;try{return B.apply(this,arguments)}finally{p=V}}}})(Cx);Dx.exports=Cx;var OU=Dx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MU=M,Xn=OU;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xx=new Set,ou={};function Za(e,t){sl(e,t),sl(e+"Capture",t)}function sl(e,t){for(ou[e]=t,e=0;e<t.length;e++)xx.add(t[e])}var Wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zy=Object.prototype.hasOwnProperty,AU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yT={},wT={};function RU(e){return zy.call(wT,e)?!0:zy.call(yT,e)?!1:AU.test(e)?wT[e]=!0:(yT[e]=!0,!1)}function PU(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $U(e,t,n,r){if(t===null||typeof t>"u"||PU(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function In(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xt[e]=new In(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xt[t]=new In(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xt[e]=new In(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xt[e]=new In(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xt[e]=new In(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xt[e]=new In(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xt[e]=new In(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xt[e]=new In(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xt[e]=new In(e,5,!1,e.toLowerCase(),null,!1,!1)});var H0=/[\-:]([a-z])/g;function B0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(H0,B0);Xt[t]=new In(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(H0,B0);Xt[t]=new In(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(H0,B0);Xt[t]=new In(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xt[e]=new In(e,1,!1,e.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new In("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xt[e]=new In(e,1,!1,e.toLowerCase(),null,!0,!0)});function G0(e,t,n,r){var i=Xt.hasOwnProperty(t)?Xt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($U(t,n,i,r)&&(n=null),r||i===null?RU(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var rs=MU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sh=Symbol.for("react.element"),xo=Symbol.for("react.portal"),Io=Symbol.for("react.fragment"),q0=Symbol.for("react.strict_mode"),Vy=Symbol.for("react.profiler"),Ix=Symbol.for("react.provider"),Nx=Symbol.for("react.context"),K0=Symbol.for("react.forward_ref"),Yy=Symbol.for("react.suspense"),Wy=Symbol.for("react.suspense_list"),Q0=Symbol.for("react.memo"),gs=Symbol.for("react.lazy"),Ox=Symbol.for("react.offscreen"),_T=Symbol.iterator;function pc(e){return e===null||typeof e!="object"?null:(e=_T&&e[_T]||e["@@iterator"],typeof e=="function"?e:null)}var dt=Object.assign,gv;function Nc(e){if(gv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);gv=t&&t[1]||""}return`
`+gv+e}var vv=!1;function yv(e,t){if(!e||vv)return"";vv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{vv=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Nc(e):""}function LU(e){switch(e.tag){case 5:return Nc(e.type);case 16:return Nc("Lazy");case 13:return Nc("Suspense");case 19:return Nc("SuspenseList");case 0:case 2:case 15:return e=yv(e.type,!1),e;case 11:return e=yv(e.type.render,!1),e;case 1:return e=yv(e.type,!0),e;default:return""}}function Hy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Io:return"Fragment";case xo:return"Portal";case Vy:return"Profiler";case q0:return"StrictMode";case Yy:return"Suspense";case Wy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nx:return(e.displayName||"Context")+".Consumer";case Ix:return(e._context.displayName||"Context")+".Provider";case K0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q0:return t=e.displayName||null,t!==null?t:Hy(e.type)||"Memo";case gs:t=e._payload,e=e._init;try{return Hy(e(t))}catch{}}return null}function jU(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hy(t);case 8:return t===q0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function FU(e){var t=Mx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Eh(e){e._valueTracker||(e._valueTracker=FU(e))}function Ax(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Mx(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Pf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function By(e,t){var n=t.checked;return dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ST(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Vs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Rx(e,t){t=t.checked,t!=null&&G0(e,"checked",t,!1)}function Gy(e,t){Rx(e,t);var n=Vs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qy(e,t.type,n):t.hasOwnProperty("defaultValue")&&qy(e,t.type,Vs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ET(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function qy(e,t,n){(t!=="number"||Pf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Oc=Array.isArray;function Yo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Vs(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ky(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function TT(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Q(92));if(Oc(n)){if(1<n.length)throw Error(Q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Vs(n)}}function Px(e,t){var n=Vs(t.value),r=Vs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function bT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $x(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$x(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Th,Lx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Th=Th||document.createElement("div"),Th.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Th.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function lu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UU=["Webkit","ms","Moz","O"];Object.keys(zc).forEach(function(e){UU.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zc[t]=zc[e]})});function jx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zc.hasOwnProperty(e)&&zc[e]?(""+t).trim():t+"px"}function Fx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=jx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var zU=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xy(e,t){if(t){if(zU[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function Jy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zy=null;function X0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ew=null,Wo=null,Ho=null;function kT(e){if(e=ld(e)){if(typeof ew!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=tm(t),ew(e.stateNode,e.type,t))}}function Ux(e){Wo?Ho?Ho.push(e):Ho=[e]:Wo=e}function zx(){if(Wo){var e=Wo,t=Ho;if(Ho=Wo=null,kT(e),t)for(e=0;e<t.length;e++)kT(t[e])}}function Vx(e,t){return e(t)}function Yx(){}var wv=!1;function Wx(e,t,n){if(wv)return e(t,n);wv=!0;try{return Vx(e,t,n)}finally{wv=!1,(Wo!==null||Ho!==null)&&(Yx(),zx())}}function cu(e,t){var n=e.stateNode;if(n===null)return null;var r=tm(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Q(231,t,typeof n));return n}var tw=!1;if(Wi)try{var mc={};Object.defineProperty(mc,"passive",{get:function(){tw=!0}}),window.addEventListener("test",mc,mc),window.removeEventListener("test",mc,mc)}catch{tw=!1}function VU(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Vc=!1,$f=null,Lf=!1,nw=null,YU={onError:function(e){Vc=!0,$f=e}};function WU(e,t,n,r,i,s,a,o,l){Vc=!1,$f=null,VU.apply(YU,arguments)}function HU(e,t,n,r,i,s,a,o,l){if(WU.apply(this,arguments),Vc){if(Vc){var u=$f;Vc=!1,$f=null}else throw Error(Q(198));Lf||(Lf=!0,nw=u)}}function eo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function DT(e){if(eo(e)!==e)throw Error(Q(188))}function BU(e){var t=e.alternate;if(!t){if(t=eo(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return DT(i),e;if(s===r)return DT(i),t;s=s.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?e:t}function Bx(e){return e=BU(e),e!==null?Gx(e):null}function Gx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gx(e);if(t!==null)return t;e=e.sibling}return null}var qx=Xn.unstable_scheduleCallback,CT=Xn.unstable_cancelCallback,GU=Xn.unstable_shouldYield,qU=Xn.unstable_requestPaint,wt=Xn.unstable_now,KU=Xn.unstable_getCurrentPriorityLevel,J0=Xn.unstable_ImmediatePriority,Kx=Xn.unstable_UserBlockingPriority,jf=Xn.unstable_NormalPriority,QU=Xn.unstable_LowPriority,Qx=Xn.unstable_IdlePriority,Xp=null,ei=null;function XU(e){if(ei&&typeof ei.onCommitFiberRoot=="function")try{ei.onCommitFiberRoot(Xp,e,void 0,(e.current.flags&128)===128)}catch{}}var Ar=Math.clz32?Math.clz32:e4,JU=Math.log,ZU=Math.LN2;function e4(e){return e>>>=0,e===0?32:31-(JU(e)/ZU|0)|0}var bh=64,kh=4194304;function Mc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ff(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=Mc(o):(s&=a,s!==0&&(r=Mc(s)))}else a=n&~i,a!==0?r=Mc(a):s!==0&&(r=Mc(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ar(t),i=1<<n,r|=e[n],t&=~i;return r}function t4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n4(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Ar(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=t4(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function rw(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xx(){var e=bh;return bh<<=1,!(bh&4194240)&&(bh=64),e}function _v(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ad(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ar(t),e[t]=n}function r4(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ar(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Z0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ar(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ue=0;function Jx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zx,e_,eI,tI,nI,iw=!1,Dh=[],xs=null,Is=null,Ns=null,uu=new Map,du=new Map,ys=[],i4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xT(e,t){switch(e){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":uu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":du.delete(t.pointerId)}}function gc(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ld(t),t!==null&&e_(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function s4(e,t,n,r,i){switch(t){case"focusin":return xs=gc(xs,e,t,n,r,i),!0;case"dragenter":return Is=gc(Is,e,t,n,r,i),!0;case"mouseover":return Ns=gc(Ns,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return uu.set(s,gc(uu.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,du.set(s,gc(du.get(s)||null,e,t,n,r,i)),!0}return!1}function rI(e){var t=va(e.target);if(t!==null){var n=eo(t);if(n!==null){if(t=n.tag,t===13){if(t=Hx(n),t!==null){e.blockedOn=t,nI(e.priority,function(){eI(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function of(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sw(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Zy=r,n.target.dispatchEvent(r),Zy=null}else return t=ld(n),t!==null&&e_(t),e.blockedOn=n,!1;t.shift()}return!0}function IT(e,t,n){of(e)&&n.delete(t)}function a4(){iw=!1,xs!==null&&of(xs)&&(xs=null),Is!==null&&of(Is)&&(Is=null),Ns!==null&&of(Ns)&&(Ns=null),uu.forEach(IT),du.forEach(IT)}function vc(e,t){e.blockedOn===t&&(e.blockedOn=null,iw||(iw=!0,Xn.unstable_scheduleCallback(Xn.unstable_NormalPriority,a4)))}function hu(e){function t(i){return vc(i,e)}if(0<Dh.length){vc(Dh[0],e);for(var n=1;n<Dh.length;n++){var r=Dh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xs!==null&&vc(xs,e),Is!==null&&vc(Is,e),Ns!==null&&vc(Ns,e),uu.forEach(t),du.forEach(t),n=0;n<ys.length;n++)r=ys[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ys.length&&(n=ys[0],n.blockedOn===null);)rI(n),n.blockedOn===null&&ys.shift()}var Bo=rs.ReactCurrentBatchConfig,Uf=!0;function o4(e,t,n,r){var i=Ue,s=Bo.transition;Bo.transition=null;try{Ue=1,t_(e,t,n,r)}finally{Ue=i,Bo.transition=s}}function l4(e,t,n,r){var i=Ue,s=Bo.transition;Bo.transition=null;try{Ue=4,t_(e,t,n,r)}finally{Ue=i,Bo.transition=s}}function t_(e,t,n,r){if(Uf){var i=sw(e,t,n,r);if(i===null)Nv(e,t,r,zf,n),xT(e,r);else if(s4(i,e,t,n,r))r.stopPropagation();else if(xT(e,r),t&4&&-1<i4.indexOf(e)){for(;i!==null;){var s=ld(i);if(s!==null&&Zx(s),s=sw(e,t,n,r),s===null&&Nv(e,t,r,zf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Nv(e,t,r,null,n)}}var zf=null;function sw(e,t,n,r){if(zf=null,e=X0(r),e=va(e),e!==null)if(t=eo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Hx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zf=e,null}function iI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KU()){case J0:return 1;case Kx:return 4;case jf:case QU:return 16;case Qx:return 536870912;default:return 16}default:return 16}}var Ts=null,n_=null,lf=null;function sI(){if(lf)return lf;var e,t=n_,n=t.length,r,i="value"in Ts?Ts.value:Ts.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return lf=i.slice(e,1<r?1-r:void 0)}function cf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ch(){return!0}function NT(){return!1}function nr(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ch:NT,this.isPropagationStopped=NT,this}return dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ch)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ch)},persist:function(){},isPersistent:Ch}),t}var Ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},r_=nr(Ol),od=dt({},Ol,{view:0,detail:0}),c4=nr(od),Sv,Ev,yc,Jp=dt({},od,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yc&&(yc&&e.type==="mousemove"?(Sv=e.screenX-yc.screenX,Ev=e.screenY-yc.screenY):Ev=Sv=0,yc=e),Sv)},movementY:function(e){return"movementY"in e?e.movementY:Ev}}),OT=nr(Jp),u4=dt({},Jp,{dataTransfer:0}),d4=nr(u4),h4=dt({},od,{relatedTarget:0}),Tv=nr(h4),f4=dt({},Ol,{animationName:0,elapsedTime:0,pseudoElement:0}),p4=nr(f4),m4=dt({},Ol,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),g4=nr(m4),v4=dt({},Ol,{data:0}),MT=nr(v4),y4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_4[e])?!!t[e]:!1}function i_(){return S4}var E4=dt({},od,{key:function(e){if(e.key){var t=y4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?w4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i_,charCode:function(e){return e.type==="keypress"?cf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),T4=nr(E4),b4=dt({},Jp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),AT=nr(b4),k4=dt({},od,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i_}),D4=nr(k4),C4=dt({},Ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),x4=nr(C4),I4=dt({},Jp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),N4=nr(I4),O4=[9,13,27,32],s_=Wi&&"CompositionEvent"in window,Yc=null;Wi&&"documentMode"in document&&(Yc=document.documentMode);var M4=Wi&&"TextEvent"in window&&!Yc,aI=Wi&&(!s_||Yc&&8<Yc&&11>=Yc),RT=String.fromCharCode(32),PT=!1;function oI(e,t){switch(e){case"keyup":return O4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var No=!1;function A4(e,t){switch(e){case"compositionend":return lI(t);case"keypress":return t.which!==32?null:(PT=!0,RT);case"textInput":return e=t.data,e===RT&&PT?null:e;default:return null}}function R4(e,t){if(No)return e==="compositionend"||!s_&&oI(e,t)?(e=sI(),lf=n_=Ts=null,No=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return aI&&t.locale!=="ko"?null:t.data;default:return null}}var P4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $T(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!P4[e.type]:t==="textarea"}function cI(e,t,n,r){Ux(r),t=Vf(t,"onChange"),0<t.length&&(n=new r_("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wc=null,fu=null;function $4(e){_I(e,0)}function Zp(e){var t=Ao(e);if(Ax(t))return e}function L4(e,t){if(e==="change")return t}var uI=!1;if(Wi){var bv;if(Wi){var kv="oninput"in document;if(!kv){var LT=document.createElement("div");LT.setAttribute("oninput","return;"),kv=typeof LT.oninput=="function"}bv=kv}else bv=!1;uI=bv&&(!document.documentMode||9<document.documentMode)}function jT(){Wc&&(Wc.detachEvent("onpropertychange",dI),fu=Wc=null)}function dI(e){if(e.propertyName==="value"&&Zp(fu)){var t=[];cI(t,fu,e,X0(e)),Wx($4,t)}}function j4(e,t,n){e==="focusin"?(jT(),Wc=t,fu=n,Wc.attachEvent("onpropertychange",dI)):e==="focusout"&&jT()}function F4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zp(fu)}function U4(e,t){if(e==="click")return Zp(t)}function z4(e,t){if(e==="input"||e==="change")return Zp(t)}function V4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pr=typeof Object.is=="function"?Object.is:V4;function pu(e,t){if(Pr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zy.call(t,i)||!Pr(e[i],t[i]))return!1}return!0}function FT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function UT(e,t){var n=FT(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=FT(n)}}function hI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fI(){for(var e=window,t=Pf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Pf(e.document)}return t}function a_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Y4(e){var t=fI(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hI(n.ownerDocument.documentElement,n)){if(r!==null&&a_(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=UT(n,s);var a=UT(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var W4=Wi&&"documentMode"in document&&11>=document.documentMode,Oo=null,aw=null,Hc=null,ow=!1;function zT(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ow||Oo==null||Oo!==Pf(r)||(r=Oo,"selectionStart"in r&&a_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hc&&pu(Hc,r)||(Hc=r,r=Vf(aw,"onSelect"),0<r.length&&(t=new r_("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Oo)))}function xh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mo={animationend:xh("Animation","AnimationEnd"),animationiteration:xh("Animation","AnimationIteration"),animationstart:xh("Animation","AnimationStart"),transitionend:xh("Transition","TransitionEnd")},Dv={},pI={};Wi&&(pI=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function em(e){if(Dv[e])return Dv[e];if(!Mo[e])return e;var t=Mo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pI)return Dv[e]=t[n];return e}var mI=em("animationend"),gI=em("animationiteration"),vI=em("animationstart"),yI=em("transitionend"),wI=new Map,VT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ks(e,t){wI.set(e,t),Za(t,[e])}for(var Cv=0;Cv<VT.length;Cv++){var xv=VT[Cv],H4=xv.toLowerCase(),B4=xv[0].toUpperCase()+xv.slice(1);Ks(H4,"on"+B4)}Ks(mI,"onAnimationEnd");Ks(gI,"onAnimationIteration");Ks(vI,"onAnimationStart");Ks("dblclick","onDoubleClick");Ks("focusin","onFocus");Ks("focusout","onBlur");Ks(yI,"onTransitionEnd");sl("onMouseEnter",["mouseout","mouseover"]);sl("onMouseLeave",["mouseout","mouseover"]);sl("onPointerEnter",["pointerout","pointerover"]);sl("onPointerLeave",["pointerout","pointerover"]);Za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Za("onBeforeInput",["compositionend","keypress","textInput","paste"]);Za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ac));function YT(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,HU(r,t,void 0,e),e.currentTarget=null}function _I(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;YT(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;YT(i,o,u),s=l}}}if(Lf)throw e=nw,Lf=!1,nw=null,e}function Xe(e,t){var n=t[hw];n===void 0&&(n=t[hw]=new Set);var r=e+"__bubble";n.has(r)||(SI(t,e,2,!1),n.add(r))}function Iv(e,t,n){var r=0;t&&(r|=4),SI(n,e,r,t)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function mu(e){if(!e[Ih]){e[Ih]=!0,xx.forEach(function(n){n!=="selectionchange"&&(G4.has(n)||Iv(n,!1,e),Iv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ih]||(t[Ih]=!0,Iv("selectionchange",!1,t))}}function SI(e,t,n,r){switch(iI(t)){case 1:var i=o4;break;case 4:i=l4;break;default:i=t_}n=i.bind(null,t,n,e),i=void 0,!tw||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Nv(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=va(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}Wx(function(){var u=s,d=X0(n),f=[];e:{var p=wI.get(e);if(p!==void 0){var g=r_,S=e;switch(e){case"keypress":if(cf(n)===0)break e;case"keydown":case"keyup":g=T4;break;case"focusin":S="focus",g=Tv;break;case"focusout":S="blur",g=Tv;break;case"beforeblur":case"afterblur":g=Tv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=OT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=d4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=D4;break;case mI:case gI:case vI:g=p4;break;case yI:g=x4;break;case"scroll":g=c4;break;case"wheel":g=N4;break;case"copy":case"cut":case"paste":g=g4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=AT}var E=(t&4)!==0,T=!E&&e==="scroll",v=E?p!==null?p+"Capture":null:p;E=[];for(var w=u,b;w!==null;){b=w;var D=b.stateNode;if(b.tag===5&&D!==null&&(b=D,v!==null&&(D=cu(w,v),D!=null&&E.push(gu(w,D,b)))),T)break;w=w.return}0<E.length&&(p=new g(p,S,null,n,d),f.push({event:p,listeners:E}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&n!==Zy&&(S=n.relatedTarget||n.fromElement)&&(va(S)||S[Hi]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(S=n.relatedTarget||n.toElement,g=u,S=S?va(S):null,S!==null&&(T=eo(S),S!==T||S.tag!==5&&S.tag!==6)&&(S=null)):(g=null,S=u),g!==S)){if(E=OT,D="onMouseLeave",v="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(E=AT,D="onPointerLeave",v="onPointerEnter",w="pointer"),T=g==null?p:Ao(g),b=S==null?p:Ao(S),p=new E(D,w+"leave",g,n,d),p.target=T,p.relatedTarget=b,D=null,va(d)===u&&(E=new E(v,w+"enter",S,n,d),E.target=b,E.relatedTarget=T,D=E),T=D,g&&S)t:{for(E=g,v=S,w=0,b=E;b;b=So(b))w++;for(b=0,D=v;D;D=So(D))b++;for(;0<w-b;)E=So(E),w--;for(;0<b-w;)v=So(v),b--;for(;w--;){if(E===v||v!==null&&E===v.alternate)break t;E=So(E),v=So(v)}E=null}else E=null;g!==null&&WT(f,p,g,E,!1),S!==null&&T!==null&&WT(f,T,S,E,!0)}}e:{if(p=u?Ao(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var C=L4;else if($T(p))if(uI)C=z4;else{C=F4;var I=j4}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=U4);if(C&&(C=C(e,u))){cI(f,C,n,d);break e}I&&I(e,p,u),e==="focusout"&&(I=p._wrapperState)&&I.controlled&&p.type==="number"&&qy(p,"number",p.value)}switch(I=u?Ao(u):window,e){case"focusin":($T(I)||I.contentEditable==="true")&&(Oo=I,aw=u,Hc=null);break;case"focusout":Hc=aw=Oo=null;break;case"mousedown":ow=!0;break;case"contextmenu":case"mouseup":case"dragend":ow=!1,zT(f,n,d);break;case"selectionchange":if(W4)break;case"keydown":case"keyup":zT(f,n,d)}var N;if(s_)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else No?oI(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(aI&&n.locale!=="ko"&&(No||O!=="onCompositionStart"?O==="onCompositionEnd"&&No&&(N=sI()):(Ts=d,n_="value"in Ts?Ts.value:Ts.textContent,No=!0)),I=Vf(u,O),0<I.length&&(O=new MT(O,e,null,n,d),f.push({event:O,listeners:I}),N?O.data=N:(N=lI(n),N!==null&&(O.data=N)))),(N=M4?A4(e,n):R4(e,n))&&(u=Vf(u,"onBeforeInput"),0<u.length&&(d=new MT("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=N))}_I(f,t)})}function gu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vf(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=cu(e,n),s!=null&&r.unshift(gu(e,s,i)),s=cu(e,t),s!=null&&r.push(gu(e,s,i))),e=e.return}return r}function So(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function WT(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=cu(n,s),l!=null&&a.unshift(gu(n,l,o))):i||(l=cu(n,s),l!=null&&a.push(gu(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var q4=/\r\n?/g,K4=/\u0000|\uFFFD/g;function HT(e){return(typeof e=="string"?e:""+e).replace(q4,`
`).replace(K4,"")}function Nh(e,t,n){if(t=HT(t),HT(e)!==t&&n)throw Error(Q(425))}function Yf(){}var lw=null,cw=null;function uw(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dw=typeof setTimeout=="function"?setTimeout:void 0,Q4=typeof clearTimeout=="function"?clearTimeout:void 0,BT=typeof Promise=="function"?Promise:void 0,X4=typeof queueMicrotask=="function"?queueMicrotask:typeof BT<"u"?function(e){return BT.resolve(null).then(e).catch(J4)}:dw;function J4(e){setTimeout(function(){throw e})}function Ov(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),hu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hu(t)}function Os(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function GT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ml=Math.random().toString(36).slice(2),qr="__reactFiber$"+Ml,vu="__reactProps$"+Ml,Hi="__reactContainer$"+Ml,hw="__reactEvents$"+Ml,Z4="__reactListeners$"+Ml,ez="__reactHandles$"+Ml;function va(e){var t=e[qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hi]||n[qr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=GT(e);e!==null;){if(n=e[qr])return n;e=GT(e)}return t}e=n,n=e.parentNode}return null}function ld(e){return e=e[qr]||e[Hi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ao(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function tm(e){return e[vu]||null}var fw=[],Ro=-1;function Qs(e){return{current:e}}function nt(e){0>Ro||(e.current=fw[Ro],fw[Ro]=null,Ro--)}function qe(e,t){Ro++,fw[Ro]=e.current,e.current=t}var Ys={},mn=Qs(Ys),Pn=Qs(!1),Ra=Ys;function al(e,t){var n=e.type.contextTypes;if(!n)return Ys;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function $n(e){return e=e.childContextTypes,e!=null}function Wf(){nt(Pn),nt(mn)}function qT(e,t,n){if(mn.current!==Ys)throw Error(Q(168));qe(mn,t),qe(Pn,n)}function EI(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Q(108,jU(e)||"Unknown",i));return dt({},n,r)}function Hf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ys,Ra=mn.current,qe(mn,e),qe(Pn,Pn.current),!0}function KT(e,t,n){var r=e.stateNode;if(!r)throw Error(Q(169));n?(e=EI(e,t,Ra),r.__reactInternalMemoizedMergedChildContext=e,nt(Pn),nt(mn),qe(mn,e)):nt(Pn),qe(Pn,n)}var Mi=null,nm=!1,Mv=!1;function TI(e){Mi===null?Mi=[e]:Mi.push(e)}function tz(e){nm=!0,TI(e)}function Xs(){if(!Mv&&Mi!==null){Mv=!0;var e=0,t=Ue;try{var n=Mi;for(Ue=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Mi=null,nm=!1}catch(i){throw Mi!==null&&(Mi=Mi.slice(e+1)),qx(J0,Xs),i}finally{Ue=t,Mv=!1}}return null}var Po=[],$o=0,Bf=null,Gf=0,ar=[],or=0,Pa=null,Ai=1,Ri="";function ha(e,t){Po[$o++]=Gf,Po[$o++]=Bf,Bf=e,Gf=t}function bI(e,t,n){ar[or++]=Ai,ar[or++]=Ri,ar[or++]=Pa,Pa=e;var r=Ai;e=Ri;var i=32-Ar(r)-1;r&=~(1<<i),n+=1;var s=32-Ar(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ai=1<<32-Ar(t)+i|n<<i|r,Ri=s+e}else Ai=1<<s|n<<i|r,Ri=e}function o_(e){e.return!==null&&(ha(e,1),bI(e,1,0))}function l_(e){for(;e===Bf;)Bf=Po[--$o],Po[$o]=null,Gf=Po[--$o],Po[$o]=null;for(;e===Pa;)Pa=ar[--or],ar[or]=null,Ri=ar[--or],ar[or]=null,Ai=ar[--or],ar[or]=null}var qn=null,Bn=null,lt=!1,Ir=null;function kI(e,t){var n=dr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function QT(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qn=e,Bn=Os(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qn=e,Bn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Pa!==null?{id:Ai,overflow:Ri}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=dr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qn=e,Bn=null,!0):!1;default:return!1}}function pw(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mw(e){if(lt){var t=Bn;if(t){var n=t;if(!QT(e,t)){if(pw(e))throw Error(Q(418));t=Os(n.nextSibling);var r=qn;t&&QT(e,t)?kI(r,n):(e.flags=e.flags&-4097|2,lt=!1,qn=e)}}else{if(pw(e))throw Error(Q(418));e.flags=e.flags&-4097|2,lt=!1,qn=e}}}function XT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qn=e}function Oh(e){if(e!==qn)return!1;if(!lt)return XT(e),lt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!uw(e.type,e.memoizedProps)),t&&(t=Bn)){if(pw(e))throw DI(),Error(Q(418));for(;t;)kI(e,t),t=Os(t.nextSibling)}if(XT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Bn=Os(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Bn=null}}else Bn=qn?Os(e.stateNode.nextSibling):null;return!0}function DI(){for(var e=Bn;e;)e=Os(e.nextSibling)}function ol(){Bn=qn=null,lt=!1}function c_(e){Ir===null?Ir=[e]:Ir.push(e)}var nz=rs.ReactCurrentBatchConfig;function wc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,e))}return e}function Mh(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function JT(e){var t=e._init;return t(e._payload)}function CI(e){function t(v,w){if(e){var b=v.deletions;b===null?(v.deletions=[w],v.flags|=16):b.push(w)}}function n(v,w){if(!e)return null;for(;w!==null;)t(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=Ps(v,w),v.index=0,v.sibling=null,v}function s(v,w,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<w?(v.flags|=2,w):b):(v.flags|=2,w)):(v.flags|=1048576,w)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,w,b,D){return w===null||w.tag!==6?(w=Fv(b,v.mode,D),w.return=v,w):(w=i(w,b),w.return=v,w)}function l(v,w,b,D){var C=b.type;return C===Io?d(v,w,b.props.children,D,b.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===gs&&JT(C)===w.type)?(D=i(w,b.props),D.ref=wc(v,w,b),D.return=v,D):(D=gf(b.type,b.key,b.props,null,v.mode,D),D.ref=wc(v,w,b),D.return=v,D)}function u(v,w,b,D){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Uv(b,v.mode,D),w.return=v,w):(w=i(w,b.children||[]),w.return=v,w)}function d(v,w,b,D,C){return w===null||w.tag!==7?(w=xa(b,v.mode,D,C),w.return=v,w):(w=i(w,b),w.return=v,w)}function f(v,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Fv(""+w,v.mode,b),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Sh:return b=gf(w.type,w.key,w.props,null,v.mode,b),b.ref=wc(v,null,w),b.return=v,b;case xo:return w=Uv(w,v.mode,b),w.return=v,w;case gs:var D=w._init;return f(v,D(w._payload),b)}if(Oc(w)||pc(w))return w=xa(w,v.mode,b,null),w.return=v,w;Mh(v,w)}return null}function p(v,w,b,D){var C=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:o(v,w,""+b,D);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Sh:return b.key===C?l(v,w,b,D):null;case xo:return b.key===C?u(v,w,b,D):null;case gs:return C=b._init,p(v,w,C(b._payload),D)}if(Oc(b)||pc(b))return C!==null?null:d(v,w,b,D,null);Mh(v,b)}return null}function g(v,w,b,D,C){if(typeof D=="string"&&D!==""||typeof D=="number")return v=v.get(b)||null,o(w,v,""+D,C);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Sh:return v=v.get(D.key===null?b:D.key)||null,l(w,v,D,C);case xo:return v=v.get(D.key===null?b:D.key)||null,u(w,v,D,C);case gs:var I=D._init;return g(v,w,b,I(D._payload),C)}if(Oc(D)||pc(D))return v=v.get(b)||null,d(w,v,D,C,null);Mh(w,D)}return null}function S(v,w,b,D){for(var C=null,I=null,N=w,O=w=0,P=null;N!==null&&O<b.length;O++){N.index>O?(P=N,N=null):P=N.sibling;var x=p(v,N,b[O],D);if(x===null){N===null&&(N=P);break}e&&N&&x.alternate===null&&t(v,N),w=s(x,w,O),I===null?C=x:I.sibling=x,I=x,N=P}if(O===b.length)return n(v,N),lt&&ha(v,O),C;if(N===null){for(;O<b.length;O++)N=f(v,b[O],D),N!==null&&(w=s(N,w,O),I===null?C=N:I.sibling=N,I=N);return lt&&ha(v,O),C}for(N=r(v,N);O<b.length;O++)P=g(N,v,O,b[O],D),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?O:P.key),w=s(P,w,O),I===null?C=P:I.sibling=P,I=P);return e&&N.forEach(function(j){return t(v,j)}),lt&&ha(v,O),C}function E(v,w,b,D){var C=pc(b);if(typeof C!="function")throw Error(Q(150));if(b=C.call(b),b==null)throw Error(Q(151));for(var I=C=null,N=w,O=w=0,P=null,x=b.next();N!==null&&!x.done;O++,x=b.next()){N.index>O?(P=N,N=null):P=N.sibling;var j=p(v,N,x.value,D);if(j===null){N===null&&(N=P);break}e&&N&&j.alternate===null&&t(v,N),w=s(j,w,O),I===null?C=j:I.sibling=j,I=j,N=P}if(x.done)return n(v,N),lt&&ha(v,O),C;if(N===null){for(;!x.done;O++,x=b.next())x=f(v,x.value,D),x!==null&&(w=s(x,w,O),I===null?C=x:I.sibling=x,I=x);return lt&&ha(v,O),C}for(N=r(v,N);!x.done;O++,x=b.next())x=g(N,v,O,x.value,D),x!==null&&(e&&x.alternate!==null&&N.delete(x.key===null?O:x.key),w=s(x,w,O),I===null?C=x:I.sibling=x,I=x);return e&&N.forEach(function(K){return t(v,K)}),lt&&ha(v,O),C}function T(v,w,b,D){if(typeof b=="object"&&b!==null&&b.type===Io&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Sh:e:{for(var C=b.key,I=w;I!==null;){if(I.key===C){if(C=b.type,C===Io){if(I.tag===7){n(v,I.sibling),w=i(I,b.props.children),w.return=v,v=w;break e}}else if(I.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===gs&&JT(C)===I.type){n(v,I.sibling),w=i(I,b.props),w.ref=wc(v,I,b),w.return=v,v=w;break e}n(v,I);break}else t(v,I);I=I.sibling}b.type===Io?(w=xa(b.props.children,v.mode,D,b.key),w.return=v,v=w):(D=gf(b.type,b.key,b.props,null,v.mode,D),D.ref=wc(v,w,b),D.return=v,v=D)}return a(v);case xo:e:{for(I=b.key;w!==null;){if(w.key===I)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(v,w.sibling),w=i(w,b.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else t(v,w);w=w.sibling}w=Uv(b,v.mode,D),w.return=v,v=w}return a(v);case gs:return I=b._init,T(v,w,I(b._payload),D)}if(Oc(b))return S(v,w,b,D);if(pc(b))return E(v,w,b,D);Mh(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,b),w.return=v,v=w):(n(v,w),w=Fv(b,v.mode,D),w.return=v,v=w),a(v)):n(v,w)}return T}var ll=CI(!0),xI=CI(!1),qf=Qs(null),Kf=null,Lo=null,u_=null;function d_(){u_=Lo=Kf=null}function h_(e){var t=qf.current;nt(qf),e._currentValue=t}function gw(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Go(e,t){Kf=e,u_=Lo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Rn=!0),e.firstContext=null)}function fr(e){var t=e._currentValue;if(u_!==e)if(e={context:e,memoizedValue:t,next:null},Lo===null){if(Kf===null)throw Error(Q(308));Lo=e,Kf.dependencies={lanes:0,firstContext:e}}else Lo=Lo.next=e;return t}var ya=null;function f_(e){ya===null?ya=[e]:ya.push(e)}function II(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,f_(t)):(n.next=i.next,i.next=n),t.interleaved=n,Bi(e,r)}function Bi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var vs=!1;function p_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ms(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Bi(e,n)}return i=r.interleaved,i===null?(t.next=t,f_(r)):(t.next=i.next,i.next=t),r.interleaved=t,Bi(e,n)}function uf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Z0(e,n)}}function ZT(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qf(e,t,n,r){var i=e.updateQueue;vs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,d=u=l=null,o=s;do{var p=o.lane,g=o.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var S=e,E=o;switch(p=t,g=n,E.tag){case 1:if(S=E.payload,typeof S=="function"){f=S.call(g,f,p);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=E.payload,p=typeof S=="function"?S.call(g,f,p):S,p==null)break e;f=dt({},f,p);break e;case 2:vs=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else g={eventTime:g,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=g,l=f):d=d.next=g,a|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);La|=a,e.lanes=a,e.memoizedState=f}}function eb(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var cd={},ti=Qs(cd),yu=Qs(cd),wu=Qs(cd);function wa(e){if(e===cd)throw Error(Q(174));return e}function m_(e,t){switch(qe(wu,t),qe(yu,e),qe(ti,cd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qy(t,e)}nt(ti),qe(ti,t)}function cl(){nt(ti),nt(yu),nt(wu)}function OI(e){wa(wu.current);var t=wa(ti.current),n=Qy(t,e.type);t!==n&&(qe(yu,e),qe(ti,n))}function g_(e){yu.current===e&&(nt(ti),nt(yu))}var ct=Qs(0);function Xf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Av=[];function v_(){for(var e=0;e<Av.length;e++)Av[e]._workInProgressVersionPrimary=null;Av.length=0}var df=rs.ReactCurrentDispatcher,Rv=rs.ReactCurrentBatchConfig,$a=0,ut=null,xt=null,Lt=null,Jf=!1,Bc=!1,_u=0,rz=0;function tn(){throw Error(Q(321))}function y_(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pr(e[n],t[n]))return!1;return!0}function w_(e,t,n,r,i,s){if($a=s,ut=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,df.current=e===null||e.memoizedState===null?oz:lz,e=n(r,i),Bc){s=0;do{if(Bc=!1,_u=0,25<=s)throw Error(Q(301));s+=1,Lt=xt=null,t.updateQueue=null,df.current=cz,e=n(r,i)}while(Bc)}if(df.current=Zf,t=xt!==null&&xt.next!==null,$a=0,Lt=xt=ut=null,Jf=!1,t)throw Error(Q(300));return e}function __(){var e=_u!==0;return _u=0,e}function Gr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ut.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function pr(){if(xt===null){var e=ut.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=Lt===null?ut.memoizedState:Lt.next;if(t!==null)Lt=t,xt=e;else{if(e===null)throw Error(Q(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Lt===null?ut.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function Su(e,t){return typeof t=="function"?t(e):t}function Pv(e){var t=pr(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=xt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var d=u.lane;if(($a&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,a=r):l=l.next=f,ut.lanes|=d,La|=d}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,Pr(r,t.memoizedState)||(Rn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,ut.lanes|=s,La|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $v(e){var t=pr(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Pr(s,t.memoizedState)||(Rn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function MI(){}function AI(e,t){var n=ut,r=pr(),i=t(),s=!Pr(r.memoizedState,i);if(s&&(r.memoizedState=i,Rn=!0),r=r.queue,S_($I.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Lt!==null&&Lt.memoizedState.tag&1){if(n.flags|=2048,Eu(9,PI.bind(null,n,r,i,t),void 0,null),jt===null)throw Error(Q(349));$a&30||RI(n,t,i)}return i}function RI(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ut.updateQueue,t===null?(t={lastEffect:null,stores:null},ut.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function PI(e,t,n,r){t.value=n,t.getSnapshot=r,LI(t)&&jI(e)}function $I(e,t,n){return n(function(){LI(t)&&jI(e)})}function LI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pr(e,n)}catch{return!0}}function jI(e){var t=Bi(e,1);t!==null&&Rr(t,e,1,-1)}function tb(e){var t=Gr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Su,lastRenderedState:e},t.queue=e,e=e.dispatch=az.bind(null,ut,e),[t.memoizedState,e]}function Eu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ut.updateQueue,t===null?(t={lastEffect:null,stores:null},ut.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function FI(){return pr().memoizedState}function hf(e,t,n,r){var i=Gr();ut.flags|=e,i.memoizedState=Eu(1|t,n,void 0,r===void 0?null:r)}function rm(e,t,n,r){var i=pr();r=r===void 0?null:r;var s=void 0;if(xt!==null){var a=xt.memoizedState;if(s=a.destroy,r!==null&&y_(r,a.deps)){i.memoizedState=Eu(t,n,s,r);return}}ut.flags|=e,i.memoizedState=Eu(1|t,n,s,r)}function nb(e,t){return hf(8390656,8,e,t)}function S_(e,t){return rm(2048,8,e,t)}function UI(e,t){return rm(4,2,e,t)}function zI(e,t){return rm(4,4,e,t)}function VI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function YI(e,t,n){return n=n!=null?n.concat([e]):null,rm(4,4,VI.bind(null,t,e),n)}function E_(){}function WI(e,t){var n=pr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&y_(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function HI(e,t){var n=pr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&y_(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function BI(e,t,n){return $a&21?(Pr(n,t)||(n=Xx(),ut.lanes|=n,La|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rn=!0),e.memoizedState=n)}function iz(e,t){var n=Ue;Ue=n!==0&&4>n?n:4,e(!0);var r=Rv.transition;Rv.transition={};try{e(!1),t()}finally{Ue=n,Rv.transition=r}}function GI(){return pr().memoizedState}function sz(e,t,n){var r=Rs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qI(e))KI(t,n);else if(n=II(e,t,n,r),n!==null){var i=bn();Rr(n,e,r,i),QI(n,t,r)}}function az(e,t,n){var r=Rs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qI(e))KI(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Pr(o,a)){var l=t.interleaved;l===null?(i.next=i,f_(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=II(e,t,i,r),n!==null&&(i=bn(),Rr(n,e,r,i),QI(n,t,r))}}function qI(e){var t=e.alternate;return e===ut||t!==null&&t===ut}function KI(e,t){Bc=Jf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function QI(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Z0(e,n)}}var Zf={readContext:fr,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useInsertionEffect:tn,useLayoutEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useMutableSource:tn,useSyncExternalStore:tn,useId:tn,unstable_isNewReconciler:!1},oz={readContext:fr,useCallback:function(e,t){return Gr().memoizedState=[e,t===void 0?null:t],e},useContext:fr,useEffect:nb,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,hf(4194308,4,VI.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hf(4194308,4,e,t)},useInsertionEffect:function(e,t){return hf(4,2,e,t)},useMemo:function(e,t){var n=Gr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Gr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sz.bind(null,ut,e),[r.memoizedState,e]},useRef:function(e){var t=Gr();return e={current:e},t.memoizedState=e},useState:tb,useDebugValue:E_,useDeferredValue:function(e){return Gr().memoizedState=e},useTransition:function(){var e=tb(!1),t=e[0];return e=iz.bind(null,e[1]),Gr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ut,i=Gr();if(lt){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=t(),jt===null)throw Error(Q(349));$a&30||RI(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,nb($I.bind(null,r,s,e),[e]),r.flags|=2048,Eu(9,PI.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Gr(),t=jt.identifierPrefix;if(lt){var n=Ri,r=Ai;n=(r&~(1<<32-Ar(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=_u++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=rz++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lz={readContext:fr,useCallback:WI,useContext:fr,useEffect:S_,useImperativeHandle:YI,useInsertionEffect:UI,useLayoutEffect:zI,useMemo:HI,useReducer:Pv,useRef:FI,useState:function(){return Pv(Su)},useDebugValue:E_,useDeferredValue:function(e){var t=pr();return BI(t,xt.memoizedState,e)},useTransition:function(){var e=Pv(Su)[0],t=pr().memoizedState;return[e,t]},useMutableSource:MI,useSyncExternalStore:AI,useId:GI,unstable_isNewReconciler:!1},cz={readContext:fr,useCallback:WI,useContext:fr,useEffect:S_,useImperativeHandle:YI,useInsertionEffect:UI,useLayoutEffect:zI,useMemo:HI,useReducer:$v,useRef:FI,useState:function(){return $v(Su)},useDebugValue:E_,useDeferredValue:function(e){var t=pr();return xt===null?t.memoizedState=e:BI(t,xt.memoizedState,e)},useTransition:function(){var e=$v(Su)[0],t=pr().memoizedState;return[e,t]},useMutableSource:MI,useSyncExternalStore:AI,useId:GI,unstable_isNewReconciler:!1};function Cr(e,t){if(e&&e.defaultProps){t=dt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function vw(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:dt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var im={isMounted:function(e){return(e=e._reactInternals)?eo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=bn(),i=Rs(e),s=Ui(r,i);s.payload=t,n!=null&&(s.callback=n),t=Ms(e,s,i),t!==null&&(Rr(t,e,i,r),uf(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=bn(),i=Rs(e),s=Ui(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Ms(e,s,i),t!==null&&(Rr(t,e,i,r),uf(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bn(),r=Rs(e),i=Ui(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ms(e,i,r),t!==null&&(Rr(t,e,r,n),uf(t,e,r))}};function rb(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!pu(n,r)||!pu(i,s):!0}function XI(e,t,n){var r=!1,i=Ys,s=t.contextType;return typeof s=="object"&&s!==null?s=fr(s):(i=$n(t)?Ra:mn.current,r=t.contextTypes,s=(r=r!=null)?al(e,i):Ys),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=im,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ib(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&im.enqueueReplaceState(t,t.state,null)}function yw(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},p_(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=fr(s):(s=$n(t)?Ra:mn.current,i.context=al(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(vw(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&im.enqueueReplaceState(i,i.state,null),Qf(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ul(e,t){try{var n="",r=t;do n+=LU(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Lv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ww(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var uz=typeof WeakMap=="function"?WeakMap:Map;function JI(e,t,n){n=Ui(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){tp||(tp=!0,Iw=r),ww(e,t)},n}function ZI(e,t,n){n=Ui(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ww(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ww(e,t),typeof r!="function"&&(As===null?As=new Set([this]):As.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function sb(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new uz;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=bz.bind(null,e,t,n),t.then(e,e))}function ab(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ob(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ui(-1,1),t.tag=2,Ms(n,t,1))),n.lanes|=1),e)}var dz=rs.ReactCurrentOwner,Rn=!1;function _n(e,t,n,r){t.child=e===null?xI(t,null,n,r):ll(t,e.child,n,r)}function lb(e,t,n,r,i){n=n.render;var s=t.ref;return Go(t,i),r=w_(e,t,n,r,s,i),n=__(),e!==null&&!Rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gi(e,t,i)):(lt&&n&&o_(t),t.flags|=1,_n(e,t,r,i),t.child)}function cb(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!N_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,eN(e,t,s,r,i)):(e=gf(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:pu,n(a,r)&&e.ref===t.ref)return Gi(e,t,i)}return t.flags|=1,e=Ps(s,r),e.ref=t.ref,e.return=t,t.child=e}function eN(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(pu(s,r)&&e.ref===t.ref)if(Rn=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Rn=!0);else return t.lanes=e.lanes,Gi(e,t,i)}return _w(e,t,n,r,i)}function tN(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Fo,Yn),Yn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qe(Fo,Yn),Yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,qe(Fo,Yn),Yn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,qe(Fo,Yn),Yn|=r;return _n(e,t,i,n),t.child}function nN(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _w(e,t,n,r,i){var s=$n(n)?Ra:mn.current;return s=al(t,s),Go(t,i),n=w_(e,t,n,r,s,i),r=__(),e!==null&&!Rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gi(e,t,i)):(lt&&r&&o_(t),t.flags|=1,_n(e,t,n,i),t.child)}function ub(e,t,n,r,i){if($n(n)){var s=!0;Hf(t)}else s=!1;if(Go(t,i),t.stateNode===null)ff(e,t),XI(t,n,r),yw(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=fr(u):(u=$n(n)?Ra:mn.current,u=al(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&ib(t,a,r,u),vs=!1;var p=t.memoizedState;a.state=p,Qf(t,r,a,i),l=t.memoizedState,o!==r||p!==l||Pn.current||vs?(typeof d=="function"&&(vw(t,n,d,r),l=t.memoizedState),(o=vs||rb(t,n,o,r,p,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,NI(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Cr(t.type,o),a.props=u,f=t.pendingProps,p=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=fr(l):(l=$n(n)?Ra:mn.current,l=al(t,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||p!==l)&&ib(t,a,r,l),vs=!1,p=t.memoizedState,a.state=p,Qf(t,r,a,i);var S=t.memoizedState;o!==f||p!==S||Pn.current||vs?(typeof g=="function"&&(vw(t,n,g,r),S=t.memoizedState),(u=vs||rb(t,n,u,r,p,S,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,S,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,S,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),a.props=r,a.state=S,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Sw(e,t,n,r,s,i)}function Sw(e,t,n,r,i,s){nN(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&KT(t,n,!1),Gi(e,t,s);r=t.stateNode,dz.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ll(t,e.child,null,s),t.child=ll(t,null,o,s)):_n(e,t,o,s),t.memoizedState=r.state,i&&KT(t,n,!0),t.child}function rN(e){var t=e.stateNode;t.pendingContext?qT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qT(e,t.context,!1),m_(e,t.containerInfo)}function db(e,t,n,r,i){return ol(),c_(i),t.flags|=256,_n(e,t,n,r),t.child}var Ew={dehydrated:null,treeContext:null,retryLane:0};function Tw(e){return{baseLanes:e,cachePool:null,transitions:null}}function iN(e,t,n){var r=t.pendingProps,i=ct.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),qe(ct,i&1),e===null)return mw(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=om(a,r,0,null),e=xa(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Tw(n),t.memoizedState=Ew,e):T_(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return hz(e,t,a,r,o,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Ps(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Ps(o,s):(s=xa(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?Tw(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Ew,r}return s=e.child,e=s.sibling,r=Ps(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function T_(e,t){return t=om({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ah(e,t,n,r){return r!==null&&c_(r),ll(t,e.child,null,n),e=T_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hz(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=Lv(Error(Q(422))),Ah(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=om({mode:"visible",children:r.children},i,0,null),s=xa(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ll(t,e.child,null,a),t.child.memoizedState=Tw(a),t.memoizedState=Ew,s);if(!(t.mode&1))return Ah(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(Q(419)),r=Lv(s,r,void 0),Ah(e,t,a,r)}if(o=(a&e.childLanes)!==0,Rn||o){if(r=jt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Bi(e,i),Rr(r,e,i,-1))}return I_(),r=Lv(Error(Q(421))),Ah(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=kz.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Bn=Os(i.nextSibling),qn=t,lt=!0,Ir=null,e!==null&&(ar[or++]=Ai,ar[or++]=Ri,ar[or++]=Pa,Ai=e.id,Ri=e.overflow,Pa=t),t=T_(t,r.children),t.flags|=4096,t)}function hb(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),gw(e.return,t,n)}function jv(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function sN(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_n(e,t,r.children,n),r=ct.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hb(e,n,t);else if(e.tag===19)hb(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(qe(ct,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Xf(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),jv(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Xf(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}jv(t,!0,n,null,s);break;case"together":jv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ff(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),La|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,n=Ps(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ps(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fz(e,t,n){switch(t.tag){case 3:rN(t),ol();break;case 5:OI(t);break;case 1:$n(t.type)&&Hf(t);break;case 4:m_(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;qe(qf,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(qe(ct,ct.current&1),t.flags|=128,null):n&t.child.childLanes?iN(e,t,n):(qe(ct,ct.current&1),e=Gi(e,t,n),e!==null?e.sibling:null);qe(ct,ct.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return sN(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(ct,ct.current),r)break;return null;case 22:case 23:return t.lanes=0,tN(e,t,n)}return Gi(e,t,n)}var aN,bw,oN,lN;aN=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bw=function(){};oN=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,wa(ti.current);var s=null;switch(n){case"input":i=By(e,i),r=By(e,r),s=[];break;case"select":i=dt({},i,{value:void 0}),r=dt({},r,{value:void 0}),s=[];break;case"textarea":i=Ky(e,i),r=Ky(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Yf)}Xy(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ou.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ou.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Xe("scroll",e),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};lN=function(e,t,n,r){n!==r&&(t.flags|=4)};function _c(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pz(e,t,n){var r=t.pendingProps;switch(l_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(t),null;case 1:return $n(t.type)&&Wf(),nn(t),null;case 3:return r=t.stateNode,cl(),nt(Pn),nt(mn),v_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Oh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ir!==null&&(Mw(Ir),Ir=null))),bw(e,t),nn(t),null;case 5:g_(t);var i=wa(wu.current);if(n=t.type,e!==null&&t.stateNode!=null)oN(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Q(166));return nn(t),null}if(e=wa(ti.current),Oh(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[qr]=t,r[vu]=s,e=(t.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(i=0;i<Ac.length;i++)Xe(Ac[i],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":ST(r,s),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Xe("invalid",r);break;case"textarea":TT(r,s),Xe("invalid",r)}Xy(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Nh(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Nh(r.textContent,o,e),i=["children",""+o]):ou.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Xe("scroll",r)}switch(n){case"input":Eh(r),ET(r,s,!0);break;case"textarea":Eh(r),bT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Yf)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$x(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[qr]=t,e[vu]=r,aN(e,t,!1,!1),t.stateNode=e;e:{switch(a=Jy(n,r),n){case"dialog":Xe("cancel",e),Xe("close",e),i=r;break;case"iframe":case"object":case"embed":Xe("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ac.length;i++)Xe(Ac[i],e);i=r;break;case"source":Xe("error",e),i=r;break;case"img":case"image":case"link":Xe("error",e),Xe("load",e),i=r;break;case"details":Xe("toggle",e),i=r;break;case"input":ST(e,r),i=By(e,r),Xe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=dt({},r,{value:void 0}),Xe("invalid",e);break;case"textarea":TT(e,r),i=Ky(e,r),Xe("invalid",e);break;default:i=r}Xy(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Fx(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Lx(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&lu(e,l):typeof l=="number"&&lu(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ou.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Xe("scroll",e):l!=null&&G0(e,s,l,a))}switch(n){case"input":Eh(e),ET(e,r,!1);break;case"textarea":Eh(e),bT(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Vs(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Yo(e,!!r.multiple,s,!1):r.defaultValue!=null&&Yo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Yf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nn(t),null;case 6:if(e&&t.stateNode!=null)lN(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Q(166));if(n=wa(wu.current),wa(ti.current),Oh(t)){if(r=t.stateNode,n=t.memoizedProps,r[qr]=t,(s=r.nodeValue!==n)&&(e=qn,e!==null))switch(e.tag){case 3:Nh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Nh(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qr]=t,t.stateNode=r}return nn(t),null;case 13:if(nt(ct),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lt&&Bn!==null&&t.mode&1&&!(t.flags&128))DI(),ol(),t.flags|=98560,s=!1;else if(s=Oh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Q(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[qr]=t}else ol(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nn(t),s=!1}else Ir!==null&&(Mw(Ir),Ir=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ct.current&1?Nt===0&&(Nt=3):I_())),t.updateQueue!==null&&(t.flags|=4),nn(t),null);case 4:return cl(),bw(e,t),e===null&&mu(t.stateNode.containerInfo),nn(t),null;case 10:return h_(t.type._context),nn(t),null;case 17:return $n(t.type)&&Wf(),nn(t),null;case 19:if(nt(ct),s=t.memoizedState,s===null)return nn(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)_c(s,!1);else{if(Nt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Xf(e),a!==null){for(t.flags|=128,_c(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qe(ct,ct.current&1|2),t.child}e=e.sibling}s.tail!==null&&wt()>dl&&(t.flags|=128,r=!0,_c(s,!1),t.lanes=4194304)}else{if(!r)if(e=Xf(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_c(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!lt)return nn(t),null}else 2*wt()-s.renderingStartTime>dl&&n!==1073741824&&(t.flags|=128,r=!0,_c(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=wt(),t.sibling=null,n=ct.current,qe(ct,r?n&1|2:n&1),t):(nn(t),null);case 22:case 23:return x_(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Yn&1073741824&&(nn(t),t.subtreeFlags&6&&(t.flags|=8192)):nn(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function mz(e,t){switch(l_(t),t.tag){case 1:return $n(t.type)&&Wf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cl(),nt(Pn),nt(mn),v_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return g_(t),null;case 13:if(nt(ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));ol()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nt(ct),null;case 4:return cl(),null;case 10:return h_(t.type._context),null;case 22:case 23:return x_(),null;case 24:return null;default:return null}}var Rh=!1,on=!1,gz=typeof WeakSet=="function"?WeakSet:Set,ce=null;function jo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(e,t,r)}else n.current=null}function kw(e,t,n){try{n()}catch(r){pt(e,t,r)}}var fb=!1;function vz(e,t){if(lw=Uf,e=fI(),a_(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===e)break t;if(p===n&&++u===i&&(o=a),p===s&&++d===r&&(l=a),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cw={focusedElem:e,selectionRange:n},Uf=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var E=S.memoizedProps,T=S.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?E:Cr(t.type,E),T);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(D){pt(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return S=fb,fb=!1,S}function Gc(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&kw(t,n,s)}i=i.next}while(i!==r)}}function sm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Dw(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cN(e){var t=e.alternate;t!==null&&(e.alternate=null,cN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qr],delete t[vu],delete t[hw],delete t[Z4],delete t[ez])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uN(e){return e.tag===5||e.tag===3||e.tag===4}function pb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cw(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Yf));else if(r!==4&&(e=e.child,e!==null))for(Cw(e,t,n),e=e.sibling;e!==null;)Cw(e,t,n),e=e.sibling}function xw(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(xw(e,t,n),e=e.sibling;e!==null;)xw(e,t,n),e=e.sibling}var Wt=null,xr=!1;function hs(e,t,n){for(n=n.child;n!==null;)dN(e,t,n),n=n.sibling}function dN(e,t,n){if(ei&&typeof ei.onCommitFiberUnmount=="function")try{ei.onCommitFiberUnmount(Xp,n)}catch{}switch(n.tag){case 5:on||jo(n,t);case 6:var r=Wt,i=xr;Wt=null,hs(e,t,n),Wt=r,xr=i,Wt!==null&&(xr?(e=Wt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Wt.removeChild(n.stateNode));break;case 18:Wt!==null&&(xr?(e=Wt,n=n.stateNode,e.nodeType===8?Ov(e.parentNode,n):e.nodeType===1&&Ov(e,n),hu(e)):Ov(Wt,n.stateNode));break;case 4:r=Wt,i=xr,Wt=n.stateNode.containerInfo,xr=!0,hs(e,t,n),Wt=r,xr=i;break;case 0:case 11:case 14:case 15:if(!on&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&kw(n,t,a),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!on&&(jo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){pt(n,t,o)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:n.mode&1?(on=(r=on)||n.memoizedState!==null,hs(e,t,n),on=r):hs(e,t,n);break;default:hs(e,t,n)}}function mb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new gz),t.forEach(function(r){var i=Dz.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function kr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Wt=o.stateNode,xr=!1;break e;case 3:Wt=o.stateNode.containerInfo,xr=!0;break e;case 4:Wt=o.stateNode.containerInfo,xr=!0;break e}o=o.return}if(Wt===null)throw Error(Q(160));dN(s,a,i),Wt=null,xr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){pt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hN(t,e),t=t.sibling}function hN(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kr(t,e),Br(e),r&4){try{Gc(3,e,e.return),sm(3,e)}catch(E){pt(e,e.return,E)}try{Gc(5,e,e.return)}catch(E){pt(e,e.return,E)}}break;case 1:kr(t,e),Br(e),r&512&&n!==null&&jo(n,n.return);break;case 5:if(kr(t,e),Br(e),r&512&&n!==null&&jo(n,n.return),e.flags&32){var i=e.stateNode;try{lu(i,"")}catch(E){pt(e,e.return,E)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Rx(i,s),Jy(o,a);var u=Jy(o,s);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?Fx(i,f):d==="dangerouslySetInnerHTML"?Lx(i,f):d==="children"?lu(i,f):G0(i,d,f,u)}switch(o){case"input":Gy(i,s);break;case"textarea":Px(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Yo(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Yo(i,!!s.multiple,s.defaultValue,!0):Yo(i,!!s.multiple,s.multiple?[]:"",!1))}i[vu]=s}catch(E){pt(e,e.return,E)}}break;case 6:if(kr(t,e),Br(e),r&4){if(e.stateNode===null)throw Error(Q(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(E){pt(e,e.return,E)}}break;case 3:if(kr(t,e),Br(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hu(t.containerInfo)}catch(E){pt(e,e.return,E)}break;case 4:kr(t,e),Br(e);break;case 13:kr(t,e),Br(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(D_=wt())),r&4&&mb(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(on=(u=on)||d,kr(t,e),on=u):kr(t,e),Br(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ce=e,d=e.child;d!==null;){for(f=ce=d;ce!==null;){switch(p=ce,g=p.child,p.tag){case 0:case 11:case 14:case 15:Gc(4,p,p.return);break;case 1:jo(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(E){pt(r,n,E)}}break;case 5:jo(p,p.return);break;case 22:if(p.memoizedState!==null){vb(f);continue}}g!==null?(g.return=p,ce=g):vb(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=jx("display",a))}catch(E){pt(e,e.return,E)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(E){pt(e,e.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:kr(t,e),Br(e),r&4&&mb(e);break;case 21:break;default:kr(t,e),Br(e)}}function Br(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(uN(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(lu(i,""),r.flags&=-33);var s=pb(e);xw(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=pb(e);Cw(e,o,a);break;default:throw Error(Q(161))}}catch(l){pt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yz(e,t,n){ce=e,fN(e)}function fN(e,t,n){for(var r=(e.mode&1)!==0;ce!==null;){var i=ce,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Rh;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||on;o=Rh;var u=on;if(Rh=a,(on=l)&&!u)for(ce=i;ce!==null;)a=ce,l=a.child,a.tag===22&&a.memoizedState!==null?yb(i):l!==null?(l.return=a,ce=l):yb(i);for(;s!==null;)ce=s,fN(s),s=s.sibling;ce=i,Rh=o,on=u}gb(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ce=s):gb(e)}}function gb(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:on||sm(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!on)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Cr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&eb(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}eb(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&hu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}on||t.flags&512&&Dw(t)}catch(p){pt(t,t.return,p)}}if(t===e){ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,ce=n;break}ce=t.return}}function vb(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ce=n;break}ce=t.return}}function yb(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sm(4,t)}catch(l){pt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){pt(t,i,l)}}var s=t.return;try{Dw(t)}catch(l){pt(t,s,l)}break;case 5:var a=t.return;try{Dw(t)}catch(l){pt(t,a,l)}}}catch(l){pt(t,t.return,l)}if(t===e){ce=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ce=o;break}ce=t.return}}var wz=Math.ceil,ep=rs.ReactCurrentDispatcher,b_=rs.ReactCurrentOwner,hr=rs.ReactCurrentBatchConfig,Re=0,jt=null,bt=null,qt=0,Yn=0,Fo=Qs(0),Nt=0,Tu=null,La=0,am=0,k_=0,qc=null,Mn=null,D_=0,dl=1/0,Ii=null,tp=!1,Iw=null,As=null,Ph=!1,bs=null,np=0,Kc=0,Nw=null,pf=-1,mf=0;function bn(){return Re&6?wt():pf!==-1?pf:pf=wt()}function Rs(e){return e.mode&1?Re&2&&qt!==0?qt&-qt:nz.transition!==null?(mf===0&&(mf=Xx()),mf):(e=Ue,e!==0||(e=window.event,e=e===void 0?16:iI(e.type)),e):1}function Rr(e,t,n,r){if(50<Kc)throw Kc=0,Nw=null,Error(Q(185));ad(e,n,r),(!(Re&2)||e!==jt)&&(e===jt&&(!(Re&2)&&(am|=n),Nt===4&&ws(e,qt)),Ln(e,r),n===1&&Re===0&&!(t.mode&1)&&(dl=wt()+500,nm&&Xs()))}function Ln(e,t){var n=e.callbackNode;n4(e,t);var r=Ff(e,e===jt?qt:0);if(r===0)n!==null&&CT(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&CT(n),t===1)e.tag===0?tz(wb.bind(null,e)):TI(wb.bind(null,e)),X4(function(){!(Re&6)&&Xs()}),n=null;else{switch(Jx(r)){case 1:n=J0;break;case 4:n=Kx;break;case 16:n=jf;break;case 536870912:n=Qx;break;default:n=jf}n=SN(n,pN.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pN(e,t){if(pf=-1,mf=0,Re&6)throw Error(Q(327));var n=e.callbackNode;if(qo()&&e.callbackNode!==n)return null;var r=Ff(e,e===jt?qt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=rp(e,r);else{t=r;var i=Re;Re|=2;var s=gN();(jt!==e||qt!==t)&&(Ii=null,dl=wt()+500,Ca(e,t));do try{Ez();break}catch(o){mN(e,o)}while(1);d_(),ep.current=s,Re=i,bt!==null?t=0:(jt=null,qt=0,t=Nt)}if(t!==0){if(t===2&&(i=rw(e),i!==0&&(r=i,t=Ow(e,i))),t===1)throw n=Tu,Ca(e,0),ws(e,r),Ln(e,wt()),n;if(t===6)ws(e,r);else{if(i=e.current.alternate,!(r&30)&&!_z(i)&&(t=rp(e,r),t===2&&(s=rw(e),s!==0&&(r=s,t=Ow(e,s))),t===1))throw n=Tu,Ca(e,0),ws(e,r),Ln(e,wt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Q(345));case 2:fa(e,Mn,Ii);break;case 3:if(ws(e,r),(r&130023424)===r&&(t=D_+500-wt(),10<t)){if(Ff(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){bn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=dw(fa.bind(null,e,Mn,Ii),t);break}fa(e,Mn,Ii);break;case 4:if(ws(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Ar(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wz(r/1960))-r,10<r){e.timeoutHandle=dw(fa.bind(null,e,Mn,Ii),r);break}fa(e,Mn,Ii);break;case 5:fa(e,Mn,Ii);break;default:throw Error(Q(329))}}}return Ln(e,wt()),e.callbackNode===n?pN.bind(null,e):null}function Ow(e,t){var n=qc;return e.current.memoizedState.isDehydrated&&(Ca(e,t).flags|=256),e=rp(e,t),e!==2&&(t=Mn,Mn=n,t!==null&&Mw(t)),e}function Mw(e){Mn===null?Mn=e:Mn.push.apply(Mn,e)}function _z(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Pr(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ws(e,t){for(t&=~k_,t&=~am,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ar(t),r=1<<n;e[n]=-1,t&=~r}}function wb(e){if(Re&6)throw Error(Q(327));qo();var t=Ff(e,0);if(!(t&1))return Ln(e,wt()),null;var n=rp(e,t);if(e.tag!==0&&n===2){var r=rw(e);r!==0&&(t=r,n=Ow(e,r))}if(n===1)throw n=Tu,Ca(e,0),ws(e,t),Ln(e,wt()),n;if(n===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fa(e,Mn,Ii),Ln(e,wt()),null}function C_(e,t){var n=Re;Re|=1;try{return e(t)}finally{Re=n,Re===0&&(dl=wt()+500,nm&&Xs())}}function ja(e){bs!==null&&bs.tag===0&&!(Re&6)&&qo();var t=Re;Re|=1;var n=hr.transition,r=Ue;try{if(hr.transition=null,Ue=1,e)return e()}finally{Ue=r,hr.transition=n,Re=t,!(Re&6)&&Xs()}}function x_(){Yn=Fo.current,nt(Fo)}function Ca(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Q4(n)),bt!==null)for(n=bt.return;n!==null;){var r=n;switch(l_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wf();break;case 3:cl(),nt(Pn),nt(mn),v_();break;case 5:g_(r);break;case 4:cl();break;case 13:nt(ct);break;case 19:nt(ct);break;case 10:h_(r.type._context);break;case 22:case 23:x_()}n=n.return}if(jt=e,bt=e=Ps(e.current,null),qt=Yn=t,Nt=0,Tu=null,k_=am=La=0,Mn=qc=null,ya!==null){for(t=0;t<ya.length;t++)if(n=ya[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}ya=null}return e}function mN(e,t){do{var n=bt;try{if(d_(),df.current=Zf,Jf){for(var r=ut.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jf=!1}if($a=0,Lt=xt=ut=null,Bc=!1,_u=0,b_.current=null,n===null||n.return===null){Nt=1,Tu=t,bt=null;break}e:{var s=e,a=n.return,o=n,l=t;if(t=qt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=ab(a);if(g!==null){g.flags&=-257,ob(g,a,o,s,t),g.mode&1&&sb(s,u,t),t=g,l=u;var S=t.updateQueue;if(S===null){var E=new Set;E.add(l),t.updateQueue=E}else S.add(l);break e}else{if(!(t&1)){sb(s,u,t),I_();break e}l=Error(Q(426))}}else if(lt&&o.mode&1){var T=ab(a);if(T!==null){!(T.flags&65536)&&(T.flags|=256),ob(T,a,o,s,t),c_(ul(l,o));break e}}s=l=ul(l,o),Nt!==4&&(Nt=2),qc===null?qc=[s]:qc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=JI(s,l,t);ZT(s,v);break e;case 1:o=l;var w=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(As===null||!As.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var D=ZI(s,o,t);ZT(s,D);break e}}s=s.return}while(s!==null)}yN(n)}catch(C){t=C,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(1)}function gN(){var e=ep.current;return ep.current=Zf,e===null?Zf:e}function I_(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),jt===null||!(La&268435455)&&!(am&268435455)||ws(jt,qt)}function rp(e,t){var n=Re;Re|=2;var r=gN();(jt!==e||qt!==t)&&(Ii=null,Ca(e,t));do try{Sz();break}catch(i){mN(e,i)}while(1);if(d_(),Re=n,ep.current=r,bt!==null)throw Error(Q(261));return jt=null,qt=0,Nt}function Sz(){for(;bt!==null;)vN(bt)}function Ez(){for(;bt!==null&&!GU();)vN(bt)}function vN(e){var t=_N(e.alternate,e,Yn);e.memoizedProps=e.pendingProps,t===null?yN(e):bt=t,b_.current=null}function yN(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=mz(n,t),n!==null){n.flags&=32767,bt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Nt=6,bt=null;return}}else if(n=pz(n,t,Yn),n!==null){bt=n;return}if(t=t.sibling,t!==null){bt=t;return}bt=t=e}while(t!==null);Nt===0&&(Nt=5)}function fa(e,t,n){var r=Ue,i=hr.transition;try{hr.transition=null,Ue=1,Tz(e,t,n,r)}finally{hr.transition=i,Ue=r}return null}function Tz(e,t,n,r){do qo();while(bs!==null);if(Re&6)throw Error(Q(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(r4(e,s),e===jt&&(bt=jt=null,qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ph||(Ph=!0,SN(jf,function(){return qo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=hr.transition,hr.transition=null;var a=Ue;Ue=1;var o=Re;Re|=4,b_.current=null,vz(e,n),hN(n,e),Y4(cw),Uf=!!lw,cw=lw=null,e.current=n,yz(n),qU(),Re=o,Ue=a,hr.transition=s}else e.current=n;if(Ph&&(Ph=!1,bs=e,np=i),s=e.pendingLanes,s===0&&(As=null),XU(n.stateNode),Ln(e,wt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(tp)throw tp=!1,e=Iw,Iw=null,e;return np&1&&e.tag!==0&&qo(),s=e.pendingLanes,s&1?e===Nw?Kc++:(Kc=0,Nw=e):Kc=0,Xs(),null}function qo(){if(bs!==null){var e=Jx(np),t=hr.transition,n=Ue;try{if(hr.transition=null,Ue=16>e?16:e,bs===null)var r=!1;else{if(e=bs,bs=null,np=0,Re&6)throw Error(Q(331));var i=Re;for(Re|=4,ce=e.current;ce!==null;){var s=ce,a=s.child;if(ce.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ce=u;ce!==null;){var d=ce;switch(d.tag){case 0:case 11:case 15:Gc(8,d,s)}var f=d.child;if(f!==null)f.return=d,ce=f;else for(;ce!==null;){d=ce;var p=d.sibling,g=d.return;if(cN(d),d===u){ce=null;break}if(p!==null){p.return=g,ce=p;break}ce=g}}}var S=s.alternate;if(S!==null){var E=S.child;if(E!==null){S.child=null;do{var T=E.sibling;E.sibling=null,E=T}while(E!==null)}}ce=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ce=a;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gc(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,ce=v;break e}ce=s.return}}var w=e.current;for(ce=w;ce!==null;){a=ce;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ce=b;else e:for(a=w;ce!==null;){if(o=ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:sm(9,o)}}catch(C){pt(o,o.return,C)}if(o===a){ce=null;break e}var D=o.sibling;if(D!==null){D.return=o.return,ce=D;break e}ce=o.return}}if(Re=i,Xs(),ei&&typeof ei.onPostCommitFiberRoot=="function")try{ei.onPostCommitFiberRoot(Xp,e)}catch{}r=!0}return r}finally{Ue=n,hr.transition=t}}return!1}function _b(e,t,n){t=ul(n,t),t=JI(e,t,1),e=Ms(e,t,1),t=bn(),e!==null&&(ad(e,1,t),Ln(e,t))}function pt(e,t,n){if(e.tag===3)_b(e,e,n);else for(;t!==null;){if(t.tag===3){_b(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(As===null||!As.has(r))){e=ul(n,e),e=ZI(t,e,1),t=Ms(t,e,1),e=bn(),t!==null&&(ad(t,1,e),Ln(t,e));break}}t=t.return}}function bz(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=bn(),e.pingedLanes|=e.suspendedLanes&n,jt===e&&(qt&n)===n&&(Nt===4||Nt===3&&(qt&130023424)===qt&&500>wt()-D_?Ca(e,0):k_|=n),Ln(e,t)}function wN(e,t){t===0&&(e.mode&1?(t=kh,kh<<=1,!(kh&130023424)&&(kh=4194304)):t=1);var n=bn();e=Bi(e,t),e!==null&&(ad(e,t,n),Ln(e,n))}function kz(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wN(e,n)}function Dz(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(t),wN(e,n)}var _N;_N=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pn.current)Rn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Rn=!1,fz(e,t,n);Rn=!!(e.flags&131072)}else Rn=!1,lt&&t.flags&1048576&&bI(t,Gf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ff(e,t),e=t.pendingProps;var i=al(t,mn.current);Go(t,n),i=w_(null,t,r,e,i,n);var s=__();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$n(r)?(s=!0,Hf(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,p_(t),i.updater=im,t.stateNode=i,i._reactInternals=t,yw(t,r,e,n),t=Sw(null,t,r,!0,s,n)):(t.tag=0,lt&&s&&o_(t),_n(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ff(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=xz(r),e=Cr(r,e),i){case 0:t=_w(null,t,r,e,n);break e;case 1:t=ub(null,t,r,e,n);break e;case 11:t=lb(null,t,r,e,n);break e;case 14:t=cb(null,t,r,Cr(r.type,e),n);break e}throw Error(Q(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Cr(r,i),_w(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Cr(r,i),ub(e,t,r,i,n);case 3:e:{if(rN(t),e===null)throw Error(Q(387));r=t.pendingProps,s=t.memoizedState,i=s.element,NI(e,t),Qf(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ul(Error(Q(423)),t),t=db(e,t,r,n,i);break e}else if(r!==i){i=ul(Error(Q(424)),t),t=db(e,t,r,n,i);break e}else for(Bn=Os(t.stateNode.containerInfo.firstChild),qn=t,lt=!0,Ir=null,n=xI(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ol(),r===i){t=Gi(e,t,n);break e}_n(e,t,r,n)}t=t.child}return t;case 5:return OI(t),e===null&&mw(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,uw(r,i)?a=null:s!==null&&uw(r,s)&&(t.flags|=32),nN(e,t),_n(e,t,a,n),t.child;case 6:return e===null&&mw(t),null;case 13:return iN(e,t,n);case 4:return m_(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ll(t,null,r,n):_n(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Cr(r,i),lb(e,t,r,i,n);case 7:return _n(e,t,t.pendingProps,n),t.child;case 8:return _n(e,t,t.pendingProps.children,n),t.child;case 12:return _n(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,qe(qf,r._currentValue),r._currentValue=a,s!==null)if(Pr(s.value,a)){if(s.children===i.children&&!Pn.current){t=Gi(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ui(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),gw(s.return,n,t),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Q(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),gw(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}_n(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Go(t,n),i=fr(i),r=r(i),t.flags|=1,_n(e,t,r,n),t.child;case 14:return r=t.type,i=Cr(r,t.pendingProps),i=Cr(r.type,i),cb(e,t,r,i,n);case 15:return eN(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Cr(r,i),ff(e,t),t.tag=1,$n(r)?(e=!0,Hf(t)):e=!1,Go(t,n),XI(t,r,i),yw(t,r,i,n),Sw(null,t,r,!0,e,n);case 19:return sN(e,t,n);case 22:return tN(e,t,n)}throw Error(Q(156,t.tag))};function SN(e,t){return qx(e,t)}function Cz(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(e,t,n,r){return new Cz(e,t,n,r)}function N_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xz(e){if(typeof e=="function")return N_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===K0)return 11;if(e===Q0)return 14}return 2}function Ps(e,t){var n=e.alternate;return n===null?(n=dr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function gf(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")N_(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Io:return xa(n.children,i,s,t);case q0:a=8,i|=8;break;case Vy:return e=dr(12,n,t,i|2),e.elementType=Vy,e.lanes=s,e;case Yy:return e=dr(13,n,t,i),e.elementType=Yy,e.lanes=s,e;case Wy:return e=dr(19,n,t,i),e.elementType=Wy,e.lanes=s,e;case Ox:return om(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ix:a=10;break e;case Nx:a=9;break e;case K0:a=11;break e;case Q0:a=14;break e;case gs:a=16,r=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=dr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function xa(e,t,n,r){return e=dr(7,e,r,t),e.lanes=n,e}function om(e,t,n,r){return e=dr(22,e,r,t),e.elementType=Ox,e.lanes=n,e.stateNode={isHidden:!1},e}function Fv(e,t,n){return e=dr(6,e,null,t),e.lanes=n,e}function Uv(e,t,n){return t=dr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Iz(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_v(0),this.expirationTimes=_v(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_v(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function O_(e,t,n,r,i,s,a,o,l){return e=new Iz(e,t,n,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=dr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},p_(s),e}function Nz(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function EN(e){if(!e)return Ys;e=e._reactInternals;e:{if(eo(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($n(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var n=e.type;if($n(n))return EI(e,n,t)}return t}function TN(e,t,n,r,i,s,a,o,l){return e=O_(n,r,!0,e,i,s,a,o,l),e.context=EN(null),n=e.current,r=bn(),i=Rs(n),s=Ui(r,i),s.callback=t??null,Ms(n,s,i),e.current.lanes=i,ad(e,i,r),Ln(e,r),e}function lm(e,t,n,r){var i=t.current,s=bn(),a=Rs(i);return n=EN(n),t.context===null?t.context=n:t.pendingContext=n,t=Ui(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ms(i,t,a),e!==null&&(Rr(e,i,a,s),uf(e,i,a)),a}function ip(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function M_(e,t){Sb(e,t),(e=e.alternate)&&Sb(e,t)}function Oz(){return null}var bN=typeof reportError=="function"?reportError:function(e){console.error(e)};function A_(e){this._internalRoot=e}cm.prototype.render=A_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));lm(e,t,null,null)};cm.prototype.unmount=A_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ja(function(){lm(null,e,null,null)}),t[Hi]=null}};function cm(e){this._internalRoot=e}cm.prototype.unstable_scheduleHydration=function(e){if(e){var t=tI();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ys.length&&t!==0&&t<ys[n].priority;n++);ys.splice(n,0,e),n===0&&rI(e)}};function R_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function um(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Eb(){}function Mz(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ip(a);s.call(u)}}var a=TN(t,r,e,0,null,!1,!1,"",Eb);return e._reactRootContainer=a,e[Hi]=a.current,mu(e.nodeType===8?e.parentNode:e),ja(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=ip(l);o.call(u)}}var l=O_(e,0,!1,null,null,!1,!1,"",Eb);return e._reactRootContainer=l,e[Hi]=l.current,mu(e.nodeType===8?e.parentNode:e),ja(function(){lm(t,l,n,r)}),l}function dm(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=ip(a);o.call(l)}}lm(t,a,e,i)}else a=Mz(n,t,e,i,r);return ip(a)}Zx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mc(t.pendingLanes);n!==0&&(Z0(t,n|1),Ln(t,wt()),!(Re&6)&&(dl=wt()+500,Xs()))}break;case 13:ja(function(){var r=Bi(e,1);if(r!==null){var i=bn();Rr(r,e,1,i)}}),M_(e,1)}};e_=function(e){if(e.tag===13){var t=Bi(e,134217728);if(t!==null){var n=bn();Rr(t,e,134217728,n)}M_(e,134217728)}};eI=function(e){if(e.tag===13){var t=Rs(e),n=Bi(e,t);if(n!==null){var r=bn();Rr(n,e,t,r)}M_(e,t)}};tI=function(){return Ue};nI=function(e,t){var n=Ue;try{return Ue=e,t()}finally{Ue=n}};ew=function(e,t,n){switch(t){case"input":if(Gy(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=tm(r);if(!i)throw Error(Q(90));Ax(r),Gy(r,i)}}}break;case"textarea":Px(e,n);break;case"select":t=n.value,t!=null&&Yo(e,!!n.multiple,t,!1)}};Vx=C_;Yx=ja;var Az={usingClientEntryPoint:!1,Events:[ld,Ao,tm,Ux,zx,C_]},Sc={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rz={bundleType:Sc.bundleType,version:Sc.version,rendererPackageName:Sc.rendererPackageName,rendererConfig:Sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bx(e),e===null?null:e.stateNode},findFiberByHostInstance:Sc.findFiberByHostInstance||Oz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{Xp=$h.inject(Rz),ei=$h}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Az;tr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!R_(t))throw Error(Q(200));return Nz(e,t,null,n)};tr.createRoot=function(e,t){if(!R_(e))throw Error(Q(299));var n=!1,r="",i=bN;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=O_(e,1,!1,null,null,n,!1,r,i),e[Hi]=t.current,mu(e.nodeType===8?e.parentNode:e),new A_(t)};tr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=Bx(t),e=e===null?null:e.stateNode,e};tr.flushSync=function(e){return ja(e)};tr.hydrate=function(e,t,n){if(!um(t))throw Error(Q(200));return dm(null,e,t,!0,n)};tr.hydrateRoot=function(e,t,n){if(!R_(e))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=bN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=TN(t,null,e,1,n??null,i,!1,s,a),e[Hi]=t.current,mu(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new cm(t)};tr.render=function(e,t,n){if(!um(t))throw Error(Q(200));return dm(null,e,t,!1,n)};tr.unmountComponentAtNode=function(e){if(!um(e))throw Error(Q(40));return e._reactRootContainer?(ja(function(){dm(null,null,e,!1,function(){e._reactRootContainer=null,e[Hi]=null})}),!0):!1};tr.unstable_batchedUpdates=C_;tr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!um(n))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return dm(e,t,n,!1,r)};tr.version="18.3.1-next-f1338f8080-20240426";function kN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kN)}catch(e){console.error(e)}}kN(),kx.exports=tr;var DN=kx.exports;const CN=Cn(DN);var xN,Tb=DN;xN=Tb.createRoot,Tb.hydrateRoot;function sp(e,t){return sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},sp(e,t)}function $r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,sp(e,t)}var IN={exports:{}},Pz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$z=Pz,Lz=$z;function NN(){}function ON(){}ON.resetWarningCache=NN;var jz=function(){function e(r,i,s,a,o,l){if(l!==Lz){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ON,resetWarningCache:NN};return n.PropTypes=n,n};IN.exports=jz();var Fz=IN.exports;const te=Cn(Fz);function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke.apply(null,arguments)}function Lh(e){return e.charAt(0)==="/"}function zv(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function Uz(e,t){t===void 0&&(t="");var n=e&&e.split("/")||[],r=t&&t.split("/")||[],i=e&&Lh(e),s=t&&Lh(t),a=i||s;if(e&&Lh(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var o;if(r.length){var l=r[r.length-1];o=l==="."||l===".."||l===""}else o=!1;for(var u=0,d=r.length;d>=0;d--){var f=r[d];f==="."?zv(r,d):f===".."?(zv(r,d),u++):u&&(zv(r,d),u--)}if(!a)for(;u--;u)r.unshift("..");a&&r[0]!==""&&(!r[0]||!Lh(r[0]))&&r.unshift("");var p=r.join("/");return o&&p.substr(-1)!=="/"&&(p+="/"),p}function bb(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function vf(e,t){if(e===t)return!0;if(e==null||t==null)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(i,s){return vf(i,t[s])});if(typeof e=="object"||typeof t=="object"){var n=bb(e),r=bb(t);return n!==e||r!==t?vf(n,r):Object.keys(Object.assign({},e,t)).every(function(i){return vf(e[i],t[i])})}return!1}var zz=!0,Vv="Invariant failed";function Js(e,t){if(!e){if(zz)throw new Error(Vv);var n=typeof t=="function"?t():t,r=n?"".concat(Vv,": ").concat(n):Vv;throw new Error(r)}}function Qc(e){return e.charAt(0)==="/"?e:"/"+e}function kb(e){return e.charAt(0)==="/"?e.substr(1):e}function Vz(e,t){return e.toLowerCase().indexOf(t.toLowerCase())===0&&"/?#".indexOf(e.charAt(t.length))!==-1}function MN(e,t){return Vz(e,t)?e.substr(t.length):e}function AN(e){return e.charAt(e.length-1)==="/"?e.slice(0,-1):e}function Yz(e){var t=e||"/",n="",r="",i=t.indexOf("#");i!==-1&&(r=t.substr(i),t=t.substr(0,i));var s=t.indexOf("?");return s!==-1&&(n=t.substr(s),t=t.substr(0,s)),{pathname:t,search:n==="?"?"":n,hash:r==="#"?"":r}}function On(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function En(e,t,n,r){var i;typeof e=="string"?(i=Yz(e),i.state=t):(i=ke({},e),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",t!==void 0&&i.state===void 0&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(i.key=n),r?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=Uz(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function Wz(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&vf(e.state,t.state)}function P_(){var e=null;function t(a){return e=a,function(){e===a&&(e=null)}}function n(a,o,l,u){if(e!=null){var d=typeof e=="function"?e(a,o):e;typeof d=="string"?typeof l=="function"?l(d,u):u(!0):u(d!==!1)}else u(!0)}var r=[];function i(a){var o=!0;function l(){o&&a.apply(void 0,arguments)}return r.push(l),function(){o=!1,r=r.filter(function(u){return u!==l})}}function s(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];r.forEach(function(u){return u.apply(void 0,o)})}return{setPrompt:t,confirmTransitionTo:n,appendListener:i,notifyListeners:s}}var RN=!!(typeof window<"u"&&window.document&&window.document.createElement);function PN(e,t){t(window.confirm(e))}function Hz(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function Bz(){return window.navigator.userAgent.indexOf("Trident")===-1}function Gz(){return window.navigator.userAgent.indexOf("Firefox")===-1}function qz(e){return e.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var Db="popstate",Cb="hashchange";function xb(){try{return window.history.state||{}}catch{return{}}}function Kz(e){e===void 0&&(e={}),RN||Js(!1);var t=window.history,n=Hz(),r=!Bz(),i=e,s=i.forceRefresh,a=s===void 0?!1:s,o=i.getUserConfirmation,l=o===void 0?PN:o,u=i.keyLength,d=u===void 0?6:u,f=e.basename?AN(Qc(e.basename)):"";function p(Y){var V=Y||{},$=V.key,L=V.state,z=window.location,G=z.pathname,F=z.search,he=z.hash,ye=G+F+he;return f&&(ye=MN(ye,f)),En(ye,L,$)}function g(){return Math.random().toString(36).substr(2,d)}var S=P_();function E(Y){ke(B,Y),B.length=t.length,S.notifyListeners(B.location,B.action)}function T(Y){qz(Y)||b(p(Y.state))}function v(){b(p(xb()))}var w=!1;function b(Y){if(w)w=!1,E();else{var V="POP";S.confirmTransitionTo(Y,V,l,function($){$?E({action:V,location:Y}):D(Y)})}}function D(Y){var V=B.location,$=I.indexOf(V.key);$===-1&&($=0);var L=I.indexOf(Y.key);L===-1&&(L=0);var z=$-L;z&&(w=!0,x(z))}var C=p(xb()),I=[C.key];function N(Y){return f+On(Y)}function O(Y,V){var $="PUSH",L=En(Y,V,g(),B.location);S.confirmTransitionTo(L,$,l,function(z){if(z){var G=N(L),F=L.key,he=L.state;if(n)if(t.pushState({key:F,state:he},null,G),a)window.location.href=G;else{var ye=I.indexOf(B.location.key),be=I.slice(0,ye+1);be.push(L.key),I=be,E({action:$,location:L})}else window.location.href=G}})}function P(Y,V){var $="REPLACE",L=En(Y,V,g(),B.location);S.confirmTransitionTo(L,$,l,function(z){if(z){var G=N(L),F=L.key,he=L.state;if(n)if(t.replaceState({key:F,state:he},null,G),a)window.location.replace(G);else{var ye=I.indexOf(B.location.key);ye!==-1&&(I[ye]=L.key),E({action:$,location:L})}else window.location.replace(G)}})}function x(Y){t.go(Y)}function j(){x(-1)}function K(){x(1)}var W=0;function ne(Y){W+=Y,W===1&&Y===1?(window.addEventListener(Db,T),r&&window.addEventListener(Cb,v)):W===0&&(window.removeEventListener(Db,T),r&&window.removeEventListener(Cb,v))}var q=!1;function ee(Y){Y===void 0&&(Y=!1);var V=S.setPrompt(Y);return q||(ne(1),q=!0),function(){return q&&(q=!1,ne(-1)),V()}}function de(Y){var V=S.appendListener(Y);return ne(1),function(){ne(-1),V()}}var B={length:t.length,action:"POP",location:C,createHref:N,push:O,replace:P,go:x,goBack:j,goForward:K,block:ee,listen:de};return B}var Ib="hashchange",Qz={hashbang:{encodePath:function(t){return t.charAt(0)==="!"?t:"!/"+kb(t)},decodePath:function(t){return t.charAt(0)==="!"?t.substr(1):t}},noslash:{encodePath:kb,decodePath:Qc},slash:{encodePath:Qc,decodePath:Qc}};function $N(e){var t=e.indexOf("#");return t===-1?e:e.slice(0,t)}function Ec(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)}function Xz(e){window.location.hash=e}function Yv(e){window.location.replace($N(window.location.href)+"#"+e)}function Jz(e){e===void 0&&(e={}),RN||Js(!1);var t=window.history;Gz();var n=e,r=n.getUserConfirmation,i=r===void 0?PN:r,s=n.hashType,a=s===void 0?"slash":s,o=e.basename?AN(Qc(e.basename)):"",l=Qz[a],u=l.encodePath,d=l.decodePath;function f(){var V=d(Ec());return o&&(V=MN(V,o)),En(V)}var p=P_();function g(V){ke(Y,V),Y.length=t.length,p.notifyListeners(Y.location,Y.action)}var S=!1,E=null;function T(V,$){return V.pathname===$.pathname&&V.search===$.search&&V.hash===$.hash}function v(){var V=Ec(),$=u(V);if(V!==$)Yv($);else{var L=f(),z=Y.location;if(!S&&T(z,L)||E===On(L))return;E=null,w(L)}}function w(V){if(S)S=!1,g();else{var $="POP";p.confirmTransitionTo(V,$,i,function(L){L?g({action:$,location:V}):b(V)})}}function b(V){var $=Y.location,L=N.lastIndexOf(On($));L===-1&&(L=0);var z=N.lastIndexOf(On(V));z===-1&&(z=0);var G=L-z;G&&(S=!0,j(G))}var D=Ec(),C=u(D);D!==C&&Yv(C);var I=f(),N=[On(I)];function O(V){var $=document.querySelector("base"),L="";return $&&$.getAttribute("href")&&(L=$N(window.location.href)),L+"#"+u(o+On(V))}function P(V,$){var L="PUSH",z=En(V,void 0,void 0,Y.location);p.confirmTransitionTo(z,L,i,function(G){if(G){var F=On(z),he=u(o+F),ye=Ec()!==he;if(ye){E=F,Xz(he);var be=N.lastIndexOf(On(Y.location)),Vt=N.slice(0,be+1);Vt.push(F),N=Vt,g({action:L,location:z})}else g()}})}function x(V,$){var L="REPLACE",z=En(V,void 0,void 0,Y.location);p.confirmTransitionTo(z,L,i,function(G){if(G){var F=On(z),he=u(o+F),ye=Ec()!==he;ye&&(E=F,Yv(he));var be=N.indexOf(On(Y.location));be!==-1&&(N[be]=F),g({action:L,location:z})}})}function j(V){t.go(V)}function K(){j(-1)}function W(){j(1)}var ne=0;function q(V){ne+=V,ne===1&&V===1?window.addEventListener(Ib,v):ne===0&&window.removeEventListener(Ib,v)}var ee=!1;function de(V){V===void 0&&(V=!1);var $=p.setPrompt(V);return ee||(q(1),ee=!0),function(){return ee&&(ee=!1,q(-1)),$()}}function B(V){var $=p.appendListener(V);return q(1),function(){q(-1),$()}}var Y={length:t.length,action:"POP",location:I,createHref:O,push:P,replace:x,go:j,goBack:K,goForward:W,block:de,listen:B};return Y}function Nb(e,t,n){return Math.min(Math.max(e,t),n)}function Zz(e){e===void 0&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=r===void 0?["/"]:r,s=t.initialIndex,a=s===void 0?0:s,o=t.keyLength,l=o===void 0?6:o,u=P_();function d(O){ke(N,O),N.length=N.entries.length,u.notifyListeners(N.location,N.action)}function f(){return Math.random().toString(36).substr(2,l)}var p=Nb(a,0,i.length-1),g=i.map(function(O){return typeof O=="string"?En(O,void 0,f()):En(O,void 0,O.key||f())}),S=On;function E(O,P){var x="PUSH",j=En(O,P,f(),N.location);u.confirmTransitionTo(j,x,n,function(K){if(K){var W=N.index,ne=W+1,q=N.entries.slice(0);q.length>ne?q.splice(ne,q.length-ne,j):q.push(j),d({action:x,location:j,index:ne,entries:q})}})}function T(O,P){var x="REPLACE",j=En(O,P,f(),N.location);u.confirmTransitionTo(j,x,n,function(K){K&&(N.entries[N.index]=j,d({action:x,location:j}))})}function v(O){var P=Nb(N.index+O,0,N.entries.length-1),x="POP",j=N.entries[P];u.confirmTransitionTo(j,x,n,function(K){K?d({action:x,location:j,index:P}):d()})}function w(){v(-1)}function b(){v(1)}function D(O){var P=N.index+O;return P>=0&&P<N.entries.length}function C(O){return O===void 0&&(O=!1),u.setPrompt(O)}function I(O){return u.appendListener(O)}var N={length:g.length,action:"POP",location:g[p],index:p,entries:g,createHref:S,push:E,replace:T,go:v,goBack:w,goForward:b,canGo:D,block:C,listen:I};return N}var Al={exports:{}},eV=Array.isArray||function(e){return Object.prototype.toString.call(e)=="[object Array]"},ap=eV;Al.exports=FN;Al.exports.parse=$_;Al.exports.compile=rV;Al.exports.tokensToFunction=LN;Al.exports.tokensToRegExp=jN;var tV=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function $_(e,t){for(var n=[],r=0,i=0,s="",a=t&&t.delimiter||"/",o;(o=tV.exec(e))!=null;){var l=o[0],u=o[1],d=o.index;if(s+=e.slice(i,d),i=d+l.length,u){s+=u[1];continue}var f=e[i],p=o[2],g=o[3],S=o[4],E=o[5],T=o[6],v=o[7];s&&(n.push(s),s="");var w=p!=null&&f!=null&&f!==p,b=T==="+"||T==="*",D=T==="?"||T==="*",C=p||a,I=S||E,N=p||(typeof n[n.length-1]=="string"?n[n.length-1]:"");n.push({name:g||r++,prefix:p||"",delimiter:C,optional:D,repeat:b,partial:w,asterisk:!!v,pattern:I?aV(I):v?".*":nV(C,N)})}return i<e.length&&(s+=e.substr(i)),s&&n.push(s),n}function nV(e,t){return!t||t.indexOf(e)>-1?"[^"+_a(e)+"]+?":_a(t)+"|(?:(?!"+_a(t)+")[^"+_a(e)+"])+?"}function rV(e,t){return LN($_(e,t),t)}function iV(e){return encodeURI(e).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function sV(e){return encodeURI(e).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function LN(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)typeof e[r]=="object"&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",j_(t)));return function(i,s){for(var a="",o=i||{},l=s||{},u=l.pretty?iV:encodeURIComponent,d=0;d<e.length;d++){var f=e[d];if(typeof f=="string"){a+=f;continue}var p=o[f.name],g;if(p==null)if(f.optional){f.partial&&(a+=f.prefix);continue}else throw new TypeError('Expected "'+f.name+'" to be defined');if(ap(p)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(p.length===0){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var S=0;S<p.length;S++){if(g=u(p[S]),!n[d].test(g))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(g)+"`");a+=(S===0?f.prefix:f.delimiter)+g}continue}if(g=f.asterisk?sV(p):u(p),!n[d].test(g))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+g+'"');a+=f.prefix+g}return a}}function _a(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function aV(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function L_(e,t){return e.keys=t,e}function j_(e){return e&&e.sensitive?"":"i"}function oV(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return L_(e,t)}function lV(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(FN(e[i],t,n).source);var s=new RegExp("(?:"+r.join("|")+")",j_(n));return L_(s,t)}function cV(e,t,n){return jN($_(e,n),t,n)}function jN(e,t,n){ap(t)||(n=t||n,t=[]),n=n||{};for(var r=n.strict,i=n.end!==!1,s="",a=0;a<e.length;a++){var o=e[a];if(typeof o=="string")s+=_a(o);else{var l=_a(o.prefix),u="(?:"+o.pattern+")";t.push(o),o.repeat&&(u+="(?:"+l+u+")*"),o.optional?o.partial?u=l+"("+u+")?":u="(?:"+l+"("+u+"))?":u=l+"("+u+")",s+=u}}var d=_a(n.delimiter||"/"),f=s.slice(-d.length)===d;return r||(s=(f?s.slice(0,-d.length):s)+"(?:"+d+"(?=$))?"),i?s+="$":s+=r&&f?"":"(?="+d+"|$)",L_(new RegExp("^"+s,j_(n)),t)}function FN(e,t,n){return ap(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?oV(e,t):ap(e)?lV(e,t,n):cV(e,t,n)}var uV=Al.exports;const UN=Cn(uV);var zN={exports:{}},Ve={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ut=typeof Symbol=="function"&&Symbol.for,F_=Ut?Symbol.for("react.element"):60103,U_=Ut?Symbol.for("react.portal"):60106,hm=Ut?Symbol.for("react.fragment"):60107,fm=Ut?Symbol.for("react.strict_mode"):60108,pm=Ut?Symbol.for("react.profiler"):60114,mm=Ut?Symbol.for("react.provider"):60109,gm=Ut?Symbol.for("react.context"):60110,z_=Ut?Symbol.for("react.async_mode"):60111,vm=Ut?Symbol.for("react.concurrent_mode"):60111,ym=Ut?Symbol.for("react.forward_ref"):60112,wm=Ut?Symbol.for("react.suspense"):60113,dV=Ut?Symbol.for("react.suspense_list"):60120,_m=Ut?Symbol.for("react.memo"):60115,Sm=Ut?Symbol.for("react.lazy"):60116,hV=Ut?Symbol.for("react.block"):60121,fV=Ut?Symbol.for("react.fundamental"):60117,pV=Ut?Symbol.for("react.responder"):60118,mV=Ut?Symbol.for("react.scope"):60119;function rr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case F_:switch(e=e.type,e){case z_:case vm:case hm:case pm:case fm:case wm:return e;default:switch(e=e&&e.$$typeof,e){case gm:case ym:case Sm:case _m:case mm:return e;default:return t}}case U_:return t}}}function VN(e){return rr(e)===vm}Ve.AsyncMode=z_;Ve.ConcurrentMode=vm;Ve.ContextConsumer=gm;Ve.ContextProvider=mm;Ve.Element=F_;Ve.ForwardRef=ym;Ve.Fragment=hm;Ve.Lazy=Sm;Ve.Memo=_m;Ve.Portal=U_;Ve.Profiler=pm;Ve.StrictMode=fm;Ve.Suspense=wm;Ve.isAsyncMode=function(e){return VN(e)||rr(e)===z_};Ve.isConcurrentMode=VN;Ve.isContextConsumer=function(e){return rr(e)===gm};Ve.isContextProvider=function(e){return rr(e)===mm};Ve.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===F_};Ve.isForwardRef=function(e){return rr(e)===ym};Ve.isFragment=function(e){return rr(e)===hm};Ve.isLazy=function(e){return rr(e)===Sm};Ve.isMemo=function(e){return rr(e)===_m};Ve.isPortal=function(e){return rr(e)===U_};Ve.isProfiler=function(e){return rr(e)===pm};Ve.isStrictMode=function(e){return rr(e)===fm};Ve.isSuspense=function(e){return rr(e)===wm};Ve.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===hm||e===vm||e===pm||e===fm||e===wm||e===dV||typeof e=="object"&&e!==null&&(e.$$typeof===Sm||e.$$typeof===_m||e.$$typeof===mm||e.$$typeof===gm||e.$$typeof===ym||e.$$typeof===fV||e.$$typeof===pV||e.$$typeof===mV||e.$$typeof===hV)};Ve.typeOf=rr;zN.exports=Ve;var gV=zN.exports;function Zs(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var YN=gV,vV={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},yV={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},WN={};WN[YN.ForwardRef]=vV;WN[YN.Memo]=yV;var Wv=1073741823,Ob=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function wV(){var e="__global_unique_id__";return Ob[e]=(Ob[e]||0)+1}function _V(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function SV(e){var t=[];return{on:function(r){t.push(r)},off:function(r){t=t.filter(function(i){return i!==r})},get:function(){return e},set:function(r,i){e=r,t.forEach(function(s){return s(e,i)})}}}function EV(e){return Array.isArray(e)?e[0]:e}function TV(e,t){var n,r,i="__create-react-context-"+wV()+"__",s=function(o){$r(l,o);function l(){for(var d,f=arguments.length,p=new Array(f),g=0;g<f;g++)p[g]=arguments[g];return d=o.call.apply(o,[this].concat(p))||this,d.emitter=SV(d.props.value),d}var u=l.prototype;return u.getChildContext=function(){var f;return f={},f[i]=this.emitter,f},u.componentWillReceiveProps=function(f){if(this.props.value!==f.value){var p=this.props.value,g=f.value,S;_V(p,g)?S=0:(S=typeof t=="function"?t(p,g):Wv,S|=0,S!==0&&this.emitter.set(f.value,S))}},u.render=function(){return this.props.children},l}(A.Component);s.childContextTypes=(n={},n[i]=te.object.isRequired,n);var a=function(o){$r(l,o);function l(){for(var d,f=arguments.length,p=new Array(f),g=0;g<f;g++)p[g]=arguments[g];return d=o.call.apply(o,[this].concat(p))||this,d.observedBits=void 0,d.state={value:d.getValue()},d.onUpdate=function(S,E){var T=d.observedBits|0;T&E&&d.setState({value:d.getValue()})},d}var u=l.prototype;return u.componentWillReceiveProps=function(f){var p=f.observedBits;this.observedBits=p??Wv},u.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var f=this.props.observedBits;this.observedBits=f??Wv},u.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},u.getValue=function(){return this.context[i]?this.context[i].get():e},u.render=function(){return EV(this.props.children)(this.state.value)},l}(A.Component);return a.contextTypes=(r={},r[i]=te.object,r),{Provider:s,Consumer:a}}var bV=A.createContext||TV,HN=function(t){var n=bV();return n.displayName=t,n},BN=HN("Router-History"),qi=HN("Router"),Em=function(e){$r(t,e),t.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function t(r){var i;return i=e.call(this,r)||this,i.state={location:r.history.location},i._isMounted=!1,i._pendingLocation=null,r.staticContext||(i.unlisten=r.history.listen(function(s){i._pendingLocation=s})),i}var n=t.prototype;return n.componentDidMount=function(){var i=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(s){i._isMounted&&i.setState({location:s})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return A.createElement(qi.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},A.createElement(BN.Provider,{children:this.props.children||null,value:this.props.history}))},t}(A.Component);A.Component;var kV=function(e){$r(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(i){this.props.onUpdate&&this.props.onUpdate.call(this,this,i)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(A.Component),Hv={},DV=1e4,Mb=0;function CV(e){if(Hv[e])return Hv[e];var t=UN.compile(e);return Mb<DV&&(Hv[e]=t,Mb++),t}function Ab(e,t){return e===void 0&&(e="/"),t===void 0&&(t={}),e==="/"?e:CV(e)(t,{pretty:!0})}function GN(e){var t=e.computedMatch,n=e.to,r=e.push,i=r===void 0?!1:r;return A.createElement(qi.Consumer,null,function(s){s||Js(!1);var a=s.history,o=s.staticContext,l=i?a.push:a.replace,u=En(t?typeof n=="string"?Ab(n,t.params):ke({},n,{pathname:Ab(n.pathname,t.params)}):n);return o?(l(u),null):A.createElement(kV,{onMount:function(){l(u)},onUpdate:function(f,p){var g=En(p.to);Wz(g,ke({},u,{key:g.key}))||l(u)},to:n})})}var Rb={},xV=1e4,Pb=0;function IV(e,t){var n=""+t.end+t.strict+t.sensitive,r=Rb[n]||(Rb[n]={});if(r[e])return r[e];var i=[],s=UN(e,i,t),a={regexp:s,keys:i};return Pb<xV&&(r[e]=a,Pb++),a}function V_(e,t){t===void 0&&(t={}),(typeof t=="string"||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,s=i===void 0?!1:i,a=n.strict,o=a===void 0?!1:a,l=n.sensitive,u=l===void 0?!1:l,d=[].concat(r);return d.reduce(function(f,p){if(!p&&p!=="")return null;if(f)return f;var g=IV(p,{end:s,strict:o,sensitive:u}),S=g.regexp,E=g.keys,T=S.exec(e);if(!T)return null;var v=T[0],w=T.slice(1),b=e===v;return s&&!b?null:{path:p,url:p==="/"&&v===""?"/":v,isExact:b,params:E.reduce(function(D,C,I){return D[C.name]=w[I],D},{})}},null)}function NV(e){return A.Children.count(e)===0}var Dr=function(e){$r(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var i=this;return A.createElement(qi.Consumer,null,function(s){s||Js(!1);var a=i.props.location||s.location,o=i.props.computedMatch?i.props.computedMatch:i.props.path?V_(a.pathname,i.props):s.match,l=ke({},s,{location:a,match:o}),u=i.props,d=u.children,f=u.component,p=u.render;return Array.isArray(d)&&NV(d)&&(d=null),A.createElement(qi.Provider,{value:l},l.match?d?typeof d=="function"?d(l):d:f?A.createElement(f,l):p?p(l):null:typeof d=="function"?d(l):null)})},t}(A.Component);function Y_(e){return e.charAt(0)==="/"?e:"/"+e}function OV(e,t){return e?ke({},t,{pathname:Y_(e)+t.pathname}):t}function MV(e,t){if(!e)return t;var n=Y_(e);return t.pathname.indexOf(n)!==0?t:ke({},t,{pathname:t.pathname.substr(n.length)})}function $b(e){return typeof e=="string"?e:On(e)}function Bv(e){return function(){Js(!1)}}function Lb(){}A.Component;var AV=function(e){$r(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.render=function(){var i=this;return A.createElement(qi.Consumer,null,function(s){s||Js(!1);var a=i.props.location||s.location,o,l;return A.Children.forEach(i.props.children,function(u){if(l==null&&A.isValidElement(u)){o=u;var d=u.props.path||u.props.from;l=d?V_(a.pathname,ke({},u.props,{path:d})):s.match}}),l?A.cloneElement(o,{location:a,computedMatch:l}):null})},t}(A.Component),W_=A.useContext;function H_(){return W_(BN)}function RV(){return W_(qi).location}function qN(){var e=W_(qi).match;return e?e.params:{}}var PV=function(e){$r(t,e);function t(){for(var r,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r=e.call.apply(e,[this].concat(s))||this,r.history=Kz(r.props),r}var n=t.prototype;return n.render=function(){return A.createElement(Em,{history:this.history,children:this.props.children})},t}(A.Component);A.Component;var Aw=function(t,n){return typeof t=="function"?t(n):t},Rw=function(t,n){return typeof t=="string"?En(t,null,null,n):t},B_=function(t){return t},hl=A.forwardRef;typeof hl>"u"&&(hl=B_);function $V(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var LV=hl(function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,s=Zs(e,["innerRef","navigate","onClick"]),a=s.target,o=ke({},s,{onClick:function(u){try{i&&i(u)}catch(d){throw u.preventDefault(),d}!u.defaultPrevented&&u.button===0&&(!a||a==="_self")&&!$V(u)&&(u.preventDefault(),r())}});return B_!==hl?o.ref=t||n:o.ref=n,A.createElement("a",o)}),Gt=hl(function(e,t){var n=e.component,r=n===void 0?LV:n,i=e.replace,s=e.to,a=e.innerRef,o=Zs(e,["component","replace","to","innerRef"]);return A.createElement(qi.Consumer,null,function(l){l||Js(!1);var u=l.history,d=Rw(Aw(s,l.location),l.location),f=d?u.createHref(d):"",p=ke({},o,{href:f,navigate:function(){var S=Aw(s,l.location),E=On(l.location)===On(Rw(S)),T=i||E?u.replace:u.push;T(S)}});return B_!==hl?p.ref=t||a:p.innerRef=a,A.createElement(r,p)})}),KN=function(t){return t},op=A.forwardRef;typeof op>"u"&&(op=KN);function jV(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(r){return r}).join(" ")}var fs=op(function(e,t){var n=e["aria-current"],r=n===void 0?"page":n,i=e.activeClassName,s=i===void 0?"active":i,a=e.activeStyle,o=e.className,l=e.exact,u=e.isActive,d=e.location,f=e.sensitive,p=e.strict,g=e.style,S=e.to,E=e.innerRef,T=Zs(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return A.createElement(qi.Consumer,null,function(v){v||Js(!1);var w=d||v.location,b=Rw(Aw(S,w),w),D=b.pathname,C=D&&D.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),I=C?V_(w.pathname,{path:C,exact:l,sensitive:f,strict:p}):null,N=!!(u?u(I,w):I),O=typeof o=="function"?o(N):o,P=typeof g=="function"?g(N):g;N&&(O=jV(O,s),P=ke({},P,a));var x=ke({"aria-current":N&&r||null,className:O,style:P,to:b},T);return KN!==op?x.ref=t||E:x.innerRef=E,A.createElement(Gt,x)})});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},FV=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],a=e[n++],o=e[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},XN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],a=i+1<e.length,o=a?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,d=s>>2,f=(s&3)<<4|o>>4;let p=(o&15)<<2|u>>6,g=u&63;l||(g=64,a||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(QN(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):FV(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const f=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||o==null||u==null||f==null)throw new UV;const p=s<<2|o>>4;if(r.push(p),u!==64){const g=o<<4&240|u>>2;if(r.push(g),f!==64){const S=u<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class UV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zV=function(e){const t=QN(e);return XN.encodeByteArray(t,!0)},lp=function(e){return zV(e).replace(/\./g,"")},JN=function(e){try{return XN.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=()=>VV().__FIREBASE_DEFAULTS__,WV=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},HV=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&JN(e[1]);return t&&JSON.parse(t)},G_=()=>{try{return YV()||WV()||HV()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ZN=e=>{var t,n;return(n=(t=G_())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},eO=e=>{const t=ZN(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},tO=()=>{var e;return(e=G_())===null||e===void 0?void 0:e.config},nO=e=>{var t;return(t=G_())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),o="";return[lp(JSON.stringify(n)),lp(JSON.stringify(a)),o].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function iO(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function qV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KV(){const e=gn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function sO(){try{return typeof indexedDB=="object"}catch{return!1}}function aO(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function QV(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV="FirebaseError";class wr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=XV,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,to.prototype.create)}}class to{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],a=s?JV(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new wr(i,o,r)}}function JV(e,t){return e.replace(ZV,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const ZV=/\{\$([^}]+)}/g;function e3(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function bu(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],a=t[i];if(jb(s)&&jb(a)){if(!bu(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function jb(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function t3(e,t){const n=new n3(e,t);return n.subscribe.bind(n)}class n3{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");r3(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Gv),i.error===void 0&&(i.error=Gv),i.complete===void 0&&(i.complete=Gv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function r3(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Gv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=1e3,s3=2,a3=4*60*60*1e3,o3=.5;function Fb(e,t=i3,n=s3){const r=t*Math.pow(n,e),i=Math.round(o3*r*(Math.random()-.5)*2);return Math.min(a3,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(e){return e&&e._delegate?e._delegate:e}class mr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new BV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(u3(t))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=pa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=pa){return this.instances.has(t)}getOptions(t=pa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&t(a,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c3(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=pa){return this.component?this.component.multipleInstances?t:pa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c3(e){return e===pa?void 0:e}function u3(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new l3(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})($e||($e={}));const h3={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},f3=$e.INFO,p3={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},m3=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=p3[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tm{constructor(t){this.name=t,this._logLevel=f3,this._logHandler=m3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in $e))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?h3[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...t),this._logHandler(this,$e.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...t),this._logHandler(this,$e.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...t),this._logHandler(this,$e.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...t),this._logHandler(this,$e.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...t),this._logHandler(this,$e.ERROR,...t)}}const g3=(e,t)=>t.some(n=>e instanceof n);let Ub,zb;function v3(){return Ub||(Ub=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function y3(){return zb||(zb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oO=new WeakMap,Pw=new WeakMap,lO=new WeakMap,qv=new WeakMap,q_=new WeakMap;function w3(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n($s(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&oO.set(n,e)}).catch(()=>{}),q_.set(t,e),t}function _3(e){if(Pw.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});Pw.set(e,t)}let $w={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Pw.get(e);if(t==="objectStoreNames")return e.objectStoreNames||lO.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function S3(e){$w=e($w)}function E3(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Kv(this),t,...n);return lO.set(r,t.sort?t.sort():[t]),$s(r)}:y3().includes(e)?function(...t){return e.apply(Kv(this),t),$s(oO.get(this))}:function(...t){return $s(e.apply(Kv(this),t))}}function T3(e){return typeof e=="function"?E3(e):(e instanceof IDBTransaction&&_3(e),g3(e,v3())?new Proxy(e,$w):e)}function $s(e){if(e instanceof IDBRequest)return w3(e);if(qv.has(e))return qv.get(e);const t=T3(e);return t!==e&&(qv.set(e,t),q_.set(t,e)),t}const Kv=e=>q_.get(e);function b3(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(e,t),o=$s(a);return r&&a.addEventListener("upgradeneeded",l=>{r($s(a.result),l.oldVersion,l.newVersion,$s(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const k3=["get","getKey","getAll","getAllKeys","count"],D3=["put","add","delete","clear"],Qv=new Map;function Vb(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Qv.get(t))return Qv.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=D3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||k3.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return Qv.set(t,s),s}S3(e=>({...e,get:(t,n,r)=>Vb(t,n)||e.get(t,n,r),has:(t,n)=>!!Vb(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(x3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function x3(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Lw="@firebase/app",Yb="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new Tm("@firebase/app"),I3="@firebase/app-compat",N3="@firebase/analytics-compat",O3="@firebase/analytics",M3="@firebase/app-check-compat",A3="@firebase/app-check",R3="@firebase/auth",P3="@firebase/auth-compat",$3="@firebase/database",L3="@firebase/database-compat",j3="@firebase/functions",F3="@firebase/functions-compat",U3="@firebase/installations",z3="@firebase/installations-compat",V3="@firebase/messaging",Y3="@firebase/messaging-compat",W3="@firebase/performance",H3="@firebase/performance-compat",B3="@firebase/remote-config",G3="@firebase/remote-config-compat",q3="@firebase/storage",K3="@firebase/storage-compat",Q3="@firebase/firestore",X3="@firebase/firestore-compat",J3="firebase",Z3="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="[DEFAULT]",eY={[Lw]:"fire-core",[I3]:"fire-core-compat",[O3]:"fire-analytics",[N3]:"fire-analytics-compat",[A3]:"fire-app-check",[M3]:"fire-app-check-compat",[R3]:"fire-auth",[P3]:"fire-auth-compat",[$3]:"fire-rtdb",[L3]:"fire-rtdb-compat",[j3]:"fire-fn",[F3]:"fire-fn-compat",[U3]:"fire-iid",[z3]:"fire-iid-compat",[V3]:"fire-fcm",[Y3]:"fire-fcm-compat",[W3]:"fire-perf",[H3]:"fire-perf-compat",[B3]:"fire-rc",[G3]:"fire-rc-compat",[q3]:"fire-gcs",[K3]:"fire-gcs-compat",[Q3]:"fire-fst",[X3]:"fire-fst-compat","fire-js":"fire-js",[J3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=new Map,Fw=new Map;function tY(e,t){try{e.container.addComponent(t)}catch(n){Fa.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Lr(e){const t=e.name;if(Fw.has(t))return Fa.debug(`There were multiple attempts to register component ${t}.`),!1;Fw.set(t,e);for(const n of cp.values())tY(n,e);return!0}function ea(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ls=new to("app","Firebase",nY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rY{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=Z3;function cO(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:jw,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw Ls.create("bad-app-name",{appName:String(i)});if(n||(n=tO()),!n)throw Ls.create("no-options");const s=cp.get(i);if(s){if(bu(n,s.options)&&bu(r,s.config))return s;throw Ls.create("duplicate-app",{appName:i})}const a=new d3(i);for(const l of Fw.values())a.addComponent(l);const o=new rY(n,r,a);return cp.set(i,o),o}function bm(e=jw){const t=cp.get(e);if(!t&&e===jw&&tO())return cO();if(!t)throw Ls.create("no-app",{appName:e});return t}function jn(e,t,n){var r;let i=(r=eY[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${t}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fa.warn(o.join(" "));return}Lr(new mr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iY="firebase-heartbeat-database",sY=1,ku="firebase-heartbeat-store";let Xv=null;function uO(){return Xv||(Xv=b3(iY,sY,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ku)}}}).catch(e=>{throw Ls.create("idb-open",{originalErrorMessage:e.message})})),Xv}async function aY(e){try{return await(await uO()).transaction(ku).objectStore(ku).get(dO(e))}catch(t){if(t instanceof wr)Fa.warn(t.message);else{const n=Ls.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Fa.warn(n.message)}}}async function Wb(e,t){try{const r=(await uO()).transaction(ku,"readwrite");await r.objectStore(ku).put(t,dO(e)),await r.done}catch(n){if(n instanceof wr)Fa.warn(n.message);else{const r=Ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fa.warn(r.message)}}}function dO(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oY=1024,lY=30*24*60*60*1e3;class cY{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Hb();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=lY}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Hb(),{heartbeatsToSend:n,unsentEntries:r}=uY(this._heartbeatsCache.heartbeats),i=lp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Hb(){return new Date().toISOString().substring(0,10)}function uY(e,t=oY){const n=[];let r=e.slice();for(const i of e){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Bb(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Bb(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dY{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sO()?aO().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await aY(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Wb(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Wb(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Bb(e){return lp(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hY(e){Lr(new mr("platform-logger",t=>new C3(t),"PRIVATE")),Lr(new mr("heartbeat",t=>new cY(t),"PRIVATE")),jn(Lw,Yb,e),jn(Lw,Yb,"esm2017"),jn("fire-js","")}hY("");var fY="firebase",pY="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn(fY,pY,"app");const mY=(e,t)=>t.some(n=>e instanceof n);let Gb,qb;function gY(){return Gb||(Gb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vY(){return qb||(qb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hO=new WeakMap,Uw=new WeakMap,fO=new WeakMap,Jv=new WeakMap,K_=new WeakMap;function yY(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(js(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&hO.set(n,e)}).catch(()=>{}),K_.set(t,e),t}function wY(e){if(Uw.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});Uw.set(e,t)}let zw={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Uw.get(e);if(t==="objectStoreNames")return e.objectStoreNames||fO.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return js(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function _Y(e){zw=e(zw)}function SY(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Zv(this),t,...n);return fO.set(r,t.sort?t.sort():[t]),js(r)}:vY().includes(e)?function(...t){return e.apply(Zv(this),t),js(hO.get(this))}:function(...t){return js(e.apply(Zv(this),t))}}function EY(e){return typeof e=="function"?SY(e):(e instanceof IDBTransaction&&wY(e),mY(e,gY())?new Proxy(e,zw):e)}function js(e){if(e instanceof IDBRequest)return yY(e);if(Jv.has(e))return Jv.get(e);const t=EY(e);return t!==e&&(Jv.set(e,t),K_.set(t,e)),t}const Zv=e=>K_.get(e);function TY(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(e,t),o=js(a);return r&&a.addEventListener("upgradeneeded",l=>{r(js(a.result),l.oldVersion,l.newVersion,js(a.transaction))}),n&&a.addEventListener("blocked",()=>n()),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),o}const bY=["get","getKey","getAll","getAllKeys","count"],kY=["put","add","delete","clear"],ey=new Map;function Kb(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ey.get(t))return ey.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=kY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bY.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return ey.set(t,s),s}_Y(e=>({...e,get:(t,n,r)=>Kb(t,n)||e.get(t,n,r),has:(t,n)=>!!Kb(t,n)||e.has(t,n)}));const pO="@firebase/installations",Q_="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=1e4,gO=`w:${Q_}`,vO="FIS_v2",DY="https://firebaseinstallations.googleapis.com/v1",CY=60*60*1e3,xY="installations",IY="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NY={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ua=new to(xY,IY,NY);function yO(e){return e instanceof wr&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO({projectId:e}){return`${DY}/projects/${e}/installations`}function _O(e){return{token:e.token,requestStatus:2,expiresIn:MY(e.expiresIn),creationTime:Date.now()}}async function SO(e,t){const r=(await t.json()).error;return Ua.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function EO({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function OY(e,{refreshToken:t}){const n=EO(e);return n.append("Authorization",AY(t)),n}async function TO(e){const t=await e();return t.status>=500&&t.status<600?e():t}function MY(e){return Number(e.replace("s","000"))}function AY(e){return`${vO} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RY({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=wO(e),i=EO(e),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={fid:n,authVersion:vO,appId:e.appId,sdkVersion:gO},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await TO(()=>fetch(r,o));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:_O(u.authToken)}}else throw await SO("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PY(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Y=/^[cdef][\w-]{21}$/,Vw="";function LY(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=jY(e);return $Y.test(n)?n:Vw}catch{return Vw}}function jY(e){return PY(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new Map;function DO(e,t){const n=km(e);CO(n,t),FY(n,t)}function CO(e,t){const n=kO.get(e);if(n)for(const r of n)r(t)}function FY(e,t){const n=UY();n&&n.postMessage({key:e,fid:t}),zY()}let Sa=null;function UY(){return!Sa&&"BroadcastChannel"in self&&(Sa=new BroadcastChannel("[Firebase] FID Change"),Sa.onmessage=e=>{CO(e.data.key,e.data.fid)}),Sa}function zY(){kO.size===0&&Sa&&(Sa.close(),Sa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VY="firebase-installations-database",YY=1,za="firebase-installations-store";let ty=null;function X_(){return ty||(ty=TY(VY,YY,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(za)}}})),ty}async function up(e,t){const n=km(e),i=(await X_()).transaction(za,"readwrite"),s=i.objectStore(za),a=await s.get(n);return await s.put(t,n),await i.done,(!a||a.fid!==t.fid)&&DO(e,t.fid),t}async function xO(e){const t=km(e),r=(await X_()).transaction(za,"readwrite");await r.objectStore(za).delete(t),await r.done}async function Dm(e,t){const n=km(e),i=(await X_()).transaction(za,"readwrite"),s=i.objectStore(za),a=await s.get(n),o=t(a);return o===void 0?await s.delete(n):await s.put(o,n),await i.done,o&&(!a||a.fid!==o.fid)&&DO(e,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J_(e){let t;const n=await Dm(e.appConfig,r=>{const i=WY(r),s=HY(e,i);return t=s.registrationPromise,s.installationEntry});return n.fid===Vw?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function WY(e){const t=e||{fid:LY(),registrationStatus:0};return IO(t)}function HY(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ua.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=BY(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:GY(e)}:{installationEntry:t}}async function BY(e,t){try{const n=await RY(e,t);return up(e.appConfig,n)}catch(n){throw yO(n)&&n.customData.serverCode===409?await xO(e.appConfig):await up(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function GY(e){let t=await Qb(e.appConfig);for(;t.registrationStatus===1;)await bO(100),t=await Qb(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await J_(e);return r||n}return t}function Qb(e){return Dm(e,t=>{if(!t)throw Ua.create("installation-not-found");return IO(t)})}function IO(e){return qY(e)?{fid:e.fid,registrationStatus:0}:e}function qY(e){return e.registrationStatus===1&&e.registrationTime+mO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KY({appConfig:e,heartbeatServiceProvider:t},n){const r=QY(e,n),i=OY(e,n),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={installation:{sdkVersion:gO,appId:e.appId}},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await TO(()=>fetch(r,o));if(l.ok){const u=await l.json();return _O(u)}else throw await SO("Generate Auth Token",l)}function QY(e,{fid:t}){return`${wO(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z_(e,t=!1){let n;const r=await Dm(e.appConfig,s=>{if(!NO(s))throw Ua.create("not-registered");const a=s.authToken;if(!t&&ZY(a))return s;if(a.requestStatus===1)return n=XY(e,t),s;{if(!navigator.onLine)throw Ua.create("app-offline");const o=tW(s);return n=JY(e,o),o}});return n?await n:r.authToken}async function XY(e,t){let n=await Xb(e.appConfig);for(;n.authToken.requestStatus===1;)await bO(100),n=await Xb(e.appConfig);const r=n.authToken;return r.requestStatus===0?Z_(e,t):r}function Xb(e){return Dm(e,t=>{if(!NO(t))throw Ua.create("not-registered");const n=t.authToken;return nW(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function JY(e,t){try{const n=await KY(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await up(e.appConfig,r),n}catch(n){if(yO(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await xO(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await up(e.appConfig,r)}throw n}}function NO(e){return e!==void 0&&e.registrationStatus===2}function ZY(e){return e.requestStatus===2&&!eW(e)}function eW(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+CY}function tW(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function nW(e){return e.requestStatus===1&&e.requestTime+mO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rW(e){const t=e,{installationEntry:n,registrationPromise:r}=await J_(t);return r?r.catch(console.error):Z_(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iW(e,t=!1){const n=e;return await sW(n),(await Z_(n,t)).token}async function sW(e){const{registrationPromise:t}=await J_(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aW(e){if(!e||!e.options)throw ny("App Configuration");if(!e.name)throw ny("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ny(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function ny(e){return Ua.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="installations",oW="installations-internal",lW=e=>{const t=e.getProvider("app").getImmediate(),n=aW(t),r=ea(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},cW=e=>{const t=e.getProvider("app").getImmediate(),n=ea(t,OO).getImmediate();return{getId:()=>rW(n),getToken:i=>iW(n,i)}};function uW(){Lr(new mr(OO,lW,"PUBLIC")),Lr(new mr(oW,cW,"PRIVATE"))}uW();jn(pO,Q_);jn(pO,Q_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="analytics",dW="firebase_id",hW="origin",fW=60*1e3,pW="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",e1="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn=new Tm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Kn=new to("analytics","Analytics",mW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gW(e){if(!e.startsWith(e1)){const t=Kn.create("invalid-gtag-resource",{gtagURL:e});return Fn.warn(t.message),""}return e}function MO(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function vW(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function yW(e,t){const n=vW("firebase-js-sdk-policy",{createScriptURL:gW}),r=document.createElement("script"),i=`${e1}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function wW(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function _W(e,t,n,r,i,s){const a=r[i];try{if(a)await t[a];else{const l=(await MO(n)).find(u=>u.measurementId===i);l&&await t[l.appId]}}catch(o){Fn.error(o)}e("config",i,s)}async function SW(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const o=await MO(n);for(const l of a){const u=o.find(f=>f.measurementId===l),d=u&&t[u.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(s){Fn.error(s)}}function EW(e,t,n,r){async function i(s,...a){try{if(s==="event"){const[o,l]=a;await SW(e,t,n,o,l)}else if(s==="config"){const[o,l]=a;await _W(e,t,n,r,o,l)}else if(s==="consent"){const[o]=a;e("consent","update",o)}else if(s==="get"){const[o,l,u]=a;e("get",o,l,u)}else if(s==="set"){const[o]=a;e("set",o)}else e(s,...a)}catch(o){Fn.error(o)}}return i}function TW(e,t,n,r,i){let s=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=EW(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function bW(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(e1)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kW=30,DW=1e3;class CW{constructor(t={},n=DW){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const AO=new CW;function xW(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function IW(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:xW(r)},s=pW.replace("{app-id}",n),a=await fetch(s,i);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();!((t=l.error)===null||t===void 0)&&t.message&&(o=l.error.message)}catch{}throw Kn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function NW(e,t=AO,n){const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw Kn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Kn.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new AW;return setTimeout(async()=>{o.abort()},n!==void 0?n:fW),RO({appId:r,apiKey:i,measurementId:s},a,o,t)}async function RO(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=AO){var s;const{appId:a,measurementId:o}=e;try{await OW(r,t)}catch(l){if(o)return Fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:o};throw l}try{const l=await IW(e);return i.deleteThrottleMetadata(a),l}catch(l){const u=l;if(!MW(u)){if(i.deleteThrottleMetadata(a),o)return Fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:o};throw l}const d=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?Fb(n,i.intervalMillis,kW):Fb(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(a,f),Fn.debug(`Calling attemptFetch again in ${d} millis`),RO(e,f,r,i)}}function OW(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(Kn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function MW(e){if(!(e instanceof wr)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class AW{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function RW(e,t,n,r,i){if(i&&i.global){e("event",n,r);return}else{const s=await t,a=Object.assign(Object.assign({},r),{send_to:s});e("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PW(){if(sO())try{await aO()}catch(e){return Fn.warn(Kn.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Fn.warn(Kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function $W(e,t,n,r,i,s,a){var o;const l=NW(e);l.then(g=>{n[g.measurementId]=g.appId,e.options.measurementId&&g.measurementId!==e.options.measurementId&&Fn.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Fn.error(g)),t.push(l);const u=PW().then(g=>{if(g)return r.getId()}),[d,f]=await Promise.all([l,u]);bW(s)||yW(s,d.measurementId),i("js",new Date);const p=(o=a==null?void 0:a.config)!==null&&o!==void 0?o:{};return p[hW]="firebase",p.update=!0,f!=null&&(p[dW]=f),i("config",d.measurementId,p),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(t){this.app=t}_delete(){return delete Xc[this.app.options.appId],Promise.resolve()}}let Xc={},Jb=[];const Zb={};let ry="dataLayer",jW="gtag",ek,PO,tk=!1;function FW(){const e=[];if(iO()&&e.push("This is a browser extension environment."),QV()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Kn.create("invalid-analytics-context",{errorInfo:t});Fn.warn(n.message)}}function UW(e,t,n){FW();const r=e.options.appId;if(!r)throw Kn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Kn.create("no-api-key");if(Xc[r]!=null)throw Kn.create("already-exists",{id:r});if(!tk){wW(ry);const{wrappedGtag:s,gtagCore:a}=TW(Xc,Jb,Zb,ry,jW);PO=s,ek=a,tk=!0}return Xc[r]=$W(e,Jb,Zb,t,ek,ry,n),new LW(e)}function zW(e=bm()){e=ht(e);const t=ea(e,dp);return t.isInitialized()?t.getImmediate():VW(e)}function VW(e,t={}){const n=ea(e,dp);if(n.isInitialized()){const i=n.getImmediate();if(bu(t,n.getOptions()))return i;throw Kn.create("already-initialized")}return n.initialize({options:t})}function YW(e,t,n,r){e=ht(e),RW(PO,Xc[e.app.options.appId],t,n,r).catch(i=>Fn.error(i))}const nk="@firebase/analytics",rk="0.10.0";function WW(){Lr(new mr(dp,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return UW(r,i,n)},"PUBLIC")),Lr(new mr("analytics-internal",e,"PRIVATE")),jn(nk,rk),jn(nk,rk,"esm2017");function e(t){try{const n=t.getProvider(dp).getImmediate();return{logEvent:(r,i,s)=>YW(n,r,i,s)}}catch(n){throw Kn.create("interop-component-reg-failed",{reason:n})}}}WW();var HW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},re,t1=t1||{},we=HW||self;function Cm(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function dd(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function BW(e){return Object.prototype.hasOwnProperty.call(e,iy)&&e[iy]||(e[iy]=++GW)}var iy="closure_uid_"+(1e9*Math.random()>>>0),GW=0;function qW(e,t,n){return e.call.apply(e.bind,arguments)}function KW(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function un(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?un=qW:un=KW,un.apply(null,arguments)}function jh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function zt(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var a=Array(arguments.length-2),o=2;o<arguments.length;o++)a[o-2]=arguments[o];return t.prototype[i].apply(r,a)}}function ta(){this.s=this.s,this.o=this.o}var QW=0;ta.prototype.s=!1;ta.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),QW!=0)&&BW(this)};ta.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $O=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function n1(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function ik(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Cm(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let a=0;a<s;a++)e[i+a]=r[a]}else e.push(r)}}function dn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}dn.prototype.h=function(){this.defaultPrevented=!0};var XW=function(){if(!we.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{we.addEventListener("test",()=>{},t),we.removeEventListener("test",()=>{},t)}catch{}return e}();function Du(e){return/^[\s\xa0]*$/.test(e)}function xm(){var e=we.navigator;return e&&(e=e.userAgent)?e:""}function Kr(e){return xm().indexOf(e)!=-1}function r1(e){return r1[" "](e),e}r1[" "]=function(){};function JW(e,t){var n=W6;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var ZW=Kr("Opera"),fl=Kr("Trident")||Kr("MSIE"),LO=Kr("Edge"),Yw=LO||fl,jO=Kr("Gecko")&&!(xm().toLowerCase().indexOf("webkit")!=-1&&!Kr("Edge"))&&!(Kr("Trident")||Kr("MSIE"))&&!Kr("Edge"),e6=xm().toLowerCase().indexOf("webkit")!=-1&&!Kr("Edge");function FO(){var e=we.document;return e?e.documentMode:void 0}var Ww;e:{var sy="",ay=function(){var e=xm();if(jO)return/rv:([^\);]+)(\)|;)/.exec(e);if(LO)return/Edge\/([\d\.]+)/.exec(e);if(fl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(e6)return/WebKit\/(\S+)/.exec(e);if(ZW)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(ay&&(sy=ay?ay[1]:""),fl){var oy=FO();if(oy!=null&&oy>parseFloat(sy)){Ww=String(oy);break e}}Ww=sy}var Hw;if(we.document&&fl){var sk=FO();Hw=sk||parseInt(Ww,10)||void 0}else Hw=void 0;var t6=Hw;function Cu(e,t){if(dn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(jO){e:{try{r1(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:n6[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Cu.$.h.call(this)}}zt(Cu,dn);var n6={2:"touch",3:"pen",4:"mouse"};Cu.prototype.h=function(){Cu.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var hd="closure_listenable_"+(1e6*Math.random()|0),r6=0;function i6(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++r6,this.fa=this.ia=!1}function Im(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function i1(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function s6(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function UO(e){const t={};for(const n in e)t[n]=e[n];return t}const ak="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zO(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<ak.length;s++)n=ak[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Nm(e){this.src=e,this.g={},this.h=0}Nm.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var a=Gw(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):(t=new i6(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function Bw(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=$O(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Im(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Gw(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var s1="closure_lm_"+(1e6*Math.random()|0),ly={};function VO(e,t,n,r,i){if(r&&r.once)return WO(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)VO(e,t[s],n,r,i);return null}return n=l1(n),e&&e[hd]?e.O(t,n,dd(r)?!!r.capture:!!r,i):YO(e,t,n,!1,r,i)}function YO(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=dd(i)?!!i.capture:!!i,o=o1(e);if(o||(e[s1]=o=new Nm(e)),n=o.add(t,n,r,a,s),n.proxy)return n;if(r=a6(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)XW||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(BO(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function a6(){function e(n){return t.call(e.src,e.listener,n)}const t=o6;return e}function WO(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)WO(e,t[s],n,r,i);return null}return n=l1(n),e&&e[hd]?e.P(t,n,dd(r)?!!r.capture:!!r,i):YO(e,t,n,!0,r,i)}function HO(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)HO(e,t[s],n,r,i);else r=dd(r)?!!r.capture:!!r,n=l1(n),e&&e[hd]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Gw(s,n,r,i),-1<n&&(Im(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=o1(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Gw(t,n,r,i)),(n=-1<e?t[e]:null)&&a1(n))}function a1(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[hd])Bw(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(BO(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=o1(t))?(Bw(n,e),n.h==0&&(n.src=null,t[s1]=null)):Im(e)}}}function BO(e){return e in ly?ly[e]:ly[e]="on"+e}function o6(e,t){if(e.fa)e=!0;else{t=new Cu(t,this);var n=e.listener,r=e.la||e.src;e.ia&&a1(e),e=n.call(r,t)}return e}function o1(e){return e=e[s1],e instanceof Nm?e:null}var cy="__closure_events_fn_"+(1e9*Math.random()>>>0);function l1(e){return typeof e=="function"?e:(e[cy]||(e[cy]=function(t){return e.handleEvent(t)}),e[cy])}function Ft(){ta.call(this),this.i=new Nm(this),this.S=this,this.J=null}zt(Ft,ta);Ft.prototype[hd]=!0;Ft.prototype.removeEventListener=function(e,t,n,r){HO(this,e,t,n,r)};function Kt(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new dn(t,e);else if(t instanceof dn)t.target=t.target||e;else{var i=t;t=new dn(r,e),zO(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Fh(a,r,!0,t)&&i}if(a=t.g=e,i=Fh(a,r,!0,t)&&i,i=Fh(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.g=n[s],i=Fh(a,r,!1,t)&&i}Ft.prototype.N=function(){if(Ft.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Im(n[r]);delete e.g[t],e.h--}}this.J=null};Ft.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Ft.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Fh(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&Bw(e.i,a),i=o.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var c1=we.JSON.stringify;class l6{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function c6(){var e=u1;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class u6{constructor(){this.h=this.g=null}add(t,n){const r=GO.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var GO=new l6(()=>new d6,e=>e.reset());class d6{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function h6(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function f6(e){we.setTimeout(()=>{throw e},0)}let xu,Iu=!1,u1=new u6,qO=()=>{const e=we.Promise.resolve(void 0);xu=()=>{e.then(p6)}};var p6=()=>{for(var e;e=c6();){try{e.h.call(e.g)}catch(n){f6(n)}var t=GO;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Iu=!1};function Om(e,t){Ft.call(this),this.h=e||1,this.g=t||we,this.j=un(this.qb,this),this.l=Date.now()}zt(Om,Ft);re=Om.prototype;re.ga=!1;re.T=null;re.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Kt(this,"tick"),this.ga&&(d1(this),this.start()))}};re.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function d1(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}re.N=function(){Om.$.N.call(this),d1(this),delete this.g};function h1(e,t,n){if(typeof e=="function")n&&(e=un(e,n));else if(e&&typeof e.handleEvent=="function")e=un(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:we.setTimeout(e,t||0)}function KO(e){e.g=h1(()=>{e.g=null,e.i&&(e.i=!1,KO(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class m6 extends ta{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:KO(this)}N(){super.N(),this.g&&(we.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nu(e){ta.call(this),this.h=e,this.g={}}zt(Nu,ta);var ok=[];function QO(e,t,n,r){Array.isArray(n)||(n&&(ok[0]=n.toString()),n=ok);for(var i=0;i<n.length;i++){var s=VO(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function XO(e){i1(e.g,function(t,n){this.g.hasOwnProperty(n)&&a1(t)},e),e.g={}}Nu.prototype.N=function(){Nu.$.N.call(this),XO(this)};Nu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Mm(){this.g=!0}Mm.prototype.Ea=function(){this.g=!1};function g6(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var d=u[0];u=u[1];var f=d.split("_");a=2<=f.length&&f[1]=="type"?a+(d+"="+u+"&"):a+(d+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function v6(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function Uo(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+w6(e,n)+(r?" "+r:"")})}function y6(e,t){e.info(function(){return"TIMEOUT: "+t})}Mm.prototype.info=function(){};function w6(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return c1(n)}catch{return t}}var ro={},lk=null;function Am(){return lk=lk||new Ft}ro.Ta="serverreachability";function JO(e){dn.call(this,ro.Ta,e)}zt(JO,dn);function Ou(e){const t=Am();Kt(t,new JO(t))}ro.STAT_EVENT="statevent";function ZO(e,t){dn.call(this,ro.STAT_EVENT,e),this.stat=t}zt(ZO,dn);function Tn(e){const t=Am();Kt(t,new ZO(t,e))}ro.Ua="timingevent";function eM(e,t){dn.call(this,ro.Ua,e),this.size=t}zt(eM,dn);function fd(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return we.setTimeout(function(){e()},t)}var Rm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tM={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function f1(){}f1.prototype.h=null;function ck(e){return e.h||(e.h=e.i())}function nM(){}var pd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function p1(){dn.call(this,"d")}zt(p1,dn);function m1(){dn.call(this,"c")}zt(m1,dn);var qw;function Pm(){}zt(Pm,f1);Pm.prototype.g=function(){return new XMLHttpRequest};Pm.prototype.i=function(){return{}};qw=new Pm;function md(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Nu(this),this.P=_6,e=Yw?125:void 0,this.V=new Om(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new rM}function rM(){this.i=null,this.g="",this.h=!1}var _6=45e3,Kw={},hp={};re=md.prototype;re.setTimeout=function(e){this.P=e};function Qw(e,t,n){e.L=1,e.v=Lm(Ki(t)),e.s=n,e.S=!0,iM(e,null)}function iM(e,t){e.G=Date.now(),gd(e),e.A=Ki(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),hM(n.i,"t",r),e.C=0,n=e.l.J,e.h=new rM,e.g=AM(e.l,n?t:null,!e.s),0<e.O&&(e.M=new m6(un(e.Pa,e,e.g),e.O)),QO(e.U,e.g,"readystatechange",e.nb),t=e.I?UO(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Ou(),g6(e.j,e.u,e.A,e.m,e.W,e.s)}re.nb=function(e){e=e.target;const t=this.M;t&&Jr(e)==3?t.l():this.Pa(e)};re.Pa=function(e){try{if(e==this.g)e:{const d=Jr(this.g);var t=this.g.Ia();const f=this.g.da();if(!(3>d)&&(d!=3||Yw||this.g&&(this.h.h||this.g.ja()||fk(this.g)))){this.J||d!=4||t==7||(t==8||0>=f?Ou(3):Ou(2)),$m(this);var n=this.g.da();this.ca=n;t:if(sM(this)){var r=fk(this.g);e="";var i=r.length,s=Jr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ea(this),Jc(this);var a="";break t}this.h.i=new we.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=n==200,v6(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Du(o)){var u=o;break t}}u=null}if(n=u)Uo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xw(this,n);else{this.i=!1,this.o=3,Tn(12),Ea(this),Jc(this);break e}}this.S?(aM(this,d,a),Yw&&this.i&&d==3&&(QO(this.U,this.V,"tick",this.mb),this.V.start())):(Uo(this.j,this.m,a,null),Xw(this,a)),d==4&&Ea(this),this.i&&!this.J&&(d==4?IM(this.l,this):(this.i=!1,gd(this)))}else z6(this.g),n==400&&0<a.indexOf("Unknown SID")?(this.o=3,Tn(12)):(this.o=0,Tn(13)),Ea(this),Jc(this)}}}catch{}finally{}};function sM(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function aM(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=S6(e,n),i==hp){t==4&&(e.o=4,Tn(14),r=!1),Uo(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Kw){e.o=4,Tn(15),Uo(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Uo(e.j,e.m,i,null),Xw(e,i);sM(e)&&i!=hp&&i!=Kw&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Tn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),S1(t),t.M=!0,Tn(11))):(Uo(e.j,e.m,n,"[Invalid Chunked Response]"),Ea(e),Jc(e))}re.mb=function(){if(this.g){var e=Jr(this.g),t=this.g.ja();this.C<t.length&&($m(this),aM(this,e,t),this.i&&e!=4&&gd(this))}};function S6(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?hp:(n=Number(t.substring(n,r)),isNaN(n)?Kw:(r+=1,r+n>t.length?hp:(t=t.slice(r,r+n),e.C=r+n,t)))}re.cancel=function(){this.J=!0,Ea(this)};function gd(e){e.Y=Date.now()+e.P,oM(e,e.P)}function oM(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=fd(un(e.lb,e),t)}function $m(e){e.B&&(we.clearTimeout(e.B),e.B=null)}re.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(y6(this.j,this.A),this.L!=2&&(Ou(),Tn(17)),Ea(this),this.o=2,Jc(this)):oM(this,this.Y-e)};function Jc(e){e.l.H==0||e.J||IM(e.l,e)}function Ea(e){$m(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,d1(e.V),XO(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Xw(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Jw(n.i,e))){if(!e.K&&Jw(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)mp(n),Um(n);else break e;_1(n),Tn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=fd(un(n.ib,n),6e3));if(1>=mM(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ta(n,11)}else if((e.K||n.g==e)&&mp(n),!Du(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const f=u[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const p=u[5];p!=null&&typeof p=="number"&&0<p&&(r=1.5*p,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=e.g;if(g){const S=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var s=r.i;s.g||S.indexOf("spdy")==-1&&S.indexOf("quic")==-1&&S.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(g1(s,s.h),s.h=null))}if(r.F){const E=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,et(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var a=e;if(r.wa=MM(r,r.J?r.pa:null,r.Y),a.K){gM(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.B&&($m(o),gd(o)),r.g=a}else CM(r);0<n.j.length&&zm(n)}else u[0]!="stop"&&u[0]!="close"||Ta(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ta(n,7):w1(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ou(4)}catch{}}function E6(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Cm(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function T6(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Cm(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function lM(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Cm(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=T6(e),r=E6(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var cM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function b6(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ia(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ia){this.h=e.h,fp(this,e.j),this.s=e.s,this.g=e.g,pp(this,e.m),this.l=e.l;var t=e.i,n=new Mu;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),uk(this,n),this.o=e.o}else e&&(t=String(e).match(cM))?(this.h=!1,fp(this,t[1]||"",!0),this.s=Rc(t[2]||""),this.g=Rc(t[3]||"",!0),pp(this,t[4]),this.l=Rc(t[5]||"",!0),uk(this,t[6]||"",!0),this.o=Rc(t[7]||"")):(this.h=!1,this.i=new Mu(null,this.h))}Ia.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Pc(t,dk,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Pc(t,dk,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Pc(n,n.charAt(0)=="/"?C6:D6,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Pc(n,I6)),e.join("")};function Ki(e){return new Ia(e)}function fp(e,t,n){e.j=n?Rc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function pp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function uk(e,t,n){t instanceof Mu?(e.i=t,N6(e.i,e.h)):(n||(t=Pc(t,x6)),e.i=new Mu(t,e.h))}function et(e,t,n){e.i.set(t,n)}function Lm(e){return et(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Rc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Pc(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,k6),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function k6(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var dk=/[#\/\?@]/g,D6=/[#\?:]/g,C6=/[#\?]/g,x6=/[#\?@]/g,I6=/#/g;function Mu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function na(e){e.g||(e.g=new Map,e.h=0,e.i&&b6(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}re=Mu.prototype;re.add=function(e,t){na(this),this.i=null,e=Rl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function uM(e,t){na(e),t=Rl(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function dM(e,t){return na(e),t=Rl(e,t),e.g.has(t)}re.forEach=function(e,t){na(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};re.ta=function(){na(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};re.Z=function(e){na(this);let t=[];if(typeof e=="string")dM(this,e)&&(t=t.concat(this.g.get(Rl(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};re.set=function(e,t){return na(this),this.i=null,e=Rl(this,e),dM(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};re.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function hM(e,t,n){uM(e,t),0<n.length&&(e.i=null,e.g.set(Rl(e,t),n1(n)),e.h+=n.length)}re.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;a[r]!==""&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};function Rl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function N6(e,t){t&&!e.j&&(na(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(uM(this,r),hM(this,i,n))},e)),e.j=t}var O6=class{constructor(e,t){this.g=e,this.map=t}};function fM(e){this.l=e||M6,we.PerformanceNavigationTiming?(e=we.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(we.g&&we.g.Ka&&we.g.Ka()&&we.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var M6=10;function pM(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function mM(e){return e.h?1:e.g?e.g.size:0}function Jw(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function g1(e,t){e.g?e.g.add(t):e.h=t}function gM(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}fM.prototype.cancel=function(){if(this.i=vM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function vM(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return n1(e.i)}var A6=class{stringify(e){return we.JSON.stringify(e,void 0)}parse(e){return we.JSON.parse(e,void 0)}};function R6(){this.g=new A6}function P6(e,t,n){const r=n||"";try{lM(e,function(i,s){let a=i;dd(i)&&(a=c1(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function $6(e,t){const n=new Mm;if(we.Image){const r=new Image;r.onload=jh(Uh,n,r,"TestLoadImage: loaded",!0,t),r.onerror=jh(Uh,n,r,"TestLoadImage: error",!1,t),r.onabort=jh(Uh,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=jh(Uh,n,r,"TestLoadImage: timeout",!1,t),we.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Uh(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function vd(e){this.l=e.fc||null,this.j=e.ob||!1}zt(vd,f1);vd.prototype.g=function(){return new jm(this.l,this.j)};vd.prototype.i=function(e){return function(){return e}}({});function jm(e,t){Ft.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=v1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zt(jm,Ft);var v1=0;re=jm.prototype;re.open=function(e,t){if(this.readyState!=v1)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Au(this)};re.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||we).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yd(this)),this.readyState=v1};re.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Au(this)),this.g&&(this.readyState=3,Au(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof we.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yM(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function yM(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}re.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?yd(this):Au(this),this.readyState==3&&yM(this)}};re.Za=function(e){this.g&&(this.response=this.responseText=e,yd(this))};re.Ya=function(e){this.g&&(this.response=e,yd(this))};re.ka=function(){this.g&&yd(this)};function yd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Au(e)}re.setRequestHeader=function(e,t){this.v.append(e,t)};re.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};re.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Au(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(jm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var L6=we.JSON.parse;function gt(e){Ft.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wM,this.L=this.M=!1}zt(gt,Ft);var wM="",j6=/^https?$/i,F6=["POST","PUT"];re=gt.prototype;re.Oa=function(e){this.M=e};re.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():qw.g(),this.C=this.u?ck(this.u):ck(qw),this.g.onreadystatechange=un(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){hk(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=we.FormData&&e instanceof we.FormData,!(0<=$O(F6,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{EM(this),0<this.B&&((this.L=U6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=un(this.ua,this)):this.A=h1(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){hk(this,s)}};function U6(e){return fl&&typeof e.timeout=="number"&&e.ontimeout!==void 0}re.ua=function(){typeof t1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kt(this,"timeout"),this.abort(8))};function hk(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,_M(e),Fm(e)}function _M(e){e.F||(e.F=!0,Kt(e,"complete"),Kt(e,"error"))}re.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Kt(this,"complete"),Kt(this,"abort"),Fm(this))};re.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fm(this,!0)),gt.$.N.call(this)};re.La=function(){this.s||(this.G||this.v||this.l?SM(this):this.kb())};re.kb=function(){SM(this)};function SM(e){if(e.h&&typeof t1<"u"&&(!e.C[1]||Jr(e)!=4||e.da()!=2)){if(e.v&&Jr(e)==4)h1(e.La,0,e);else if(Kt(e,"readystatechange"),Jr(e)==4){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){var i=String(e.I).match(cM)[1]||null;!i&&we.self&&we.self.location&&(i=we.self.location.protocol.slice(0,-1)),r=!j6.test(i?i.toLowerCase():"")}n=r}if(n)Kt(e,"complete"),Kt(e,"success");else{e.m=6;try{var s=2<Jr(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",_M(e)}}finally{Fm(e)}}}}function Fm(e,t){if(e.g){EM(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Kt(e,"ready");try{n.onreadystatechange=r}catch{}}}function EM(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(we.clearTimeout(e.A),e.A=null)}re.isActive=function(){return!!this.g};function Jr(e){return e.g?e.g.readyState:0}re.da=function(){try{return 2<Jr(this)?this.g.status:-1}catch{return-1}};re.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};re.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),L6(t)}};function fk(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case wM:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function z6(e){const t={};e=(e.g&&2<=Jr(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(Du(e[r]))continue;var n=h6(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}s6(t,function(r){return r.join(", ")})}re.Ia=function(){return this.m};re.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function TM(e){let t="";return i1(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function y1(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=TM(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):et(e,t,n))}function Tc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function bM(e){this.Ga=0,this.j=[],this.l=new Mm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Tc("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Tc("baseRetryDelayMs",5e3,e),this.hb=Tc("retryDelaySeedMs",1e4,e),this.eb=Tc("forwardChannelMaxRetries",2,e),this.xa=Tc("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new fM(e&&e.concurrentRequestLimit),this.Ja=new R6,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}re=bM.prototype;re.ra=8;re.H=1;function w1(e){if(kM(e),e.H==3){var t=e.W++,n=Ki(e.I);if(et(n,"SID",e.K),et(n,"RID",t),et(n,"TYPE","terminate"),wd(e,n),t=new md(e,e.l,t),t.L=2,t.v=Lm(Ki(n)),n=!1,we.navigator&&we.navigator.sendBeacon)try{n=we.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&we.Image&&(new Image().src=t.v,n=!0),n||(t.g=AM(t.l,null),t.g.ha(t.v)),t.G=Date.now(),gd(t)}OM(e)}function Um(e){e.g&&(S1(e),e.g.cancel(),e.g=null)}function kM(e){Um(e),e.u&&(we.clearTimeout(e.u),e.u=null),mp(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&we.clearTimeout(e.m),e.m=null)}function zm(e){if(!pM(e.i)&&!e.m){e.m=!0;var t=e.Na;xu||qO(),Iu||(xu(),Iu=!0),u1.add(t,e),e.C=0}}function V6(e,t){return mM(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=fd(un(e.Na,e,t),NM(e,e.C)),e.C++,!0)}re.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new md(this,this.l,e);let s=this.s;if(this.U&&(s?(s=UO(s),zO(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=DM(this,i,t),n=Ki(this.I),et(n,"RID",e),et(n,"CVER",22),this.F&&et(n,"X-HTTP-Session-Id",this.F),wd(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(TM(s)))+"&"+t:this.o&&y1(n,this.o,s)),g1(this.i,i),this.bb&&et(n,"TYPE","init"),this.P?(et(n,"$req",t),et(n,"SID","null"),i.aa=!0,Qw(i,n,null)):Qw(i,n,t),this.H=2}}else this.H==3&&(e?pk(this,e):this.j.length==0||pM(this.i)||pk(this))};function pk(e,t){var n;t?n=t.m:n=e.W++;const r=Ki(e.I);et(r,"SID",e.K),et(r,"RID",n),et(r,"AID",e.V),wd(e,r),e.o&&e.s&&y1(r,e.o,e.s),n=new md(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=DM(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),g1(e.i,n),Qw(n,r,t)}function wd(e,t){e.na&&i1(e.na,function(n,r){et(t,r,n)}),e.h&&lM({},function(n,r){et(t,r,n)})}function DM(e,t,n){n=Math.min(e.j.length,n);var r=e.h?un(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const a=["count="+n];s==-1?0<n?(s=i[0].g,a.push("ofs="+s)):s=0:a.push("ofs="+s);let o=!0;for(let l=0;l<n;l++){let u=i[l].g;const d=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),o=!1;else try{P6(d,a,"req"+u+"_")}catch{r&&r(d)}}if(o){r=a.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function CM(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;xu||qO(),Iu||(xu(),Iu=!0),u1.add(t,e),e.A=0}}function _1(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=fd(un(e.Ma,e),NM(e,e.A)),e.A++,!0)}re.Ma=function(){if(this.u=null,xM(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=fd(un(this.jb,this),e)}};re.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Tn(10),Um(this),xM(this))};function S1(e){e.B!=null&&(we.clearTimeout(e.B),e.B=null)}function xM(e){e.g=new md(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Ki(e.wa);et(t,"RID","rpc"),et(t,"SID",e.K),et(t,"AID",e.V),et(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&et(t,"TO",e.qa),et(t,"TYPE","xmlhttp"),wd(e,t),e.o&&e.s&&y1(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Lm(Ki(t)),n.s=null,n.S=!0,iM(n,e)}re.ib=function(){this.v!=null&&(this.v=null,Um(this),_1(this),Tn(19))};function mp(e){e.v!=null&&(we.clearTimeout(e.v),e.v=null)}function IM(e,t){var n=null;if(e.g==t){mp(e),S1(e),e.g=null;var r=2}else if(Jw(e.i,t))n=t.F,gM(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=Am(),Kt(r,new eM(r,n)),zm(e)}else CM(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&V6(e,t)||r==2&&_1(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ta(e,5);break;case 4:Ta(e,10);break;case 3:Ta(e,6);break;default:Ta(e,2)}}}function NM(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ta(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=un(e.pb,e);n||(n=new Ia("//www.google.com/images/cleardot.gif"),we.location&&we.location.protocol=="http"||fp(n,"https"),Lm(n)),$6(n.toString(),r)}else Tn(2);e.H=0,e.h&&e.h.za(t),OM(e),kM(e)}re.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Tn(2)):(this.l.info("Failed to ping google.com"),Tn(1))};function OM(e){if(e.H=0,e.ma=[],e.h){const t=vM(e.i);(t.length!=0||e.j.length!=0)&&(ik(e.ma,t),ik(e.ma,e.j),e.i.i.length=0,n1(e.j),e.j.length=0),e.h.ya()}}function MM(e,t,n){var r=n instanceof Ia?Ki(n):new Ia(n);if(r.g!="")t&&(r.g=t+"."+r.g),pp(r,r.m);else{var i=we.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Ia(null);r&&fp(s,r),t&&(s.g=t),i&&pp(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&et(r,n,t),et(r,"VER",e.ra),wd(e,r),r}function AM(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new gt(new vd({ob:!0})):new gt(e.va),t.Oa(e.J),t}re.isActive=function(){return!!this.h&&this.h.isActive(this)};function RM(){}re=RM.prototype;re.Ba=function(){};re.Aa=function(){};re.za=function(){};re.ya=function(){};re.isActive=function(){return!0};re.Va=function(){};function gp(){if(fl&&!(10<=Number(t6)))throw Error("Environmental error: no available transport.")}gp.prototype.g=function(e,t){return new Jn(e,t)};function Jn(e,t){Ft.call(this),this.g=new bM(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Du(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Du(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Pl(this)}zt(Jn,Ft);Jn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Tn(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=MM(e,null,e.Y),zm(e)};Jn.prototype.close=function(){w1(this.g)};Jn.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=c1(e),e=n);t.j.push(new O6(t.fb++,e)),t.H==3&&zm(t)};Jn.prototype.N=function(){this.g.h=null,delete this.j,w1(this.g),delete this.g,Jn.$.N.call(this)};function PM(e){p1.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}zt(PM,p1);function $M(){m1.call(this),this.status=1}zt($M,m1);function Pl(e){this.g=e}zt(Pl,RM);Pl.prototype.Ba=function(){Kt(this.g,"a")};Pl.prototype.Aa=function(e){Kt(this.g,new PM(e))};Pl.prototype.za=function(e){Kt(this.g,new $M)};Pl.prototype.ya=function(){Kt(this.g,"b")};function Y6(){this.blockSize=-1}function jr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}zt(jr,Y6);jr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function uy(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(a<<7&4294967295|a>>>25),a=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(a<<12&4294967295|a>>>20),a=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(a<<22&4294967295|a>>>10),a=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(a<<7&4294967295|a>>>25),a=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(a<<12&4294967295|a>>>20),a=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(a<<22&4294967295|a>>>10),a=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(a<<7&4294967295|a>>>25),a=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(a<<12&4294967295|a>>>20),a=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(a<<22&4294967295|a>>>10),a=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(a<<7&4294967295|a>>>25),a=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(a<<12&4294967295|a>>>20),a=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(a<<17&4294967295|a>>>15),a=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(a<<22&4294967295|a>>>10),a=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(a<<20&4294967295|a>>>12),a=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(a<<20&4294967295|a>>>12),a=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(a<<20&4294967295|a>>>12),a=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(a<<20&4294967295|a>>>12),a=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(a<<4&4294967295|a>>>28),a=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(a<<11&4294967295|a>>>21),a=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(a<<23&4294967295|a>>>9),a=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(a<<4&4294967295|a>>>28),a=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(a<<11&4294967295|a>>>21),a=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(a<<23&4294967295|a>>>9),a=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(a<<4&4294967295|a>>>28),a=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(a<<11&4294967295|a>>>21),a=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(a<<23&4294967295|a>>>9),a=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(a<<4&4294967295|a>>>28),a=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(a<<11&4294967295|a>>>21),a=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(a<<16&4294967295|a>>>16),a=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(a<<23&4294967295|a>>>9),a=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(a<<6&4294967295|a>>>26),a=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(a<<21&4294967295|a>>>11),a=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(a<<6&4294967295|a>>>26),a=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(a<<21&4294967295|a>>>11),a=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(a<<6&4294967295|a>>>26),a=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(a<<21&4294967295|a>>>11),a=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(a<<6&4294967295|a>>>26),a=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}jr.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)uy(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){uy(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){uy(this,r),i=0;break}}this.h=i,this.i+=t};jr.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function ze(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var W6={};function E1(e){return-128<=e&&128>e?JW(e,function(t){return new ze([t|0],0>t?-1:0)}):new ze([e|0],0>e?-1:0)}function Zr(e){if(isNaN(e)||!isFinite(e))return Ko;if(0>e)return Bt(Zr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Zw;return new ze(t,0)}function LM(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Bt(LM(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Zr(Math.pow(t,8)),r=Ko,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),a=parseInt(e.substring(i,i+s),t);8>s?(s=Zr(Math.pow(t,s)),r=r.R(s).add(Zr(a))):(r=r.R(n),r=r.add(Zr(a)))}return r}var Zw=4294967296,Ko=E1(0),e0=E1(1),mk=E1(16777216);re=ze.prototype;re.ea=function(){if(cr(this))return-Bt(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Zw+r)*t,t*=Zw}return e};re.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Pi(this))return"0";if(cr(this))return"-"+Bt(this).toString(e);for(var t=Zr(Math.pow(e,6)),n=this,r="";;){var i=yp(n,t).g;n=vp(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Pi(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};re.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Pi(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function cr(e){return e.h==-1}re.X=function(e){return e=vp(this,e),cr(e)?-1:Pi(e)?0:1};function Bt(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new ze(n,~e.h).add(e0)}re.abs=function(){return cr(this)?Bt(this):this};re.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new ze(n,n[n.length-1]&-2147483648?-1:0)};function vp(e,t){return e.add(Bt(t))}re.R=function(e){if(Pi(this)||Pi(e))return Ko;if(cr(this))return cr(e)?Bt(this).R(Bt(e)):Bt(Bt(this).R(e));if(cr(e))return Bt(this.R(Bt(e)));if(0>this.X(mk)&&0>e.X(mk))return Zr(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=this.D(r)&65535,o=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=a*l,zh(n,2*r+2*i),n[2*r+2*i+1]+=s*l,zh(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,zh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,zh(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new ze(n,0)};function zh(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function bc(e,t){this.g=e,this.h=t}function yp(e,t){if(Pi(t))throw Error("division by zero");if(Pi(e))return new bc(Ko,Ko);if(cr(e))return t=yp(Bt(e),t),new bc(Bt(t.g),Bt(t.h));if(cr(t))return t=yp(e,Bt(t)),new bc(Bt(t.g),t.h);if(30<e.g.length){if(cr(e)||cr(t))throw Error("slowDivide_ only works with positive integers.");for(var n=e0,r=t;0>=r.X(e);)n=gk(n),r=gk(r);var i=Eo(n,1),s=Eo(r,1);for(r=Eo(r,2),n=Eo(n,2);!Pi(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=Eo(r,1),n=Eo(n,1)}return t=vp(e,i.R(t)),new bc(i,t)}for(i=Ko;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Zr(n),a=s.R(t);cr(a)||0<a.X(e);)n-=r,s=Zr(n),a=s.R(t);Pi(s)&&(s=e0),i=i.add(s),e=vp(e,a)}return new bc(i,e)}re.gb=function(e){return yp(this,e).h};re.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new ze(n,this.h&e.h)};re.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new ze(n,this.h|e.h)};re.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new ze(n,this.h^e.h)};function gk(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new ze(n,e.h)}function Eo(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new ze(i,e.h)}gp.prototype.createWebChannel=gp.prototype.g;Jn.prototype.send=Jn.prototype.u;Jn.prototype.open=Jn.prototype.m;Jn.prototype.close=Jn.prototype.close;Rm.NO_ERROR=0;Rm.TIMEOUT=8;Rm.HTTP_ERROR=6;tM.COMPLETE="complete";nM.EventType=pd;pd.OPEN="a";pd.CLOSE="b";pd.ERROR="c";pd.MESSAGE="d";Ft.prototype.listen=Ft.prototype.O;gt.prototype.listenOnce=gt.prototype.P;gt.prototype.getLastError=gt.prototype.Sa;gt.prototype.getLastErrorCode=gt.prototype.Ia;gt.prototype.getStatus=gt.prototype.da;gt.prototype.getResponseJson=gt.prototype.Wa;gt.prototype.getResponseText=gt.prototype.ja;gt.prototype.send=gt.prototype.ha;gt.prototype.setWithCredentials=gt.prototype.Oa;jr.prototype.digest=jr.prototype.l;jr.prototype.reset=jr.prototype.reset;jr.prototype.update=jr.prototype.j;ze.prototype.add=ze.prototype.add;ze.prototype.multiply=ze.prototype.R;ze.prototype.modulo=ze.prototype.gb;ze.prototype.compare=ze.prototype.X;ze.prototype.toNumber=ze.prototype.ea;ze.prototype.toString=ze.prototype.toString;ze.prototype.getBits=ze.prototype.D;ze.fromNumber=Zr;ze.fromString=LM;var H6=function(){return new gp},B6=function(){return Am()},dy=Rm,G6=tM,q6=ro,vk={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},K6=vd,Vh=nM,Q6=gt,X6=jr,Qo=ze;const yk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $l="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new Tm("@firebase/firestore");function wk(){return Va.logLevel}function ue(e,...t){if(Va.logLevel<=$e.DEBUG){const n=t.map(T1);Va.debug(`Firestore (${$l}): ${e}`,...n)}}function Qi(e,...t){if(Va.logLevel<=$e.ERROR){const n=t.map(T1);Va.error(`Firestore (${$l}): ${e}`,...n)}}function pl(e,...t){if(Va.logLevel<=$e.WARN){const n=t.map(T1);Va.warn(`Firestore (${$l}): ${e}`,...n)}}function T1(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(e="Unexpected state"){const t=`FIRESTORE (${$l}) INTERNAL ASSERTION FAILED: `+e;throw Qi(t),new Error(t)}function rt(e,t){e||ve()}function Ee(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends wr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class J6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class Z6{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class eH{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zi,t.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zi)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string"),new jM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return rt(t===null||typeof t=="string"),new an(t)}}class tH{constructor(t,n,r){this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}let nH=class{constructor(t,n,r){this.h=t,this.l=n,this.m=r}getToken(){return Promise.resolve(new tH(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}};class rH{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}let iH=class{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,n){const r=s=>{s.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.T;return this.T=s.token,ue("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(rt(typeof n.token=="string"),this.T=n.token,new rH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sH(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=sH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}}function Fe(e,t){return e<t?-1:e>t?1:0}function ml(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new se(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new se(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new se(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Mt.fromMillis(Date.now())}static fromDate(t){return Mt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new Mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Fe(this.nanoseconds,t.nanoseconds):Fe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(t){this.timestamp=t}static fromTimestamp(t){return new _e(t)}static min(){return new _e(new Mt(0,0))}static max(){return new _e(new Mt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(t,n,r){n===void 0?n=0:n>t.length&&ve(),r===void 0?r=t.length-n:r>t.length-n&&ve(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ru.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ru?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class tt extends Ru{construct(t,n,r){return new tt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new se(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const aH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Ru{construct(t,n,r){return new cn(t,n,r)}static isValidIdentifier(t){return aH.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new cn(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new se(H.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new se(H.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new se(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new se(H.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new cn(n)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t){this.path=t}static fromPath(t){return new pe(tt.fromString(t))}static fromName(t){return new pe(tt.fromString(t).popFirst(5))}static empty(){return new pe(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&tt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return tt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pe(new tt(t.slice()))}}function oH(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new Mt(n+1,0):new Mt(n,r));return new Ws(i,pe.empty(),t)}function lH(e){return new Ws(e.readTime,e.key,-1)}class Ws{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Ws(_e.min(),pe.empty(),-1)}static max(){return new Ws(_e.max(),pe.empty(),-1)}}function cH(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=pe.comparator(e.documentKey,t.documentKey),n!==0?n:Fe(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _d(e){if(e.code!==H.FAILED_PRECONDITION||e.message!==uH)throw e;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Z.reject(n)}static resolve(t){return new Z((n,r)=>{n(t)})}static reject(t){return new Z((n,r)=>{r(t)})}static waitFor(t){return new Z((n,r)=>{let i=0,s=0,a=!1;t.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(t){let n=Z.resolve(!1);for(const r of t)n=n.next(i=>i?Z.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new Z((r,i)=>{const s=t.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(d=>{a[u]=d,++o,o===s&&r(a)},d=>i(d))}})}static doWhile(t,n){return new Z((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function Sd(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}b1.ct=-1;function Vm(e){return e==null}function wp(e){return e===0&&1/e==-1/0}function hH(e){return typeof e=="number"&&Number.isInteger(e)&&!wp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function io(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function UM(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t,n){this.comparator=t,this.root=n||Ht.EMPTY}insert(t,n){return new ft(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(t){return new ft(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yh(this.root,t,this.comparator,!0)}}class Yh{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ht{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Ht.RED,this.left=i??Ht.EMPTY,this.right=s??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Ht(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const t=this.left.check();if(t!==this.right.check())throw ve();return t+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qn=class t0{constructor(t){this.comparator=t,this.data=new ft(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sk(this.data.getIterator())}getIteratorFrom(t){return new Sk(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof t0)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new t0(this.comparator);return n.data=t,n}};class Sk{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t){this.fields=t,t.sort(cn.comparator)}static empty(){return new Gn([])}unionWith(t){let n=new Qn(cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Gn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ml(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zn=class n0{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new zM("Invalid base64 string: "+i):i}}(t);return new n0(n)}static fromUint8Array(t){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(t);return new n0(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Fe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};Zn.EMPTY_BYTE_STRING=new Zn("");const fH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(e){if(rt(!!e),typeof e=="string"){let t=0;const n=fH.exec(e);if(rt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Tt(e.seconds),nanos:Tt(e.nanos)}}function Tt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ya(e){return typeof e=="string"?Zn.fromBase64String(e):Zn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function D1(e){const t=e.mapValue.fields.__previous_value__;return k1(t)?D1(t):t}function Pu(e){const t=Hs(e.mapValue.fields.__local_write_time__.timestampValue);return new Mt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(t,n,r,i,s,a,o,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}let VM=class r0{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new r0("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof r0&&t.projectId===this.projectId&&t.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Wa(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?k1(e)?4:mH(e)?9007199254740991:10:ve()}function oi(e,t){if(e===t)return!0;const n=Wa(e);if(n!==Wa(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Pu(e).isEqual(Pu(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Hs(r.timestampValue),a=Hs(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Ya(r.bytesValue).isEqual(Ya(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return Tt(r.geoPointValue.latitude)===Tt(i.geoPointValue.latitude)&&Tt(r.geoPointValue.longitude)===Tt(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Tt(r.integerValue)===Tt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Tt(r.doubleValue),a=Tt(i.doubleValue);return s===a?wp(s)===wp(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return ml(e.arrayValue.values||[],t.arrayValue.values||[],oi);case 10:return function(r,i){const s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(_k(s)!==_k(a))return!1;for(const o in s)if(s.hasOwnProperty(o)&&(a[o]===void 0||!oi(s[o],a[o])))return!1;return!0}(e,t);default:return ve()}}function $u(e,t){return(e.values||[]).find(n=>oi(n,t))!==void 0}function gl(e,t){if(e===t)return 0;const n=Wa(e),r=Wa(t);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(e.booleanValue,t.booleanValue);case 2:return function(i,s){const a=Tt(i.integerValue||i.doubleValue),o=Tt(s.integerValue||s.doubleValue);return a<o?-1:a>o?1:a===o?0:isNaN(a)?isNaN(o)?0:-1:1}(e,t);case 3:return Ek(e.timestampValue,t.timestampValue);case 4:return Ek(Pu(e),Pu(t));case 5:return Fe(e.stringValue,t.stringValue);case 6:return function(i,s){const a=Ya(i),o=Ya(s);return a.compareTo(o)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const a=i.split("/"),o=s.split("/");for(let l=0;l<a.length&&l<o.length;l++){const u=Fe(a[l],o[l]);if(u!==0)return u}return Fe(a.length,o.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const a=Fe(Tt(i.latitude),Tt(s.latitude));return a!==0?a:Fe(Tt(i.longitude),Tt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){const a=i.values||[],o=s.values||[];for(let l=0;l<a.length&&l<o.length;++l){const u=gl(a[l],o[l]);if(u)return u}return Fe(a.length,o.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){if(i===Wh.mapValue&&s===Wh.mapValue)return 0;if(i===Wh.mapValue)return 1;if(s===Wh.mapValue)return-1;const a=i.fields||{},o=Object.keys(a),l=s.fields||{},u=Object.keys(l);o.sort(),u.sort();for(let d=0;d<o.length&&d<u.length;++d){const f=Fe(o[d],u[d]);if(f!==0)return f;const p=gl(a[o[d]],l[u[d]]);if(p!==0)return p}return Fe(o.length,u.length)}(e.mapValue,t.mapValue);default:throw ve()}}function Ek(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Fe(e,t);const n=Hs(e),r=Hs(t),i=Fe(n.seconds,r.seconds);return i!==0?i:Fe(n.nanos,r.nanos)}function vl(e){return i0(e)}function i0(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const i=Hs(r);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ya(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,pe.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let i="[",s=!0;for(const a of r.values||[])s?s=!1:i+=",",i+=i0(a);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",a=!0;for(const o of i)a?a=!1:s+=",",s+=`${o}:${i0(r.fields[o])}`;return s+"}"}(e.mapValue):ve();var t,n}function Tk(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function s0(e){return!!e&&"integerValue"in e}function C1(e){return!!e&&"arrayValue"in e}function bk(e){return!!e&&"nullValue"in e}function kk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function yf(e){return!!e&&"mapValue"in e}function Zc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return io(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Zc(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Zc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function mH(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.value=t}static empty(){return new An({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!yf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zc(n)}setAll(t){let n=cn.emptyPath(),r={},i=[];t.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=Zc(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());yf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return oi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];yf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){io(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new An(Zc(this.value))}}function YM(e){const t=[];return io(e.fields,(n,r)=>{const i=new cn([n]);if(yf(r)){const s=YM(r.mapValue).fields;if(s.length===0)t.push(i);else for(const a of s)t.push(i.child(a))}else t.push(i)}),new Gn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t,n,r,i,s,a,o){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(t){return new ln(t,0,_e.min(),_e.min(),_e.min(),An.empty(),0)}static newFoundDocument(t,n,r,i){return new ln(t,1,n,_e.min(),r,i,0)}static newNoDocument(t,n){return new ln(t,2,n,_e.min(),_e.min(),An.empty(),0)}static newUnknownDocument(t,n){return new ln(t,3,n,_e.min(),_e.min(),An.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(t,n){this.position=t,this.inclusive=n}}function Dk(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(s.field.isKeyField()?r=pe.comparator(pe.fromName(a.referenceValue),n.key):r=gl(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ck(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!oi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t,n="asc"){this.field=t,this.dir=n}}function gH(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{}class kt extends WM{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new yH(t,n,r):n==="array-contains"?new SH(t,r):n==="in"?new EH(t,r):n==="not-in"?new TH(t,r):n==="array-contains-any"?new bH(t,r):new kt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new wH(t,r):new _H(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(gl(n,this.value)):n!==null&&Wa(this.value)===Wa(n)&&this.matchesComparison(gl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Fr extends WM{constructor(t,n){super(),this.filters=t,this.op=n,this.lt=null}static create(t,n){return new Fr(t,n)}matches(t){return HM(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(n=>n.isInequality());return t!==null?t.field:null}ft(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function HM(e){return e.op==="and"}function BM(e){return vH(e)&&HM(e)}function vH(e){for(const t of e.filters)if(t instanceof Fr)return!1;return!0}function a0(e){if(e instanceof kt)return e.field.canonicalString()+e.op.toString()+vl(e.value);if(BM(e))return e.filters.map(t=>a0(t)).join(",");{const t=e.filters.map(n=>a0(n)).join(",");return`${e.op}(${t})`}}function GM(e,t){return e instanceof kt?function(n,r){return r instanceof kt&&n.op===r.op&&n.field.isEqual(r.field)&&oi(n.value,r.value)}(e,t):e instanceof Fr?function(n,r){return r instanceof Fr&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,a)=>i&&GM(s,r.filters[a]),!0):!1}(e,t):void ve()}function qM(e){return e instanceof kt?function(t){return`${t.field.canonicalString()} ${t.op} ${vl(t.value)}`}(e):e instanceof Fr?function(t){return t.op.toString()+" {"+t.getFilters().map(qM).join(" ,")+"}"}(e):"Filter"}class yH extends kt{constructor(t,n,r){super(t,n,r),this.key=pe.fromName(r.referenceValue)}matches(t){const n=pe.comparator(t.key,this.key);return this.matchesComparison(n)}}class wH extends kt{constructor(t,n){super(t,"in",n),this.keys=KM("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class _H extends kt{constructor(t,n){super(t,"not-in",n),this.keys=KM("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function KM(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class SH extends kt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return C1(n)&&$u(n.arrayValue,this.value)}}class EH extends kt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&$u(this.value.arrayValue,n)}}class TH extends kt{constructor(t,n){super(t,"not-in",n)}matches(t){if($u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!$u(this.value.arrayValue,n)}}class bH extends kt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!C1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$u(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(t,n=null,r=[],i=[],s=null,a=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.dt=null}}function xk(e,t=null,n=[],r=[],i=null,s=null,a=null){return new kH(e,t,n,r,i,s,a)}function x1(e){const t=Ee(e);if(t.dt===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>a0(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Vm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>vl(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>vl(r)).join(",")),t.dt=n}return t.dt}function I1(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!gH(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!GM(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ck(e.startAt,t.startAt)&&Ck(e.endAt,t.endAt)}function o0(e){return pe.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(t,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function DH(e,t,n,r,i,s,a,o){return new Ll(e,t,n,r,i,s,a,o)}function Ym(e){return new Ll(e)}function Ik(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function N1(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Wm(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function QM(e){return e.collectionGroup!==null}function Jo(e){const t=Ee(e);if(t.wt===null){t.wt=[];const n=Wm(t),r=N1(t);if(n!==null&&r===null)n.isKeyField()||t.wt.push(new Xo(n)),t.wt.push(new Xo(cn.keyField(),"asc"));else{let i=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Xo(cn.keyField(),s))}}}return t.wt}function Xi(e){const t=Ee(e);if(!t._t)if(t.limitType==="F")t._t=xk(t.path,t.collectionGroup,Jo(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const s of Jo(t)){const a=s.dir==="desc"?"asc":"desc";n.push(new Xo(s.field,a))}const r=t.endAt?new _p(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new _p(t.startAt.position,t.startAt.inclusive):null;t._t=xk(t.path,t.collectionGroup,n,t.filters,t.limit,r,i)}return t._t}function l0(e,t){t.getFirstInequalityField(),Wm(e);const n=e.filters.concat([t]);return new Ll(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Sp(e,t,n){return new Ll(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Hm(e,t){return I1(Xi(e),Xi(t))&&e.limitType===t.limitType}function XM(e){return`${x1(Xi(e))}|lt:${e.limitType}`}function c0(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>qM(r)).join(", ")}]`),Vm(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>vl(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>vl(r)).join(",")),`Target(${n})`}(Xi(e))}; limitType=${e.limitType})`}function Bm(e,t){return t.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):pe.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(const i of Jo(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(i,s,a){const o=Dk(i,s,a);return i.inclusive?o<=0:o<0}(n.startAt,Jo(n),r)||n.endAt&&!function(i,s,a){const o=Dk(i,s,a);return i.inclusive?o>=0:o>0}(n.endAt,Jo(n),r))}(e,t)}function CH(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function JM(e){return(t,n)=>{let r=!1;for(const i of Jo(e)){const s=xH(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function xH(e,t,n){const r=e.field.isKeyField()?pe.comparator(t.key,n.key):function(i,s,a){const o=s.data.field(i),l=a.data.field(i);return o!==null&&l!==null?gl(o,l):ve()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){io(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return UM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH=new ft(pe.comparator);function Ji(){return IH}const ZM=new ft(pe.comparator);function $c(...e){let t=ZM;for(const n of e)t=t.insert(n.key,n);return t}function eA(e){let t=ZM;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function ba(){return eu()}function tA(){return eu()}function eu(){return new jl(e=>e.toString(),(e,t)=>e.isEqual(t))}const NH=new ft(pe.comparator),OH=new Qn(pe.comparator);function xe(...e){let t=OH;for(const n of e)t=t.add(n);return t}const MH=new Qn(Fe);function AH(){return MH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wp(t)?"-0":t}}function rA(e){return{integerValue:""+e}}function RH(e,t){return hH(t)?rA(t):nA(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(){this._=void 0}}function PH(e,t,n){return e instanceof Lu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&k1(i)&&(i=D1(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof yl?sA(e,t):e instanceof wl?aA(e,t):function(r,i){const s=iA(r,i),a=Nk(s)+Nk(r.gt);return s0(s)&&s0(r.gt)?rA(a):nA(r.serializer,a)}(e,t)}function $H(e,t,n){return e instanceof yl?sA(e,t):e instanceof wl?aA(e,t):n}function iA(e,t){return e instanceof Ep?s0(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}class Lu extends Gm{}class yl extends Gm{constructor(t){super(),this.elements=t}}function sA(e,t){const n=oA(t);for(const r of e.elements)n.some(i=>oi(i,r))||n.push(r);return{arrayValue:{values:n}}}class wl extends Gm{constructor(t){super(),this.elements=t}}function aA(e,t){let n=oA(t);for(const r of e.elements)n=n.filter(i=>!oi(i,r));return{arrayValue:{values:n}}}class Ep extends Gm{constructor(t,n){super(),this.serializer=t,this.gt=n}}function Nk(e){return Tt(e.integerValue||e.doubleValue)}function oA(e){return C1(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t,n){this.field=t,this.transform=n}}function LH(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof yl&&r instanceof yl||n instanceof wl&&r instanceof wl?ml(n.elements,r.elements,oi):n instanceof Ep&&r instanceof Ep?oi(n.gt,r.gt):n instanceof Lu&&r instanceof Lu}(e.transform,t.transform)}class jH{constructor(t,n){this.version=t,this.transformResults=n}}class kn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new kn}static exists(t){return new kn(void 0,t)}static updateTime(t){return new kn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class qm{}function lA(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Km(e.key,kn.none()):new Ed(e.key,e.data,kn.none());{const n=e.data,r=An.empty();let i=new Qn(cn.comparator);for(let s of t.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new ra(e.key,r,new Gn(i.toArray()),kn.none())}}function FH(e,t,n){e instanceof Ed?function(r,i,s){const a=r.value.clone(),o=Mk(r.fieldTransforms,i,s.transformResults);a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof ra?function(r,i,s){if(!wf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const a=Mk(r.fieldTransforms,i,s.transformResults),o=i.data;o.setAll(cA(r)),o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function tu(e,t,n,r){return e instanceof Ed?function(i,s,a,o){if(!wf(i.precondition,s))return a;const l=i.value.clone(),u=Ak(i.fieldTransforms,o,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof ra?function(i,s,a,o){if(!wf(i.precondition,s))return a;const l=Ak(i.fieldTransforms,o,s),u=s.data;return u.setAll(cA(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(i,s,a){return wf(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(e,t,n)}function UH(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=iA(r.transform,i||null);s!=null&&(n===null&&(n=An.empty()),n.set(r.field,s))}return n||null}function Ok(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ml(n,r,(i,s)=>LH(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ed extends qm{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ra extends qm{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function cA(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Mk(e,t,n){const r=new Map;rt(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,$H(a,o,n[i]))}return r}function Ak(e,t,n){const r=new Map;for(const i of e){const s=i.transform,a=n.data.field(i.field);r.set(i.field,PH(s,a,t))}return r}class Km extends qm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zH extends qm{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&FH(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=tu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=tu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=tA();return this.mutations.forEach(i=>{const s=t.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=lA(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),xe())}isEqual(t){return this.batchId===t.batchId&&ml(this.mutations,t.mutations,(n,r)=>Ok(n,r))&&ml(this.baseMutations,t.baseMutations,(n,r)=>Ok(n,r))}}class M1{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){rt(t.mutations.length===r.length);let i=NH;const s=t.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new M1(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Me;function HH(e){switch(e){default:return ve();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function uA(e){if(e===void 0)return Qi("GRPC error has no .code"),H.UNKNOWN;switch(e){case Et.OK:return H.OK;case Et.CANCELLED:return H.CANCELLED;case Et.UNKNOWN:return H.UNKNOWN;case Et.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Et.INTERNAL:return H.INTERNAL;case Et.UNAVAILABLE:return H.UNAVAILABLE;case Et.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Et.NOT_FOUND:return H.NOT_FOUND;case Et.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Et.ABORTED:return H.ABORTED;case Et.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Et.DATA_LOSS:return H.DATA_LOSS;default:return ve()}}(Me=Et||(Et={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Hh}static getOrCreateInstance(){return Hh===null&&(Hh=new A1),Hh}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}}let Hh=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GH=new Qo([4294967295,4294967295],0);function Rk(e){const t=BH().encode(e),n=new X6;return n.update(t),new Uint8Array(n.digest())}function Pk(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Qo([n,r],0),new Qo([i,s],0)]}class R1{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Lc(`Invalid padding: ${n}`);if(r<0)throw new Lc(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Lc(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Lc(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*t.length-n,this.Tt=Qo.fromNumber(this.It)}Et(t,n,r){let i=t.add(n.multiply(Qo.fromNumber(r)));return i.compare(GH)===1&&(i=new Qo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}vt(t){if(this.It===0)return!1;const n=Rk(t),[r,i]=Pk(n);for(let s=0;s<this.hashCount;s++){const a=this.Et(r,i,s);if(!this.At(a))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new R1(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(t){if(this.It===0)return;const n=Rk(t),[r,i]=Pk(n);for(let s=0;s<this.hashCount;s++){const a=this.Et(r,i,s);this.Rt(a)}}Rt(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Td.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Qm(_e.min(),i,new ft(Fe),Ji(),xe())}}class Td{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Td(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,n,r,i){this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i}}class dA{constructor(t,n){this.targetId=t,this.Vt=n}}class hA{constructor(t,n,r=Zn.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $k{constructor(){this.St=0,this.Dt=jk(),this.Ct=Zn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=xe(),n=xe(),r=xe();return this.Dt.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ve()}}),new Td(this.Ct,this.xt,t,n,r)}Ft(){this.Nt=!1,this.Dt=jk()}Bt(t,n){this.Nt=!0,this.Dt=this.Dt.insert(t,n)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class qH{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=Ji(),this.zt=Lk(),this.Wt=new ft(Fe)}Ht(t){for(const n of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(n,t.bt):this.Yt(n,t.key,t.bt);for(const n of t.removedTargetIds)this.Yt(n,t.key,t.bt)}Xt(t){this.forEachTarget(t,n=>{const r=this.Zt(n);switch(t.state){case 0:this.te(n)&&r.$t(t.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(t.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(t.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(t.resumeToken));break;default:ve()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(t){var n;const r=t.targetId,i=t.Vt.count,s=this.se(r);if(s){const a=s.target;if(o0(a))if(i===0){const o=new pe(a.path);this.Yt(r,o,ln.newNoDocument(o,_e.min()))}else rt(i===1);else{const o=this.ie(r);if(o!==i){const l=this.re(t,o);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=A1.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,d,f){var p,g,S,E,T,v;const w={localCacheCount:d,existenceFilterCount:f.count},b=f.unchangedNames;return b&&(w.bloomFilter={applied:u===0,hashCount:(p=b==null?void 0:b.hashCount)!==null&&p!==void 0?p:0,bitmapLength:(E=(S=(g=b==null?void 0:b.bits)===null||g===void 0?void 0:g.bitmap)===null||S===void 0?void 0:S.length)!==null&&E!==void 0?E:0,padding:(v=(T=b==null?void 0:b.bits)===null||T===void 0?void 0:T.padding)!==null&&v!==void 0?v:0}),w}(l,o,t.Vt))}}}}re(t,n){const{unchangedNames:r,count:i}=t.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:a=0},hashCount:o=0}=r;let l,u;try{l=Ya(s).toUint8Array()}catch(d){if(d instanceof zM)return pl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw d}try{u=new R1(l,a,o)}catch(d){return pl(d instanceof Lc?"BloomFilter error: ":"Applying bloom filter failed: ",d),1}return u.It===0?1:i!==n-this.oe(t.targetId,u)?2:0}oe(t,n){const r=this.Gt.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const a=this.Gt.ue(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;n.vt(o)||(this.Yt(t,s,null),i++)}),i}ce(t){const n=new Map;this.Qt.forEach((s,a)=>{const o=this.se(a);if(o){if(s.current&&o0(o.target)){const l=new pe(o.target.path);this.jt.get(l)!==null||this.ae(a,l)||this.Yt(a,l,ln.newNoDocument(l,t))}s.Mt&&(n.set(a,s.Ot()),s.Ft())}});let r=xe();this.zt.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.jt.forEach((s,a)=>a.setReadTime(t));const i=new Qm(t,n,this.Wt,this.jt,r);return this.jt=Ji(),this.zt=Lk(),this.Wt=new ft(Fe),i}Jt(t,n){if(!this.te(t))return;const r=this.ae(t,n.key)?2:0;this.Zt(t).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(t))}Yt(t,n,r){if(!this.te(t))return;const i=this.Zt(t);this.ae(t,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(t)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(t){this.Qt.delete(t)}ie(t){const n=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let n=this.Qt.get(t);return n||(n=new $k,this.Qt.set(t,n)),n}he(t){let n=this.zt.get(t);return n||(n=new Qn(Fe),this.zt=this.zt.insert(t,n)),n}te(t){const n=this.se(t)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",t),n}se(t){const n=this.Qt.get(t);return n&&n.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new $k),this.Gt.getRemoteKeysForTarget(t).forEach(n=>{this.Yt(t,n,null)})}ae(t,n){return this.Gt.getRemoteKeysForTarget(t).has(n)}}function Lk(){return new ft(pe.comparator)}function jk(){return new ft(pe.comparator)}const KH=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),QH=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),XH=(()=>({and:"AND",or:"OR"}))();class JH{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function u0(e,t){return e.useProto3Json||Vm(t)?t:{value:t}}function Tp(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ZH(e,t){return Tp(e,t.toTimestamp())}function ni(e){return rt(!!e),_e.fromTimestamp(function(t){const n=Hs(t);return new Mt(n.seconds,n.nanos)}(e))}function P1(e,t){return function(n){return new tt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function pA(e){const t=tt.fromString(e);return rt(yA(t)),t}function d0(e,t){return P1(e.databaseId,t.path)}function hy(e,t){const n=pA(t);if(n.get(1)!==e.databaseId.projectId)throw new se(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new se(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pe(mA(n))}function h0(e,t){return P1(e.databaseId,t)}function eB(e){const t=pA(e);return t.length===4?tt.emptyPath():mA(t)}function f0(e){return new tt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function mA(e){return rt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Fk(e,t,n){return{name:d0(e,t),fields:n.value.mapValue.fields}}function tB(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ve()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(rt(u===void 0||typeof u=="string"),Zn.fromBase64String(u||"")):(rt(u===void 0||u instanceof Uint8Array),Zn.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(l){const u=l.code===void 0?H.UNKNOWN:uA(l.code);return new se(u,l.message||"")}(a);n=new hA(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=hy(e,r.document.name),s=ni(r.document.updateTime),a=r.document.createTime?ni(r.document.createTime):_e.min(),o=new An({mapValue:{fields:r.document.fields}}),l=ln.newFoundDocument(i,s,a,o),u=r.targetIds||[],d=r.removedTargetIds||[];n=new _f(u,d,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=hy(e,r.document),s=r.readTime?ni(r.readTime):_e.min(),a=ln.newNoDocument(i,s),o=r.removedTargetIds||[];n=new _f([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=hy(e,r.document),s=r.removedTargetIds||[];n=new _f([],s,i,null)}else{if(!("filter"in t))return ve();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new WH(i,s),o=r.targetId;n=new dA(o,a)}}return n}function nB(e,t){let n;if(t instanceof Ed)n={update:Fk(e,t.key,t.value)};else if(t instanceof Km)n={delete:d0(e,t.key)};else if(t instanceof ra)n={update:Fk(e,t.key,t.data),updateMask:dB(t.fieldMask)};else{if(!(t instanceof zH))return ve();n={verify:d0(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,s){const a=s.transform;if(a instanceof Lu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof wl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ep)return{fieldPath:s.field.canonicalString(),increment:a.gt};throw ve()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:ZH(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ve()}(e,t.precondition)),n}function rB(e,t){return e&&e.length>0?(rt(t!==void 0),e.map(n=>function(r,i){let s=r.updateTime?ni(r.updateTime):ni(i);return s.isEqual(_e.min())&&(s=ni(i)),new jH(s,r.transformResults||[])}(n,t))):[]}function iB(e,t){return{documents:[h0(e,t.path)]}}function sB(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=h0(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=h0(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return vA(Fr.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:bo(d.field),direction:lB(d.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=u0(e,t.limit);var o;return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function aB(e){let t=eB(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){rt(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(d){const f=gA(d);return f instanceof Fr&&BM(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(d=>function(f){return new Xo(ko(f.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(d)));let o=null;n.limit&&(o=function(d){let f;return f=typeof d=="object"?d.value:d,Vm(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new _p(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,p=d.values||[];return new _p(p,f)}(n.endAt)),DH(t,i,a,s,o,"F",l,u)}function oB(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function gA(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=ko(t.unaryFilter.field);return kt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ko(t.unaryFilter.field);return kt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ko(t.unaryFilter.field);return kt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ko(t.unaryFilter.field);return kt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(e):e.fieldFilter!==void 0?function(t){return kt.create(ko(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return Fr.create(t.compositeFilter.filters.map(n=>gA(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ve()}}(t.compositeFilter.op))}(e):ve()}function lB(e){return KH[e]}function cB(e){return QH[e]}function uB(e){return XH[e]}function bo(e){return{fieldPath:e.canonicalString()}}function ko(e){return cn.fromServerFormat(e.fieldPath)}function vA(e){return e instanceof kt?function(t){if(t.op==="=="){if(kk(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NAN"}};if(bk(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(kk(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NAN"}};if(bk(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(t.field),op:cB(t.op),value:t.value}}}(e):e instanceof Fr?function(t){const n=t.getFilters().map(r=>vA(r));return n.length===1?n[0]:{compositeFilter:{op:uB(t.op),filters:n}}}(e):ve()}function dB(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function yA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t,n,r,i,s=_e.min(),a=_e.min(),o=Zn.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new ks(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(t){this.fe=t}}function fB(e){const t=aB({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Sp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pB{constructor(){this.rn=new mB}addToCollectionParentIndex(t,n){return this.rn.add(n),Z.resolve()}getCollectionParents(t,n){return Z.resolve(this.rn.getEntries(n))}addFieldIndex(t,n){return Z.resolve()}deleteFieldIndex(t,n){return Z.resolve()}getDocumentsMatchingTarget(t,n){return Z.resolve(null)}getIndexType(t,n){return Z.resolve(0)}getFieldIndexes(t,n){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,n){return Z.resolve(Ws.min())}getMinOffsetFromCollectionGroup(t,n){return Z.resolve(Ws.min())}updateCollectionGroup(t,n,r){return Z.resolve()}updateIndexEntries(t,n){return Z.resolve()}}class mB{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Qn(tt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Qn(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new _l(0)}static Mn(){return new _l(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(){this.changes=new jl(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&tu(r.mutation,i,Gn.empty(),Mt.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,xe()).next(()=>r))}getLocalViewOfDocuments(t,n,r=xe()){const i=ba();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let a=$c();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const r=ba();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,xe()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(t,n,r,i){let s=Ji();const a=eu(),o=eu();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof ra)?s=s.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),tu(d.mutation,u,d.mutation.getFieldMask(),Mt.now())):a.set(u.key,Gn.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>{var f;return o.set(u,new vB(d,(f=a.get(u))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(t,n){const r=eu();let i=new ft((a,o)=>a-o),s=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Gn.empty();d=o.applyToLocalView(u,d),r.set(l,d);const f=(i.get(o.batchId)||xe()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,f=tA();d.forEach(p=>{if(!s.has(p)){const g=lA(n.get(p),r.get(p));g!==null&&f.set(p,g),s=s.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(t,u,f))}return Z.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):QM(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):Z.resolve(ba());let o=-1,l=s;return a.next(u=>Z.forEach(u,(d,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(d)?Z.resolve():this.remoteDocumentCache.getEntry(t,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,xe())).next(d=>({batchId:o,changes:eA(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pe(n)).next(r=>{let i=$c();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const i=n.collectionGroup;let s=$c();return this.indexManager.getCollectionParents(t,i).next(a=>Z.forEach(a,o=>{const l=function(u,d){return new Ll(d,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,o.child(i));return this.getDocumentsMatchingCollectionQuery(t,l,r).next(u=>{u.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i))).next(s=>{i.forEach((o,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,ln.newInvalidDocument(u)))});let a=$c();return s.forEach((o,l)=>{const u=i.get(o);u!==void 0&&tu(u.mutation,l,Gn.empty(),Mt.now()),Bm(n,l)&&(a=a.insert(o,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,n){return Z.resolve(this.cs.get(n))}saveBundleMetadata(t,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ni(r.createTime)}),Z.resolve()}getNamedQuery(t,n){return Z.resolve(this.hs.get(n))}saveNamedQuery(t,n){return this.hs.set(n.name,function(r){return{name:r.name,query:fB(r.bundledQuery),readTime:ni(r.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(){this.overlays=new ft(pe.comparator),this.ls=new Map}getOverlay(t,n){return Z.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ba();return Z.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.we(t,n,s)}),Z.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),Z.resolve()}getOverlaysForCollection(t,n,r){const i=ba(),s=n.length+1,a=new pe(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Z.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new ft((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=ba(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=ba(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=i)););return Z.resolve(o)}we(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new YH(n,r));let s=this.ls.get(n);s===void 0&&(s=xe(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this.fs=new Qn($t.ds),this.ws=new Qn($t._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,n){const r=new $t(t,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.ys(new $t(t,n))}ps(t,n){t.forEach(r=>this.removeReference(r,n))}Is(t){const n=new pe(new tt([])),r=new $t(n,t),i=new $t(n,t+1),s=[];return this.ws.forEachInRange([r,i],a=>{this.ys(a),s.push(a.key)}),s}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const n=new pe(new tt([])),r=new $t(n,t),i=new $t(n,t+1);let s=xe();return this.ws.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new $t(t,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class $t{constructor(t,n){this.key=t,this.As=n}static ds(t,n){return pe.comparator(t.key,n.key)||Fe(t.As,n.As)}static _s(t,n){return Fe(t.As,n.As)||pe.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Qn($t.ds)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new VH(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Rs=this.Rs.add(new $t(o.key,s)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return Z.resolve(a)}lookupMutationBatch(t,n){return Z.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return Z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new $t(n,0),i=new $t(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],a=>{const o=this.Ps(a.As);s.push(o)}),Z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Qn(Fe);return n.forEach(i=>{const s=new $t(i,0),a=new $t(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,a],o=>{r=r.add(o.As)})}),Z.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;pe.isDocumentKey(s)||(s=s.child(""));const a=new $t(new pe(s),0);let o=new Qn(Fe);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.As)),!0)},a),Z.resolve(this.Vs(o))}Vs(t){const n=[];return t.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){rt(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return Z.forEach(n.mutations,i=>{const s=new $t(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Rs=r})}Cn(t){}containsKey(t,n){const r=new $t(n,0),i=this.Rs.firstAfterOrEqual(r);return Z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}Ss(t,n){return this.bs(t)}bs(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Ps(t){const n=this.bs(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(t){this.Ds=t,this.docs=new ft(pe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(t,n){let r=Ji();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ln.newInvalidDocument(i))}),Z.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Ji();const a=n.path,o=new pe(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||cH(lH(d),r)<=0||(i.has(d.key)||Bm(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Z.resolve(s)}getAllFromCollectionGroup(t,n,r,i){ve()}Cs(t,n){return Z.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new TB(this)}getSize(t){return Z.resolve(this.size)}}class TB extends gB{constructor(t){super(),this.os=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(t,i)):this.os.removeEntry(r)}),Z.waitFor(n)}getFromCache(t,n){return this.os.getEntry(t,n)}getAllFromCache(t,n){return this.os.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(t){this.persistence=t,this.xs=new jl(n=>x1(n),I1),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Ns=0,this.ks=new $1,this.targetCount=0,this.Ms=_l.kn()}forEachTarget(t,n){return this.xs.forEach((r,i)=>n(i)),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Z.resolve()}Fn(t){this.xs.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ms=new _l(n),this.highestTargetId=n),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,n){return this.Fn(n),this.targetCount+=1,Z.resolve()}updateTargetData(t,n){return this.Fn(n),Z.resolve()}removeTargetData(t,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.xs.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.xs.delete(a),s.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),Z.waitFor(s).next(()=>i)}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,n){const r=this.xs.get(n)||null;return Z.resolve(r)}addMatchingKeys(t,n,r){return this.ks.gs(n,r),Z.resolve()}removeMatchingKeys(t,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(t,a))}),Z.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.ks.Is(n),Z.resolve()}getMatchingKeysForTargetId(t,n){const r=this.ks.Es(n);return Z.resolve(r)}containsKey(t,n){return Z.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(t,n){this.$s={},this.overlays={},this.Os=new b1(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new bB(this),this.indexManager=new pB,this.remoteDocumentCache=function(r){return new EB(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new hB(n),this.qs=new wB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new _B,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.$s[t.toKey()];return r||(r=new SB(n,this.referenceDelegate),this.$s[t.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,n,r){ue("MemoryPersistence","Starting transaction:",t);const i=new DB(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(t,n){return Z.or(Object.values(this.$s).map(r=>()=>r.containsKey(t,n)))}}class DB extends dH{constructor(t){super(),this.currentSequenceNumber=t}}class L1{constructor(t){this.persistence=t,this.Qs=new $1,this.js=null}static zs(t){return new L1(t)}get Ws(){if(this.js)return this.js;throw ve()}addReference(t,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Z.resolve()}removeReference(t,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,n){return this.Ws.add(n.toString()),Z.resolve()}removeTarget(t,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Us(){this.js=new Set}Ks(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Ws,r=>{const i=pe.fromPath(r);return this.Hs(t,i).next(s=>{s||n.removeEntry(i,_e.min())})}).next(()=>(this.js=null,n.apply(t)))}updateLimboDocument(t,n){return this.Hs(t,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(t){return 0}Hs(t,n){return Z.or([()=>Z.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gs(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(t,n){let r=xe(),i=xe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new j1(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(){this.qi=!1}initialize(t,n){this.Ui=t,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(t,n,r,i){return this.Ki(t,n).next(s=>s||this.Gi(t,n,i,r)).next(s=>s||this.Qi(t,n))}Ki(t,n){if(Ik(n))return Z.resolve(null);let r=Xi(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sp(n,null,"F"),r=Xi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const a=xe(...s);return this.Ui.getDocuments(t,a).next(o=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.ji(n,o);return this.zi(n,u,a,l.readTime)?this.Ki(t,Sp(n,null,"F")):this.Wi(t,u,n,l)}))})))}Gi(t,n,r,i){return Ik(n)||i.isEqual(_e.min())?this.Qi(t,n):this.Ui.getDocuments(t,r).next(s=>{const a=this.ji(n,s);return this.zi(n,a,r,i)?this.Qi(t,n):(wk()<=$e.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),c0(n)),this.Wi(t,a,n,oH(i,-1)))})}ji(t,n){let r=new Qn(JM(t));return n.forEach((i,s)=>{Bm(t,s)&&(r=r.add(s))}),r}zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(t,n){return wk()<=$e.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",c0(n)),this.Ui.getDocumentsMatchingQuery(t,n,Ws.min())}Wi(t,n,r,i){return this.Ui.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(t,n,r,i){this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new ft(Fe),this.Yi=new jl(s=>x1(s),I1),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new yB(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ji))}}function IB(e,t,n,r){return new xB(e,t,n,r)}async function wA(e,t){const n=Ee(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=xe();for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:a,addedBatchIds:o}))})})}function NB(e,t){const n=Ee(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(a,o,l,u){const d=l.batch,f=d.keys();let p=Z.resolve();return f.forEach(g=>{p=p.next(()=>u.getEntry(o,g)).next(S=>{const E=l.docVersions.get(g);rt(E!==null),S.version.compareTo(E)<0&&(d.applyToRemoteDocument(S,l),S.isValidDocument()&&(S.setReadTime(l.commitVersion),u.addEntry(S)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(o,d))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let o=xe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(o=o.add(a.batch.mutations[l].key));return o}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function _A(e){const t=Ee(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Bs.getLastRemoteSnapshotVersion(n))}function OB(e,t){const n=Ee(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const o=[];t.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;o.push(n.Bs.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Bs.addMatchingKeys(s,d.addedDocuments,f)));let g=p.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?g=g.withResumeToken(Zn.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(S,E,T){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,g,d)&&o.push(n.Bs.updateTargetData(s,g))});let l=Ji(),u=xe();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),o.push(MB(s,a,t.documentUpdates).next(d=>{l=d.nr,u=d.sr})),!r.isEqual(_e.min())){const d=n.Bs.getLastRemoteSnapshotVersion(s).next(f=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(d)}return Z.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function MB(e,t,n){let r=xe(),i=xe();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let a=Ji();return n.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(_e.min())?(t.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),a=a.insert(o,l)):ue("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{nr:a,sr:i}})}function AB(e,t){const n=Ee(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function RB(e,t){const n=Ee(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,t).next(s=>s?(i=s,Z.resolve(i)):n.Bs.allocateTargetId(r).next(a=>(i=new ks(t,a,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(t,r.targetId)),r})}async function p0(e,t,n){const r=Ee(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Sd(a))throw a;ue("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function Uk(e,t,n){const r=Ee(e);let i=_e.min(),s=xe();return r.persistence.runTransaction("Execute query","readonly",a=>function(o,l,u){const d=Ee(o),f=d.Yi.get(u);return f!==void 0?Z.resolve(d.Ji.get(f)):d.Bs.getTargetData(l,u)}(r,a,Xi(t)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(a,t,n?i:_e.min(),n?s:xe())).next(o=>(PB(r,CH(t),o),{documents:o,ir:s})))}function PB(e,t,n){let r=e.Xi.get(t)||_e.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Xi.set(t,r)}class zk{constructor(){this.activeTargetIds=AH()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class $B{constructor(){this.Hr=new zk,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,n,r){this.Jr[t]=n}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new zk,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{Yr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh=null;function fy(){return Bh===null?Bh=268435456+Math.round(2147483648*Math.random()):Bh++,"0x"+Bh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class UB extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,n,r,i,s){const a=fy(),o=this.To(t,n);ue("RestConnection",`Sending RPC '${t}' ${a}:`,o,r);const l={};return this.Eo(l,i,s),this.Ao(t,o,l,r).then(u=>(ue("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw pl("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",o,"request:",r),u})}vo(t,n,r,i,s,a){return this.Io(t,n,r,i,s)}Eo(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+$l,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}To(t,n){const r=jB[t];return`${this.mo}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,n,r,i){const s=fy();return new Promise((a,o)=>{const l=new Q6;l.setWithCredentials(!0),l.listenOnce(G6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case dy.NO_ERROR:const d=l.getResponseJson();ue(rn,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(d)),a(d);break;case dy.TIMEOUT:ue(rn,`RPC '${t}' ${s} timed out`),o(new se(H.DEADLINE_EXCEEDED,"Request time out"));break;case dy.HTTP_ERROR:const f=l.getStatus();if(ue(rn,`RPC '${t}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const S=function(E){const T=E.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(T)>=0?T:H.UNKNOWN}(g.status);o(new se(S,g.message))}else o(new se(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new se(H.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{ue(rn,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);ue(rn,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(t,n,r){const i=fy(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=H6(),o=B6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new K6({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");ue(rn,`Creating RPC '${t}' stream ${i}: ${d}`,l);const f=a.createWebChannel(d,l);let p=!1,g=!1;const S=new FB({ro:T=>{g?ue(rn,`Not sending because RPC '${t}' stream ${i} is closed:`,T):(p||(ue(rn,`Opening RPC '${t}' stream ${i} transport.`),f.open(),p=!0),ue(rn,`RPC '${t}' stream ${i} sending:`,T),f.send(T))},oo:()=>f.close()}),E=(T,v,w)=>{T.listen(v,b=>{try{w(b)}catch(D){setTimeout(()=>{throw D},0)}})};return E(f,Vh.EventType.OPEN,()=>{g||ue(rn,`RPC '${t}' stream ${i} transport opened.`)}),E(f,Vh.EventType.CLOSE,()=>{g||(g=!0,ue(rn,`RPC '${t}' stream ${i} transport closed`),S.wo())}),E(f,Vh.EventType.ERROR,T=>{g||(g=!0,pl(rn,`RPC '${t}' stream ${i} transport errored:`,T),S.wo(new se(H.UNAVAILABLE,"The operation could not be completed")))}),E(f,Vh.EventType.MESSAGE,T=>{var v;if(!g){const w=T.data[0];rt(!!w);const b=w,D=b.error||((v=b[0])===null||v===void 0?void 0:v.error);if(D){ue(rn,`RPC '${t}' stream ${i} received error:`,D);const C=D.status;let I=function(O){const P=Et[O];if(P!==void 0)return uA(P)}(C),N=D.message;I===void 0&&(I=H.INTERNAL,N="Unknown error status: "+C+" with message "+D.message),g=!0,S.wo(new se(I,N)),f.close()}else ue(rn,`RPC '${t}' stream ${i} received:`,w),S._o(w)}}),E(o,q6.STAT_EVENT,T=>{T.stat===vk.PROXY?ue(rn,`RPC '${t}' stream ${i} detected buffering proxy`):T.stat===vk.NOPROXY&&ue(rn,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.fo()},0),S}}function py(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(e){return new JH(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t,n,r=1e3,i=1.5,s=6e4){this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(t,n,r,i,s,a,o,l){this.ii=t,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new SA(t,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(t,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,t!==4?this.qo.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{t(()=>{const i=new se(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(t,n){const r=this.Xo(this.Fo);this.stream=this.eu(t,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(t){return ue("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return n=>{this.ii.enqueueAndForget(()=>this.Fo===t?n():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zB extends EA{constructor(t,n,r,i,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}eu(t,n){return this.connection.Ro("Listen",t,n)}onMessage(t){this.qo.reset();const n=tB(this.serializer,t),r=function(i){if(!("targetChange"in i))return _e.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?_e.min():s.readTime?ni(s.readTime):_e.min()}(t);return this.listener.nu(n,r)}su(t){const n={};n.database=f0(this.serializer),n.addTarget=function(i,s){let a;const o=s.target;if(a=o0(o)?{documents:iB(i,o)}:{query:sB(i,o)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=fA(i,s.resumeToken);const l=u0(i,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(_e.min())>0){a.readTime=Tp(i,s.snapshotVersion.toTimestamp());const l=u0(i,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,t);const r=oB(this.serializer,t);r&&(n.labels=r),this.Wo(n)}iu(t){const n={};n.database=f0(this.serializer),n.removeTarget=t,this.Wo(n)}}class VB extends EA{constructor(t,n,r,i,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,n){return this.connection.Ro("Write",t,n)}onMessage(t){if(rt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const n=rB(t.writeResults,t.commitTime),r=ni(t.commitTime);return this.listener.cu(r,n)}return rt(!t.writeResults||t.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const t={};t.database=f0(this.serializer),this.Wo(t)}uu(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>nB(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new se(H.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new se(H.UNKNOWN,i.toString())})}vo(t,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(t,n,r,s,a,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(H.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class WB{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,t==="Online"&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Qi(n),this.mu=!1):ue("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(async()=>{so(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(o){const l=Ee(o);l.vu.add(4),await bd(l),l.bu.set("Unknown"),l.vu.delete(4),await Jm(l)}(this))})}),this.bu=new WB(r,i)}}async function Jm(e){if(so(e))for(const t of e.Ru)await t(!0)}async function bd(e){for(const t of e.Ru)await t(!1)}function TA(e,t){const n=Ee(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),z1(n)?U1(n):Fl(n).Ko()&&F1(n,t))}function bA(e,t){const n=Ee(e),r=Fl(n);n.Au.delete(t),r.Ko()&&kA(n,t),n.Au.size===0&&(r.Ko()?r.jo():so(n)&&n.bu.set("Unknown"))}function F1(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_e.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Fl(e).su(t)}function kA(e,t){e.Vu.qt(t),Fl(e).iu(t)}function U1(e){e.Vu=new qH({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Fl(e).start(),e.bu.gu()}function z1(e){return so(e)&&!Fl(e).Uo()&&e.Au.size>0}function so(e){return Ee(e).vu.size===0}function DA(e){e.Vu=void 0}async function BB(e){e.Au.forEach((t,n)=>{F1(e,t)})}async function GB(e,t){DA(e),z1(e)?(e.bu.Iu(t),U1(e)):e.bu.set("Unknown")}async function qB(e,t,n){if(e.bu.set("Online"),t instanceof hA&&t.state===2&&t.cause)try{await async function(r,i){const s=i.cause;for(const a of i.targetIds)r.Au.has(a)&&(await r.remoteSyncer.rejectListen(a,s),r.Au.delete(a),r.Vu.removeTarget(a))}(e,t)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await bp(e,r)}else if(t instanceof _f?e.Vu.Ht(t):t instanceof dA?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(_e.min()))try{const r=await _A(e.localStore);n.compareTo(r)>=0&&await function(i,s){const a=i.Vu.ce(s);return a.targetChanges.forEach((o,l)=>{if(o.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(o.resumeToken,s))}}),a.targetMismatches.forEach((o,l)=>{const u=i.Au.get(o);if(!u)return;i.Au.set(o,u.withResumeToken(Zn.EMPTY_BYTE_STRING,u.snapshotVersion)),kA(i,o);const d=new ks(u.target,o,l,u.sequenceNumber);F1(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),await bp(e,r)}}async function bp(e,t,n){if(!Sd(t))throw t;e.vu.add(1),await bd(e),e.bu.set("Offline"),n||(n=()=>_A(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Jm(e)})}function CA(e,t){return t().catch(n=>bp(e,n,t))}async function Zm(e){const t=Ee(e),n=Bs(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;KB(t);)try{const i=await AB(t.localStore,r);if(i===null){t.Eu.length===0&&n.jo();break}r=i.batchId,QB(t,i)}catch(i){await bp(t,i)}xA(t)&&IA(t)}function KB(e){return so(e)&&e.Eu.length<10}function QB(e,t){e.Eu.push(t);const n=Bs(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function xA(e){return so(e)&&!Bs(e).Uo()&&e.Eu.length>0}function IA(e){Bs(e).start()}async function XB(e){Bs(e).hu()}async function JB(e){const t=Bs(e);for(const n of e.Eu)t.uu(n.mutations)}async function ZB(e,t,n){const r=e.Eu.shift(),i=M1.from(r,t,n);await CA(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Zm(e)}async function e9(e,t){t&&Bs(e).ou&&await async function(n,r){if(i=r.code,HH(i)&&i!==H.ABORTED){const s=n.Eu.shift();Bs(n).Qo(),await CA(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Zm(n)}var i}(e,t),xA(e)&&IA(e)}async function Yk(e,t){const n=Ee(e);n.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=so(n);n.vu.add(3),await bd(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Jm(n)}async function t9(e,t){const n=Ee(e);t?(n.vu.delete(2),await Jm(n)):t||(n.vu.add(2),await bd(n),n.bu.set("Unknown"))}function Fl(e){return e.Su||(e.Su=function(t,n,r){const i=Ee(t);return i.fu(),new zB(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{uo:BB.bind(null,e),ao:GB.bind(null,e),nu:qB.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),z1(e)?U1(e):e.bu.set("Unknown")):(await e.Su.stop(),DA(e))})),e.Su}function Bs(e){return e.Du||(e.Du=function(t,n,r){const i=Ee(t);return i.fu(),new VB(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{uo:XB.bind(null,e),ao:e9.bind(null,e),au:JB.bind(null,e),cu:ZB.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await Zm(e)):(await e.Du.stop(),e.Eu.length>0&&(ue("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))})),e.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(t,n,r,i,s){const a=Date.now()+r,o=new V1(t,n,a,i,s);return o.start(r),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(H.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Y1(e,t){if(Qi("AsyncQueue",`${t}: ${e}`),Sd(e))return new se(H.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(t){this.comparator=t?(n,r)=>t(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=$c(),this.sortedSet=new ft(this.comparator)}static emptySet(t){return new Zo(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Zo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Zo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.Cu=new ft(pe.comparator)}track(t){const n=t.doc.key,r=this.Cu.get(n);r?t.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,t):t.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Cu=this.Cu.remove(n):t.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:t.doc}):ve():this.Cu=this.Cu.insert(n,t)}xu(){const t=[];return this.Cu.inorderTraversal((n,r)=>{t.push(r)}),t}}class Sl{constructor(t,n,r,i,s,a,o,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Sl(t,n,Zo.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Hm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(){this.Nu=void 0,this.listeners=[]}}class r9{constructor(){this.queries=new jl(t=>XM(t),Hm),this.onlineState="Unknown",this.ku=new Set}}async function W1(e,t){const n=Ee(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new n9),i)try{s.Nu=await n.onListen(r)}catch(a){const o=Y1(a,`Initialization of query '${c0(t.query)}' failed`);return void t.onError(o)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&B1(n)}async function H1(e,t){const n=Ee(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const a=s.listeners.indexOf(t);a>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function i9(e,t){const n=Ee(e);let r=!1;for(const i of t){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.listeners)o.$u(i)&&(r=!0);a.Nu=i}}r&&B1(n)}function s9(e,t,n){const r=Ee(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function B1(e){e.ku.forEach(t=>{t.next()})}class G1{constructor(t,n,r){this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Sl(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),n=!0):this.qu(t,this.onlineState)&&(this.Uu(t),n=!0),this.Bu=t,n}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),n=!0),n}qu(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Lu(t){if(t.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(t){t=Sl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(t){this.key=t}}class OA{constructor(t){this.key=t}}class a9{constructor(t,n){this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=xe(),this.mutatedKeys=xe(),this.tc=JM(t),this.ec=new Zo(this.tc)}get nc(){return this.Yu}sc(t,n){const r=n?n.ic:new Wk,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((d,f)=>{const p=i.get(d),g=Bm(this.query,f)?f:null,S=!!p&&this.mutatedKeys.has(p.key),E=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let T=!1;p&&g?p.data.isEqual(g.data)?S!==E&&(r.track({type:3,doc:g}),T=!0):this.rc(p,g)||(r.track({type:2,doc:g}),T=!0,(l&&this.tc(g,l)>0||u&&this.tc(g,u)<0)&&(o=!0)):!p&&g?(r.track({type:0,doc:g}),T=!0):p&&!g&&(r.track({type:1,doc:p}),T=!0,(l||u)&&(o=!0)),T&&(g?(a=a.add(g),s=E?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{ec:a,ic:r,zi:o,mutatedKeys:s}}rc(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const s=t.ic.xu();s.sort((u,d)=>function(f,p){const g=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return g(f)-g(p)}(u.type,d.type)||this.tc(u.doc,d.doc)),this.oc(r);const a=n?this.uc():[],o=this.Zu.size===0&&this.current?1:0,l=o!==this.Xu;return this.Xu=o,s.length!==0||l?{snapshot:new Sl(this.query,t.ec,i,s,t.mutatedKeys,o===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}Mu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Wk,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=xe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return t.forEach(r=>{this.Zu.has(r)||n.push(new OA(r))}),this.Zu.forEach(r=>{t.has(r)||n.push(new NA(r))}),n}hc(t){this.Yu=t.ir,this.Zu=xe();const n=this.sc(t.documents);return this.applyChanges(n,!0)}lc(){return Sl.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class o9{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class l9{constructor(t){this.key=t,this.fc=!1}}class c9{constructor(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new jl(o=>XM(o),Hm),this._c=new Map,this.mc=new Set,this.gc=new ft(pe.comparator),this.yc=new Map,this.Ic=new $1,this.Tc={},this.Ec=new Map,this.Ac=_l.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function u9(e,t){const n=_9(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const a=await RB(n.localStore,Xi(t)),o=n.sharedClientState.addLocalQueryTarget(a.targetId);r=a.targetId,i=await d9(n,t,r,o==="current",a.resumeToken),n.isPrimaryClient&&TA(n.remoteStore,a)}return i}async function d9(e,t,n,r,i){e.Rc=(f,p,g)=>async function(S,E,T,v){let w=E.view.sc(T);w.zi&&(w=await Uk(S.localStore,E.query,!1).then(({documents:C})=>E.view.sc(C,w)));const b=v&&v.targetChanges.get(E.targetId),D=E.view.applyChanges(w,S.isPrimaryClient,b);return Bk(S,E.targetId,D.cc),D.snapshot}(e,f,p,g);const s=await Uk(e.localStore,t,!0),a=new a9(t,s.ir),o=a.sc(s.documents),l=Td.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=a.applyChanges(o,e.isPrimaryClient,l);Bk(e,n,u.cc);const d=new o9(t,n,a);return e.wc.set(t,d),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}async function h9(e,t){const n=Ee(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Hm(s,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await p0(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),bA(n.remoteStore,r.targetId),m0(n,r.targetId)}).catch(_d)):(m0(n,r.targetId),await p0(n.localStore,r.targetId,!0))}async function f9(e,t,n){const r=S9(e);try{const i=await function(s,a){const o=Ee(s),l=Mt.now(),u=a.reduce((p,g)=>p.add(g.key),xe());let d,f;return o.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Ji(),S=xe();return o.Zi.getEntries(p,u).next(E=>{g=E,g.forEach((T,v)=>{v.isValidDocument()||(S=S.add(T))})}).next(()=>o.localDocuments.getOverlayedDocuments(p,g)).next(E=>{d=E;const T=[];for(const v of a){const w=UH(v,d.get(v.key).overlayedDocument);w!=null&&T.push(new ra(v.key,w,YM(w.value.mapValue),kn.exists(!0)))}return o.mutationQueue.addMutationBatch(p,l,T,a)}).next(E=>{f=E;const T=E.applyToLocalDocumentSet(d,S);return o.documentOverlayCache.saveOverlays(p,E.batchId,T)})}).then(()=>({batchId:f.batchId,changes:eA(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,o){let l=s.Tc[s.currentUser.toKey()];l||(l=new ft(Fe)),l=l.insert(a,o),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await kd(r,i.changes),await Zm(r.remoteStore)}catch(i){const s=Y1(i,"Failed to persist write");n.reject(s)}}async function MA(e,t){const n=Ee(e);try{const r=await OB(n.localStore,t);t.targetChanges.forEach((i,s)=>{const a=n.yc.get(s);a&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.fc=!0:i.modifiedDocuments.size>0?rt(a.fc):i.removedDocuments.size>0&&(rt(a.fc),a.fc=!1))}),await kd(n,r,t)}catch(r){await _d(r)}}function Hk(e,t,n){const r=Ee(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,a)=>{const o=a.view.Mu(t);o.snapshot&&i.push(o.snapshot)}),function(s,a){const o=Ee(s);o.onlineState=a;let l=!1;o.queries.forEach((u,d)=>{for(const f of d.listeners)f.Mu(a)&&(l=!0)}),l&&B1(o)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function p9(e,t,n){const r=Ee(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let a=new ft(pe.comparator);a=a.insert(s,ln.newNoDocument(s,_e.min()));const o=xe().add(s),l=new Qm(_e.min(),new Map,new ft(Fe),a,o);await MA(r,l),r.gc=r.gc.remove(s),r.yc.delete(t),q1(r)}else await p0(r.localStore,t,!1).then(()=>m0(r,t,n)).catch(_d)}async function m9(e,t){const n=Ee(e),r=t.batch.batchId;try{const i=await NB(n.localStore,t);RA(n,r,null),AA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await kd(n,i)}catch(i){await _d(i)}}async function g9(e,t,n){const r=Ee(e);try{const i=await function(s,a){const o=Ee(s);return o.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return o.mutationQueue.lookupMutationBatch(l,a).next(d=>(rt(d!==null),u=d.keys(),o.mutationQueue.removeMutationBatch(l,d))).next(()=>o.mutationQueue.performConsistencyCheck(l)).next(()=>o.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>o.localDocuments.getDocuments(l,u))})}(r.localStore,t);RA(r,t,n),AA(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await kd(r,i)}catch(i){await _d(i)}}function AA(e,t){(e.Ec.get(t)||[]).forEach(n=>{n.resolve()}),e.Ec.delete(t)}function RA(e,t,n){const r=Ee(e);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function m0(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(r=>{e.Ic.containsKey(r)||PA(e,r)})}function PA(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);n!==null&&(bA(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),q1(e))}function Bk(e,t,n){for(const r of n)r instanceof NA?(e.Ic.addReference(r.key,t),v9(e,r)):r instanceof OA?(ue("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||PA(e,r.key)):ve()}function v9(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(ue("SyncEngine","New document in limbo: "+n),e.mc.add(r),q1(e))}function q1(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new pe(tt.fromString(t)),r=e.Ac.next();e.yc.set(r,new l9(n)),e.gc=e.gc.insert(n,r),TA(e.remoteStore,new ks(Xi(Ym(n.path)),r,"TargetPurposeLimboResolution",b1.ct))}}async function kd(e,t,n){const r=Ee(e),i=[],s=[],a=[];r.wc.isEmpty()||(r.wc.forEach((o,l)=>{a.push(r.Rc(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const d=j1.Li(l.targetId,u);s.push(d)}}))}),await Promise.all(a),r.dc.nu(i),await async function(o,l){const u=Ee(o);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Z.forEach(l,f=>Z.forEach(f.Fi,p=>u.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>Z.forEach(f.Bi,p=>u.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!Sd(d))throw d;ue("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const f=d.targetId;if(!d.fromCache){const p=u.Ji.get(f),g=p.snapshotVersion,S=p.withLastLimboFreeSnapshotVersion(g);u.Ji=u.Ji.insert(f,S)}}}(r.localStore,s))}async function y9(e,t){const n=Ee(e);if(!n.currentUser.isEqual(t)){ue("SyncEngine","User change. New user:",t.toKey());const r=await wA(n.localStore,t);n.currentUser=t,function(i,s){i.Ec.forEach(a=>{a.forEach(o=>{o.reject(new se(H.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await kd(n,r.er)}}function w9(e,t){const n=Ee(e),r=n.yc.get(t);if(r&&r.fc)return xe().add(r.key);{let i=xe();const s=n._c.get(t);if(!s)return i;for(const a of s){const o=n.wc.get(a);i=i.unionWith(o.view.nc)}return i}}function _9(e){const t=Ee(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=MA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=w9.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=p9.bind(null,t),t.dc.nu=i9.bind(null,t.eventManager),t.dc.Pc=s9.bind(null,t.eventManager),t}function S9(e){const t=Ee(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=m9.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=g9.bind(null,t),t}class Gk{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Xm(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return IB(this.persistence,new CB,t.initialUser,this.serializer)}createPersistence(t){return new kB(L1.zs,this.serializer)}createSharedClientState(t){return new $B}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class E9{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Hk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=y9.bind(null,this.syncEngine),await t9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new r9}createDatastore(t){const n=Xm(t.databaseInfo.databaseId),r=(i=t.databaseInfo,new UB(i));var i;return function(s,a,o,l){return new YB(s,a,o,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=o=>Hk(this.syncEngine,o,0),a=Vk.D()?new Vk:new LB,new HB(n,r,i,s,a);var n,r,i,s,a}createSyncEngine(t,n){return function(r,i,s,a,o,l,u){const d=new c9(r,i,s,a,o,l);return u&&(d.vc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=Ee(t);ue("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await bd(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=FM.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ue("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ue("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Y1(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function my(e,t){e.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await wA(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function qk(e,t){e.asyncQueue.verifyOperationInProgress();const n=await k9(e);ue("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>Yk(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>Yk(t.remoteStore,s)),e._onlineComponents=t}function b9(e){return e.name==="FirebaseError"?e.code===H.FAILED_PRECONDITION||e.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function k9(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await my(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!b9(n))throw n;pl("Error using user provided cache. Falling back to memory cache: "+n),await my(e,new Gk)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await my(e,new Gk);return e._offlineComponents}async function $A(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await qk(e,e._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await qk(e,new E9))),e._onlineComponents}function D9(e){return $A(e).then(t=>t.syncEngine)}async function kp(e){const t=await $A(e),n=t.eventManager;return n.onListen=u9.bind(null,t.syncEngine),n.onUnlisten=h9.bind(null,t.syncEngine),n}function C9(e,t,n={}){const r=new zi;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,a,o,l){const u=new K1({next:f=>{s.enqueueAndForget(()=>H1(i,d));const p=f.docs.has(a);!p&&f.fromCache?l.reject(new se(H.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&o&&o.source==="server"?l.reject(new se(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new G1(Ym(a.path),u,{includeMetadataChanges:!0,Ku:!0});return W1(i,d)}(await kp(e),e.asyncQueue,t,n,r)),r.promise}function x9(e,t,n={}){const r=new zi;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,a,o,l){const u=new K1({next:f=>{s.enqueueAndForget(()=>H1(i,d)),f.fromCache&&o.source==="server"?l.reject(new se(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),d=new G1(a,u,{includeMetadataChanges:!0,Ku:!0});return W1(i,d)}(await kp(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(e,t,n){if(!n)throw new se(H.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function I9(e,t,n,r){if(t===!0&&r===!0)throw new se(H.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Qk(e){if(!pe.isDocumentKey(e))throw new se(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Xk(e){if(pe.isDocumentKey(e))throw new se(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function eg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ve()}function Dn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new se(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=eg(e);throw new se(H.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function N9(e,t){if(t<=0)throw new se(H.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new se(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new se(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}I9("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LA((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new se(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=t.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams;var n,r}}class tg{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jk({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new se(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jk(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new J6;switch(n.type){case"firstParty":return new nH(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new se(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=Kk.get(t);n&&(ue("ComponentProvider","Removing Datastore"),Kk.delete(t),n.terminate())}(this),Promise.resolve()}}function O9(e,t,n,r={}){var i;const s=(e=Dn(e,tg))._getSettings(),a=`${t}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=an.MOCK_USER;else{o=rO(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new se(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new an(u)}e._authCredentials=new Z6(new jM(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new hn(this.firestore,t,this._key)}}class is{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new is(this.firestore,t,this._query)}}class Fs extends is{constructor(t,n,r){super(t,n,Ym(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new hn(this.firestore,null,new pe(t))}withConverter(t){return new Fs(this.firestore,t,this._path)}}function St(e,t,...n){if(e=ht(e),jA("collection","path",t),e instanceof tg){const r=tt.fromString(t,...n);return Xk(r),new Fs(e,null,r)}{if(!(e instanceof hn||e instanceof Fs))throw new se(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(tt.fromString(t,...n));return Xk(r),new Fs(e.firestore,null,r)}}function We(e,t,...n){if(e=ht(e),arguments.length===1&&(t=FM.A()),jA("doc","path",t),e instanceof tg){const r=tt.fromString(t,...n);return Qk(r),new hn(e,null,new pe(r))}{if(!(e instanceof hn||e instanceof Fs))throw new se(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(tt.fromString(t,...n));return Qk(r),new hn(e.firestore,e instanceof Fs?e.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new SA(this,"async_queue_retry"),this.Xc=()=>{const n=py();n&&ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const t=py();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const n=py();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new zi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(t){if(!Sd(t))throw t;ue("AsyncQueue","Operation failed with retryable error: "+t)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(t){const n=this.Gc.then(()=>(this.Hc=!0,t().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Qi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(t,n,r){this.Zc(),this.Yc.indexOf(t)>-1&&(n=0);const i=V1.createAndSchedule(this,t,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&ve()}verifyOperationInProgress(){}async sa(){let t;do t=this.Gc,await t;while(t!==this.Gc)}ia(t){for(const n of this.zc)if(n.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const n=this.zc.indexOf(t);this.zc.splice(n,1)}}function Zk(e){return function(t,n){if(typeof t!="object"||t===null)return!1;const r=t;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(e,["next","error","complete"])}class li extends tg{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new M9,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||FA(this),this._firestoreClient.terminate()}}function A9(e,t){const n=typeof e=="object"?e:bm(),r=typeof e=="string"?e:t||"(default)",i=ea(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=eO("firestore");s&&O9(i,...s)}return i}function Dd(e){return e._firestoreClient||FA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function FA(e){var t,n,r;const i=e._freezeSettings(),s=function(a,o,l,u){return new pH(a,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,LA(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new T9(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(t){this._byteString=t}static fromBase64String(t){try{return new El(Zn.fromBase64String(t))}catch(n){throw new se(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new El(Zn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new se(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new se(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new se(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Fe(this._lat,t._lat)||Fe(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=/^__.*__$/;class P9{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new ra(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ed(t,this.data,n,this.fieldTransforms)}}class UA{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new ra(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function zA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class ng{constructor(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new ng(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.aa({path:r,la:!1});return i.fa(t),i}da(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.aa({path:r,la:!1});return i.ua(),i}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return Dp(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(t.length===0)throw this._a("Document fields must not be empty");if(zA(this.ca)&&R9.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class $9{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Xm(t)}ya(t,n,r,i=!1){return new ng({ca:t,methodName:n,ga:r,path:cn.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xd(e){const t=e._freezeSettings(),n=Xm(e._databaseId);return new $9(e._databaseId,!!t.ignoreUndefinedProperties,n)}function X1(e,t,n,r,i,s={}){const a=e.ya(s.merge||s.mergeFields?2:0,t,n,i);Z1("Data must be an object, but it was:",a,r);const o=HA(r,a);let l,u;if(s.merge)l=new Gn(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const p=g0(t,f,n);if(!a.contains(p))throw new se(H.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);GA(d,p)||d.push(p)}l=new Gn(d),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new P9(new An(o),l,u)}class rg extends Ul{_toFieldTransform(t){if(t.ca!==2)throw t.ca===1?t._a(`${this._methodName}() can only appear at the top level of your update data`):t._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof rg}}function VA(e,t,n){return new ng({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class J1 extends Ul{_toFieldTransform(t){return new O1(t.path,new Lu)}isEqual(t){return t instanceof J1}}class L9 extends Ul{constructor(t,n){super(t),this.pa=n}_toFieldTransform(t){const n=VA(this,t,!0),r=this.pa.map(s=>ao(s,n)),i=new yl(r);return new O1(t.path,i)}isEqual(t){return this===t}}class j9 extends Ul{constructor(t,n){super(t),this.pa=n}_toFieldTransform(t){const n=VA(this,t,!0),r=this.pa.map(s=>ao(s,n)),i=new wl(r);return new O1(t.path,i)}isEqual(t){return this===t}}function YA(e,t,n,r){const i=e.ya(1,t,n);Z1("Data must be an object, but it was:",i,r);const s=[],a=An.empty();io(r,(l,u)=>{const d=eS(t,l,n);u=ht(u);const f=i.da(d);if(u instanceof rg)s.push(d);else{const p=ao(u,f);p!=null&&(s.push(d),a.set(d,p))}});const o=new Gn(s);return new UA(a,o,i.fieldTransforms)}function WA(e,t,n,r,i,s){const a=e.ya(1,t,n),o=[g0(t,r,n)],l=[i];if(s.length%2!=0)throw new se(H.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)o.push(g0(t,s[p])),l.push(s[p+1]);const u=[],d=An.empty();for(let p=o.length-1;p>=0;--p)if(!GA(u,o[p])){const g=o[p];let S=l[p];S=ht(S);const E=a.da(g);if(S instanceof rg)u.push(g);else{const T=ao(S,E);T!=null&&(u.push(g),d.set(g,T))}}const f=new Gn(u);return new UA(d,f,a.fieldTransforms)}function F9(e,t,n,r=!1){return ao(n,e.ya(r?4:3,t))}function ao(e,t){if(BA(e=ht(e)))return Z1("Unsupported field value:",t,e),HA(e,t);if(e instanceof Ul)return function(n,r){if(!zA(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&t.ca!==4)throw t._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const a of n){let o=ao(a,r.wa(s));o==null&&(o={nullValue:"NULL_VALUE"}),i.push(o),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=ht(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return RH(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Mt.fromDate(n);return{timestampValue:Tp(r.serializer,i)}}if(n instanceof Mt){const i=new Mt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Tp(r.serializer,i)}}if(n instanceof Q1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof El)return{bytesValue:fA(r.serializer,n._byteString)};if(n instanceof hn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:P1(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${eg(n)}`)}(e,t)}function HA(e,t){const n={};return UM(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):io(e,(r,i)=>{const s=ao(i,t.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function BA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Mt||e instanceof Q1||e instanceof El||e instanceof hn||e instanceof Ul)}function Z1(e,t,n){if(!BA(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=eg(n);throw r==="an object"?t._a(e+" a custom object"):t._a(e+" "+r)}}function g0(e,t,n){if((t=ht(t))instanceof Cd)return t._internalPath;if(typeof t=="string")return eS(e,t);throw Dp("Field path arguments must be of type string or ",e,!1,void 0,n)}const U9=new RegExp("[~\\*/\\[\\]]");function eS(e,t,n){if(t.search(U9)>=0)throw Dp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Cd(...t.split("."))._internalPath}catch{throw Dp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Dp(e,t,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new se(H.INVALID_ARGUMENT,o+e+l)}function GA(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new z9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ig("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class z9 extends qA{data(){return super.data()}}function ig(e,t){return typeof t=="string"?eS(e,t):t instanceof Cd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new se(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tS{}class nS extends tS{}function Qt(e,t,...n){let r=[];t instanceof tS&&r.push(t),r=r.concat(n),function(i){const s=i.filter(o=>o instanceof rS).length,a=i.filter(o=>o instanceof sg).length;if(s>1||s>0&&a>0)throw new se(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class sg extends nS{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new sg(t,n,r)}_apply(t){const n=this._parse(t);return QA(t._query,n),new is(t.firestore,t.converter,l0(t._query,n))}_parse(t){const n=xd(t.firestore);return function(i,s,a,o,l,u,d){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new se(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){tD(d,u);const p=[];for(const g of d)p.push(eD(o,i,g));f={arrayValue:{values:p}}}else f=eD(o,i,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||tD(d,u),f=F9(a,s,d,u==="in"||u==="not-in");return kt.create(l,u,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function It(e,t,n){const r=t,i=ig("where",e);return sg._create(i,r,n)}class rS extends tS{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new rS(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,i){let s=r;const a=i.getFlattenedFilters();for(const o of a)QA(s,o),s=l0(s,o)}(t._query,n),new is(t.firestore,t.converter,l0(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class iS extends nS{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new iS(t,n)}_apply(t){const n=function(r,i,s){if(r.startAt!==null)throw new se(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new se(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Xo(i,s);return function(o,l){if(N1(o)===null){const u=Wm(o);u!==null&&XA(o,u,l.field)}}(r,a),a}(t._query,this._field,this._direction);return new is(t.firestore,t.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Ll(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,n))}}function ag(e,t="asc"){const n=t,r=ig("orderBy",e);return iS._create(r,n)}class sS extends nS{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new sS(t,n,r)}_apply(t){return new is(t.firestore,t.converter,Sp(t._query,this._limit,this._limitType))}}function gy(e){return N9("limit",e),sS._create("limit",e,"F")}function eD(e,t,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new se(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QM(t)&&n.indexOf("/")!==-1)throw new se(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(tt.fromString(n));if(!pe.isDocumentKey(r))throw new se(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tk(e,new pe(r))}if(n instanceof hn)return Tk(e,n._key);throw new se(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${eg(n)}.`)}function tD(e,t){if(!Array.isArray(e)||e.length===0)throw new se(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function QA(e,t){if(t.isInequality()){const r=Wm(e),i=t.field;if(r!==null&&!r.isEqual(i))throw new se(H.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=N1(e);s!==null&&XA(e,i,s)}const n=function(r,i){for(const s of r)for(const a of s.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new se(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new se(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function XA(e,t,n){if(!n.isEqual(t))throw new se(H.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class V9{convertValue(t,n="none"){switch(Wa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Tt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ya(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ve()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return io(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new Q1(Tt(t.latitude),Tt(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=D1(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pu(t));default:return null}}convertTimestamp(t){const n=Hs(t);return new Mt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=tt.fromString(t);rt(yA(r));const i=new VM(r.get(1),r.get(3)),s=new pe(r.popFirst(5));return i.isEqual(n)||Qi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class JA extends qA{constructor(t,n,r,i,s,a){super(t,n,r,i,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(ig("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sf extends JA{data(t={}){return super.data(t)}}class ZA{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new jc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Sf(this._firestore,this._userDataWriter,r.key,r,new jc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{const o=new Sf(r._firestore,r._userDataWriter,a.doc.key,a.doc,new jc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:o,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const o=new Sf(r._firestore,r._userDataWriter,a.doc.key,a.doc,new jc(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:Y9(a.type),doc:o,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Y9(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(e){e=Dn(e,hn);const t=Dn(e.firestore,li);return C9(Dd(t),e._key).then(n=>tR(t,e,n))}class oS extends V9{constructor(t){super(),this.firestore=t}convertBytes(t){return new El(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function fn(e){e=Dn(e,is);const t=Dn(e.firestore,li),n=Dd(t),r=new oS(t);return KA(e._query),x9(n,e._query).then(i=>new ZA(t,r,e,i))}function eR(e,t,n){e=Dn(e,hn);const r=Dn(e.firestore,li),i=aS(e.converter,t,n);return Id(r,[X1(xd(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,kn.none())])}function Dt(e,t,n,...r){e=Dn(e,hn);const i=Dn(e.firestore,li),s=xd(i);let a;return a=typeof(t=ht(t))=="string"||t instanceof Cd?WA(s,"updateDoc",e._key,t,n,r):YA(s,"updateDoc",e._key,t),Id(i,[a.toMutation(e._key,kn.exists(!0))])}function lS(e){return Id(Dn(e.firestore,li),[new Km(e._key,kn.none())])}function og(e,t){const n=Dn(e.firestore,li),r=We(e),i=aS(e.converter,t);return Id(n,[X1(xd(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,kn.exists(!1))]).then(()=>r)}function cS(e,...t){var n,r,i;e=ht(e);let s={includeMetadataChanges:!1},a=0;typeof t[a]!="object"||Zk(t[a])||(s=t[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges};if(Zk(t[a])){const f=t[a];t[a]=(n=f.next)===null||n===void 0?void 0:n.bind(f),t[a+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),t[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,d;if(e instanceof hn)u=Dn(e.firestore,li),d=Ym(e._key.path),l={next:f=>{t[a]&&t[a](tR(u,e,f))},error:t[a+1],complete:t[a+2]};else{const f=Dn(e,is);u=Dn(f.firestore,li),d=f._query;const p=new oS(u);l={next:g=>{t[a]&&t[a](new ZA(u,p,f,g))},error:t[a+1],complete:t[a+2]},KA(e._query)}return function(f,p,g,S){const E=new K1(S),T=new G1(p,E,g);return f.asyncQueue.enqueueAndForget(async()=>W1(await kp(f),T)),()=>{E.Dc(),f.asyncQueue.enqueueAndForget(async()=>H1(await kp(f),T))}}(Dd(u),d,o,l)}function Id(e,t){return function(n,r){const i=new zi;return n.asyncQueue.enqueueAndForget(async()=>f9(await D9(n),r,i)),i.promise}(Dd(e),t)}function tR(e,t,n){const r=n.docs.get(t._key),i=new oS(e);return new JA(e,i,t._key,r,new jc(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xd(t)}set(t,n,r){this._verifyNotCommitted();const i=vy(t,this._firestore),s=aS(i.converter,n,r),a=X1(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,kn.none())),this}update(t,n,r,...i){this._verifyNotCommitted();const s=vy(t,this._firestore);let a;return a=typeof(n=ht(n))=="string"||n instanceof Cd?WA(this._dataReader,"WriteBatch.update",s._key,n,r,i):YA(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,kn.exists(!0))),this}delete(t){this._verifyNotCommitted();const n=vy(t,this._firestore);return this._mutations=this._mutations.concat(new Km(n._key,kn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new se(H.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vy(e,t){if((e=ht(e)).firestore!==t)throw new se(H.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function _t(){return new J1("serverTimestamp")}function uS(...e){return new L9("arrayUnion",e)}function H9(...e){return new j9("arrayRemove",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(e){return Dd(e=Dn(e,li)),new W9(e,t=>Id(e,t))}(function(e,t=!0){(function(n){$l=n})(no),Lr(new mr("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),a=new li(new eH(n.getProvider("auth-internal")),new iH(n.getProvider("app-check-internal")),function(o,l){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new se(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new VM(o.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),jn(yk,"3.13.0",e),jn(yk,"3.13.0","esm2017")})();function dS(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function rR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const B9=rR,iR=new to("auth","Firebase",rR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=new Tm("@firebase/auth");function G9(e,...t){Cp.logLevel<=$e.WARN&&Cp.warn(`Auth (${no}): ${e}`,...t)}function Ef(e,...t){Cp.logLevel<=$e.ERROR&&Cp.error(`Auth (${no}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(e,...t){throw hS(e,...t)}function ri(e,...t){return hS(e,...t)}function sR(e,t,n){const r=Object.assign(Object.assign({},B9()),{[t]:n});return new to("auth","Firebase",r).create(t,{appName:e.name})}function q9(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&ci(e,"argument-error"),sR(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function hS(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return iR.create(e,...t)}function Se(e,t,...n){if(!e)throw hS(t,...n)}function $i(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ef(t),new Error(t)}function Zi(e,t){e||$i(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function K9(){return nD()==="http:"||nD()==="https:"}function nD(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K9()||iO()||"connection"in navigator)?navigator.onLine:!0}function X9(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(t,n){this.shortDelay=t,this.longDelay=n,Zi(n>t,"Short delay should be less than long delay!"),this.isMobile=GV()||qV()}get(){return Q9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(e,t){Zi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=new Nd(3e4,6e4);function oR(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Od(e,t,n,r,i={}){return lR(e,i,async()=>{let s={},a={};r&&(t==="GET"?a=r:s={body:JSON.stringify(r)});const o=ud(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),aR.fetch()(cR(e,e.config.apiHost,n,o),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))})}async function lR(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},J9),t);try{const i=new t5(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Gh(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gh(e,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Gh(e,"email-already-in-use",a);if(l==="USER_DISABLED")throw Gh(e,"user-disabled",a);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw sR(e,d,u);ci(e,d)}}catch(i){if(i instanceof wr)throw i;ci(e,"network-request-failed",{message:String(i)})}}async function e5(e,t,n,r,i={}){const s=await Od(e,t,n,r,i);return"mfaPendingCredential"in s&&ci(e,"multi-factor-auth-required",{_serverResponse:s}),s}function cR(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?fS(e.config,i):`${e.config.apiScheme}://${i}`}class t5{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ri(this.auth,"network-request-failed")),Z9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ri(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n5(e,t){return Od(e,"POST","/v1/accounts:delete",t)}async function r5(e,t){return Od(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function i5(e,t=!1){const n=ht(e),r=await n.getIdToken(t),i=pS(r);Se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:nu(yy(i.auth_time)),issuedAtTime:nu(yy(i.iat)),expirationTime:nu(yy(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function yy(e){return Number(e)*1e3}function pS(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Ef("JWT malformed, contained fewer than 3 sections"),null;try{const i=JN(n);return i?JSON.parse(i):(Ef("Failed to decode base64 JWT payload"),null)}catch(i){return Ef("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function s5(e){const t=pS(e);return Se(t,"internal-error"),Se(typeof t.exp<"u","internal-error"),Se(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof wr&&a5(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function a5({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xp(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ju(e,r5(n,{idToken:r}));Se(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?u5(s.providerUserInfo):[],o=c5(e.providerData,a),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(o!=null&&o.length),d=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new uR(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}async function l5(e){const t=ht(e);await xp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function c5(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function u5(e){return e.map(t=>{var{providerId:n}=t,r=dS(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d5(e,t){const n=await lR(e,{},async()=>{const r=ud({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,a=cR(e,i,"/v1/token",`key=${s}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",aR.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Se(t.idToken,"internal-error"),Se(typeof t.idToken<"u","internal-error"),Se(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):s5(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return Se(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await d5(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Fu;return r&&(Se(typeof r=="string","internal-error",{appName:t}),a.refreshToken=r),i&&(Se(typeof i=="string","internal-error",{appName:t}),a.accessToken=i),s&&(Se(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fu,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(e,t){Se(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Na{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=dS(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new o5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new uR(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await ju(this,this.stsTokenManager.getToken(this.auth,t));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return i5(this,t)}reload(){return l5(this)}_assign(t){this!==t&&(Se(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Na(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await xp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await ju(this,n5(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,a,o,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(a=n.photoURL)!==null&&a!==void 0?a:void 0,E=(o=n.tenantId)!==null&&o!==void 0?o:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:D,isAnonymous:C,providerData:I,stsTokenManager:N}=n;Se(b&&N,t,"internal-error");const O=Fu.fromJSON(this.name,N);Se(typeof b=="string",t,"internal-error"),ps(f,t.name),ps(p,t.name),Se(typeof D=="boolean",t,"internal-error"),Se(typeof C=="boolean",t,"internal-error"),ps(g,t.name),ps(S,t.name),ps(E,t.name),ps(T,t.name),ps(v,t.name),ps(w,t.name);const P=new Na({uid:b,auth:t,email:p,emailVerified:D,displayName:f,isAnonymous:C,photoURL:S,phoneNumber:g,tenantId:E,stsTokenManager:O,createdAt:v,lastLoginAt:w});return I&&Array.isArray(I)&&(P.providerData=I.map(x=>Object.assign({},x))),T&&(P._redirectEventId=T),P}static async _fromIdTokenResponse(t,n,r=!1){const i=new Fu;i.updateFromServerResponse(n);const s=new Na({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await xp(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=new Map;function Li(e){Zi(e instanceof Function,"Expected a class definition");let t=rD.get(e);return t?(Zi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,rD.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}dR.type="NONE";const iD=dR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(e,t,n){return`firebase:${e}:${t}:${n}`}class el{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Tf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Tf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Na._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new el(Li(iD),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Li(iD);const a=Tf(r,t.config.apiKey,t.name);let o=null;for(const u of n)try{const d=await u._get(a);if(d){const f=Na._fromJSON(t,d);u!==s&&(o=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new el(s,t,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new el(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pR(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(hR(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gR(t))return"Blackberry";if(vR(t))return"Webos";if(mS(t))return"Safari";if((t.includes("chrome/")||fR(t))&&!t.includes("edge/"))return"Chrome";if(mR(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hR(e=gn()){return/firefox\//i.test(e)}function mS(e=gn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function fR(e=gn()){return/crios\//i.test(e)}function pR(e=gn()){return/iemobile/i.test(e)}function mR(e=gn()){return/android/i.test(e)}function gR(e=gn()){return/blackberry/i.test(e)}function vR(e=gn()){return/webos/i.test(e)}function lg(e=gn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function h5(e=gn()){var t;return lg(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function f5(){return KV()&&document.documentMode===10}function yR(e=gn()){return lg(e)||mR(e)||vR(e)||gR(e)||/windows phone/i.test(e)||pR(e)}function p5(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(e,t=[]){let n;switch(e){case"Browser":n=sD(gn());break;case"Worker":n=`${sD(gn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${no}/${r}`}async function _R(e,t){return Od(e,"GET","/v2/recaptchaConfig",oR(e,t))}function aD(e){return e!==void 0&&e.enterprise!==void 0}class SR{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function ER(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=ri("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",m5().appendChild(r)})}function g5(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const v5="https://www.google.com/recaptcha/enterprise.js?render=",y5="recaptcha-enterprise",w5="NO_RECAPTCHA";class _5{constructor(t){this.type=y5,this.auth=Md(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{_R(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new SR(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;aD(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(u=>{a(u)}).catch(()=>{a(w5)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&aD(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}ER(v5+o).then(()=>{i(o,s,a)}).catch(l=>{a(l)})}}).catch(o=>{a(o)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((a,o)=>{try{const l=t(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oD(this),this.idTokenSubscription=new oD(this),this.beforeStateQueue=new S5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Li(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await el.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await xp(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=X9()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?ht(t):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Se(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Li(t))})}async initializeRecaptchaConfig(){const t=await _R(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new SR(t);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new _5(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new to("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Li(t)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[Li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),a=this._isInitialized?Promise.resolve():this._initializationPromise;return Se(a,this,"internal-error"),a.then(()=>s(this.currentUser)),typeof n=="function"?t.addObserver(n,r,i):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=wR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&G9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Md(e){return ht(e)}class oD{constructor(t){this.auth=t,this.observer=null,this.addObserver=t3(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(e,t){const n=ea(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(bu(s,t??{}))return i;ci(i,"already-initialized")}return n.initialize({options:t})}function b5(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Li);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function k5(e,t,n){const r=Md(e);Se(r._canInitEmulator,r,"emulator-config-failed"),Se(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=TR(t),{host:a,port:o}=D5(t),l=o===null?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||C5()}function TR(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function D5(e){const t=TR(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:lD(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:lD(a)}}}function lD(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function C5(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return $i("not implemented")}_getIdTokenResponse(t){return $i("not implemented")}_linkToIdToken(t,n){return $i("not implemented")}_getReauthenticationResolver(t){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(e,t){return e5(e,"POST","/v1/accounts:signInWithIdp",oR(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5="http://localhost";class Ha extends bR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ha(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=dS(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Ha(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return tl(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,tl(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,tl(t,n)}buildRequest(){const t={requestUri:x5,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ud(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends gS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Ad{constructor(){super("facebook.com")}static credential(t){return Ha._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _s.credentialFromTaggedObject(t)}static credentialFromError(t){return _s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _s.credential(t.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Ad{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ha._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ss.credentialFromTaggedObject(t)}static credentialFromError(t){return Ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ss.credential(n,r)}catch{return null}}}Ss.GOOGLE_SIGN_IN_METHOD="google.com";Ss.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Ad{constructor(){super("github.com")}static credential(t){return Ha._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Nr.credential(t.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Ad{constructor(){super("twitter.com")}static credential(t,n){return Ha._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Es.credentialFromTaggedObject(t)}static credentialFromError(t){return Es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Es.credential(n,r)}catch{return null}}}Es.TWITTER_SIGN_IN_METHOD="twitter.com";Es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Na._fromIdTokenResponse(t,r,i),a=cD(r);return new Tl({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=cD(r);return new Tl({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function cD(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends wr{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ip.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Ip(t,n,r,i)}}function kR(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ip._fromErrorAndOperation(e,s,t,r):s})}async function I5(e,t,n=!1){const r=await ju(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Tl._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N5(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await ju(e,kR(r,i,t,e),n);Se(s.idToken,r,"internal-error");const a=pS(s.idToken);Se(a,r,"internal-error");const{sub:o}=a;return Se(e.uid===o,r,"user-mismatch"),Tl._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ci(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O5(e,t,n=!1){const r="signIn",i=await kR(e,r,t),s=await Tl._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}function M5(e,t,n,r){return ht(e).onIdTokenChanged(t,n,r)}function A5(e,t,n){return ht(e).beforeAuthStateChanged(t,n)}function R5(e,t,n,r){return ht(e).onAuthStateChanged(t,n,r)}function P5(e){return ht(e).signOut()}const Np="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Np,"1"),this.storage.removeItem(Np),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(){const e=gn();return mS(e)||lg(e)}const L5=1e3,j5=10;class CR extends DR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=$5()&&p5(),this.fallbackToPolling=yR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);f5()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,j5):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},L5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}CR.type="LOCAL";const F5=CR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR extends DR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}xR.type="SESSION";const IR=xR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new cg(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async u=>u(n.origin,s)),l=await U5(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=vS("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function V5(e){ii().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function Y5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W5(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function H5(){return NR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="firebaseLocalStorageDb",B5=1,Op="firebaseLocalStorage",MR="fbase_key";class Rd{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ug(e,t){return e.transaction([Op],t?"readwrite":"readonly").objectStore(Op)}function G5(){const e=indexedDB.deleteDatabase(OR);return new Rd(e).toPromise()}function y0(){const e=indexedDB.open(OR,B5);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Op,{keyPath:MR})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Op)?t(r):(r.close(),await G5(),t(await y0()))})})}async function uD(e,t,n){const r=ug(e,!0).put({[MR]:t,value:n});return new Rd(r).toPromise()}async function q5(e,t){const n=ug(e,!1).get(t),r=await new Rd(n).toPromise();return r===void 0?null:r.value}function dD(e,t){const n=ug(e,!0).delete(t);return new Rd(n).toPromise()}const K5=800,Q5=3;class AR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await y0(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Q5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cg._getInstance(H5()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Y5(),!this.activeServiceWorker)return;this.sender=new z5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||W5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await y0();return await uD(t,Np,"1"),await dD(t,Np),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>uD(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>q5(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>dD(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=ug(i,!1).getAll();return new Rd(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AR.type="LOCAL";const X5=AR;new Nd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(e,t){return t?Li(t):(Se(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS extends bR{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return tl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return tl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return tl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function J5(e){return O5(e.auth,new yS(e),e.bypassAuthState)}function Z5(e){const{auth:t,user:n}=e;return Se(n,t,"internal-error"),N5(n,new yS(e),e.bypassAuthState)}async function eG(e){const{auth:t,user:n}=e;return Se(n,t,"internal-error"),I5(n,new yS(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=t;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return J5;case"linkViaPopup":case"linkViaRedirect":return eG;case"reauthViaPopup":case"reauthViaRedirect":return Z5;default:ci(this.auth,"internal-error")}}resolve(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tG=new Nd(2e3,1e4);async function $R(e,t,n){const r=Md(e);q9(e,t,gS);const i=RR(r,n);return new ka(r,"signInViaPopup",t,i).executeNotNull()}class ka extends PR{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ka.currentPopupAction&&ka.currentPopupAction.cancel(),ka.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Se(t,this.auth,"internal-error"),t}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const t=vS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ka.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,tG.get())};t()}}ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG="pendingRedirect",bf=new Map;class rG extends PR{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=bf.get(this.auth._key());if(!t){try{const r=await iG(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}bf.set(this.auth._key(),t)}return this.bypassAuthState||bf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iG(e,t){const n=oG(t),r=aG(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function sG(e,t){bf.set(e._key(),t)}function aG(e){return Li(e._redirectPersistence)}function oG(e){return Tf(nG,e.config.apiKey,e.name)}async function lG(e,t,n=!1){const r=Md(e),i=RR(r,t),a=await new rG(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cG=10*60*1e3;class uG{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!dG(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!LR(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ri(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=cG&&this.cachedEventUids.clear(),this.cachedEventUids.has(hD(t))}saveEventToCache(t){this.cachedEventUids.add(hD(t)),this.lastProcessedEventTime=Date.now()}}function hD(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function LR({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function dG(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LR(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hG(e,t={}){return Od(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pG=/^https?/;async function mG(e){if(e.config.emulator)return;const{authorizedDomains:t}=await hG(e);for(const n of t)try{if(gG(n))return}catch{}ci(e,"unauthorized-domain")}function gG(e){const t=v0(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!pG.test(n))return!1;if(fG.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vG=new Nd(3e4,6e4);function fD(){const e=ii().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function yG(e){return new Promise((t,n)=>{var r,i,s;function a(){fD(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fD(),n(ri(e,"network-request-failed"))},timeout:vG.get()})}if(!((i=(r=ii().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=ii().gapi)===null||s===void 0)&&s.load)a();else{const o=g5("iframefcb");return ii()[o]=()=>{gapi.load?a():n(ri(e,"network-request-failed"))},ER(`https://apis.google.com/js/api.js?onload=${o}`).catch(l=>n(l))}}).catch(t=>{throw kf=null,t})}let kf=null;function wG(e){return kf=kf||yG(e),kf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _G=new Nd(5e3,15e3),SG="__/auth/iframe",EG="emulator/auth/iframe",TG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kG(e){const t=e.config;Se(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?fS(t,EG):`https://${e.config.authDomain}/${SG}`,r={apiKey:t.apiKey,appName:e.name,v:no},i=bG.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ud(r).slice(1)}`}async function DG(e){const t=await wG(e),n=ii().gapi;return Se(n,e,"internal-error"),t.open({where:document.body,url:kG(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TG,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=ri(e,"network-request-failed"),o=ii().setTimeout(()=>{s(a)},_G.get());function l(){ii().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xG=500,IG=600,NG="_blank",OG="http://localhost";class pD{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MG(e,t,n,r=xG,i=IG){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},CG),{width:r.toString(),height:i.toString(),top:s,left:a}),u=gn().toLowerCase();n&&(o=fR(u)?NG:n),hR(u)&&(t=t||OG,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[g,S])=>`${p}${g}=${S},`,"");if(h5(u)&&o!=="_self")return AG(t||"",o),new pD(null);const f=window.open(t||"",o,d);Se(f,e,"popup-blocked");try{f.focus()}catch{}return new pD(f)}function AG(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG="__/auth/handler",PG="emulator/auth/handler",$G=encodeURIComponent("fac");async function mD(e,t,n,r,i,s){Se(e.config.authDomain,e,"auth-domain-config-required"),Se(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:no,eventId:i};if(t instanceof gS){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",e3(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,f]of Object.entries(s||{}))a[d]=f}if(t instanceof Ad){const d=t.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await e._getAppCheckToken(),u=l?`#${$G}=${encodeURIComponent(l)}`:"";return`${LG(e)}?${ud(o).slice(1)}${u}`}function LG({config:e}){return e.emulator?fS(e,PG):`https://${e.authDomain}/${RG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="webStorageSupport";class jG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IR,this._completeRedirectFn=lG,this._overrideRedirectResult=sG}async _openPopup(t,n,r,i){var s;Zi((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await mD(t,n,r,v0(),i);return MG(t,a,vS())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await mD(t,n,r,v0(),i);return V5(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Zi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await DG(t),r=new uG(t);return n.register("authEvent",i=>(Se(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(wy,{type:wy},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[wy];a!==void 0&&n(!!a),ci(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mG(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return yR()||mS()||lg()}}const FG=jG;var gD="@firebase/auth",vD="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zG(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function VG(e){Lr(new mr("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Se(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wR(e)},u=new E5(r,i,s,l);return b5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Lr(new mr("auth-internal",t=>{const n=Md(t.getProvider("auth").getImmediate());return(r=>new UG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn(gD,vD,zG(e)),jn(gD,vD,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG=5*60,WG=nO("authIdTokenMaxAge")||YG;let yD=null;const HG=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>WG)return;const i=n==null?void 0:n.token;yD!==i&&(yD=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function jR(e=bm()){const t=ea(e,"auth");if(t.isInitialized())return t.getImmediate();const n=T5(e,{popupRedirectResolver:FG,persistence:[X5,F5,IR]}),r=nO("authTokenSyncURL");if(r){const s=HG(r);A5(n,s,()=>s(n.currentUser)),M5(n,a=>s(a))}const i=ZN("auth");return i&&k5(n,`http://${i}`),n}VG("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="firebasestorage.googleapis.com",BG="storageBucket",GG=2*60*1e3,qG=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends wr{constructor(t,n,r=0){super(_y(t),`Firebase Storage: ${n} (${_y(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return _y(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ui;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ui||(ui={}));function _y(e){return"storage/"+e}function KG(){const e="An unknown error occurred, please check the error payload for server response.";return new fi(ui.UNKNOWN,e)}function QG(){return new fi(ui.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function XG(){return new fi(ui.CANCELED,"User canceled the upload/download.")}function JG(e){return new fi(ui.INVALID_URL,"Invalid URL '"+e+"'.")}function ZG(e){return new fi(ui.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function wD(e){return new fi(ui.INVALID_ARGUMENT,e)}function UR(){return new fi(ui.APP_DELETED,"The Firebase app was deleted.")}function eq(e){return new fi(ui.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Or.makeFromUrl(t,n)}catch{return new Or(t,"")}if(r.path==="")return r;throw ZG(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function u(D){D.path_=decodeURIComponent(D.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${d}/b/${i}/o${p}`,"i"),S={bucket:1,path:3},E=n===FR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",v=new RegExp(`^https?://${E}/${i}/${T}`,"i"),b=[{regex:o,indices:l,postModify:s},{regex:g,indices:S,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let D=0;D<b.length;D++){const C=b[D],I=C.regex.exec(t);if(I){const N=I[C.indices.bucket];let O=I[C.indices.path];O||(O=""),r=new Or(N,O),C.postModify(r);break}}if(r==null)throw JG(t);return r}}class tq{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nq(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let u=!1;function d(...T){u||(u=!0,t.apply(null,T))}function f(T){i=setTimeout(()=>{i=null,e(g,l())},T)}function p(){s&&clearTimeout(s)}function g(T,...v){if(u){p();return}if(T){p(),d.call(null,T,...v);return}if(l()||a){p(),d.call(null,T,...v);return}r<64&&(r*=2);let b;o===1?(o=2,b=0):b=(r+Math.random())*1e3,f(b)}let S=!1;function E(T){S||(S=!0,p(),!u&&(i!==null?(T||(o=2),clearTimeout(i),f(0)):T||(o=1)))}return f(0),s=setTimeout(()=>{a=!0,E(!0)},n),E}function rq(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iq(e){return e!==void 0}function _D(e,t,n,r){if(r<t)throw wD(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw wD(`Invalid value for '${e}'. Expected ${n} or less.`)}function sq(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mp;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Mp||(Mp={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aq(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(t,n,r,i,s,a,o,l,u,d,f,p=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,S)=>{this.resolve_=g,this.reject_=S,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new qh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===Mp.NO_ERROR,l=s.getStatus();if(!o||aq(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Mp.ABORT;r(!1,new qh(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new qh(u,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());iq(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=KG();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?UR():XG();a(l)}else{const l=QG();a(l)}};this.canceled_?n(!1,new qh(!1,null,!0)):this.backoffId_=nq(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&rq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qh{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function lq(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function cq(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function uq(e,t){t&&(e["X-Firebase-GMPID"]=t)}function dq(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function hq(e,t,n,r,i,s,a=!0){const o=sq(e.urlParams),l=e.url+o,u=Object.assign({},e.headers);return uq(u,t),lq(u,n),cq(u,s),dq(u,r),new oq(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function pq(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(t,n){this._service=t,n instanceof Or?this._location=n:this._location=Or.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Ap(t,n)}get root(){const t=new Or(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return pq(this._location.path)}get storage(){return this._service}get parent(){const t=fq(this._location.path);if(t===null)return null;const n=new Or(this._location.bucket,t);return new Ap(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw eq(t)}}function SD(e,t){const n=t==null?void 0:t[BG];return n==null?null:Or.makeFromBucketSpec(n,e)}function mq(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:rO(i,e.app.options.projectId))}class gq{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=FR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=GG,this._maxUploadRetryTime=qG,this._requests=new Set,i!=null?this._bucket=Or.makeFromBucketSpec(i,this._host):this._bucket=SD(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Or.makeFromBucketSpec(this._url,t):this._bucket=SD(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){_D("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){_D("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ap(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new tq(UR());{const a=hq(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const ED="@firebase/storage",TD="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="storage";function vq(e=bm(),t){e=ht(e);const r=ea(e,zR).getImmediate({identifier:t}),i=eO("storage");return i&&yq(r,...i),r}function yq(e,t,n,r={}){mq(e,t,n,r)}function wq(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new gq(n,r,i,t,no)}function _q(){Lr(new mr(zR,wq,"PUBLIC").setMultipleInstances(!0)),jn(ED,TD,""),jn(ED,TD,"esm2017")}_q();const Sq={apiKey:"AIzaSyAw2gKwTiGdHmA7Y2sFLGGZXOvT0qBnV8c",authDomain:"devflow-6f814.firebaseapp.com",projectId:"devflow-6f814",storageBucket:"devflow-6f814.appspot.com",messagingSenderId:"1077279776175",appId:"1:1077279776175:web:42130f76034a93f45be35a",measurementId:"G-E1VTEJ7DJZ"},Pd=cO(Sq);zW(Pd);const me=A9(Pd),bD=jR(Pd);vq(Pd);const kD=async(e,t={})=>{if(!e)return;const n=We(me,"users",e.uid),r=await gr(n),i={uid:e.uid,displayName:e.displayName,email:e.email,photoURL:e.photoURL,lastUpdated:_t()};if(t.github){const s=t.github;i.githubUsername=s.username,i.githubId=s.id,i.githubUrl=s.profileUrl,i.lastLogin=_t(),i.github={id:s.id,username:s.username,accessToken:s.accessToken,profileUrl:s.profileUrl,additionalData:s.additionalUserInfo,lastLogin:_t()}}try{r.exists()?await Dt(n,i):await eR(n,{...i,createdAt:_t(),role:"user",settings:{language:"es",theme:"light",notifications:!0},projects:[]})}catch(s){console.error("Error al guardar datos de usuario:",s)}return n},Eq=async e=>{if(!e||e.length<2)return[];try{const t=[],n=St(me,"users"),r=e.toLowerCase(),i=Qt(n,It("displayName",">=",e),It("displayName","<=",e+""),gy(8));(await fn(i)).docs.forEach(d=>{t.push({id:d.id,...d.data()})});const a=Qt(n,It("githubUsername",">=",r),It("githubUsername","<=",r+""),gy(8));(await fn(a)).docs.forEach(d=>{t.some(f=>f.id===d.id)||t.push({id:d.id,...d.data()})});const l=Qt(n,It("email",">=",r),It("email","<=",r+""),gy(5));return(await fn(l)).docs.forEach(d=>{t.some(f=>f.id===d.id)||t.push({id:d.id,...d.data()})}),t.slice(0,10)}catch(t){return console.error("Error al buscar usuarios:",t),[]}},Tq=async e=>{if(!e)return null;try{const t=We(me,"users",e),n=await gr(t);return n.exists()?{id:n.id,...n.data()}:null}catch(t){return console.error("Error al obtener datos del usuario:",t),null}},At=M.createContext(),bq=({children:e})=>{const[t,n]=M.useState(null),[r,i]=M.useState(!0);M.useEffect(()=>{const o=R5(bD,async l=>{l&&await kD(l),n(l),i(!1)});return()=>o()},[]);const a={currentUser:t,loginWithGitHub:async()=>{try{const o=new Nr;o.addScope("repo"),o.addScope("user"),o.addScope("read:user"),o.addScope("user:email");const l=await $R(bD,o),d=Nr.credentialFromResult(l).accessToken,f=l.user,p={accessToken:d,id:l._tokenResponse.githubUserId||l._tokenResponse.screenName,username:l._tokenResponse.screenName,profileUrl:`https://github.com/${l._tokenResponse.screenName}`,email:f.email,displayName:f.displayName,photoURL:f.photoURL,additionalUserInfo:l._tokenResponse,lastLogin:new Date,createdAt:f.metadata.creationTime};return localStorage.setItem("github_token",d),await kD(f,{github:p}),f}catch(o){throw console.error("Error en loginWithGitHub:",o),o}}};return y.jsx(At.Provider,{value:a,children:!r&&e})},zl=async e=>{try{const t={...e,createdAt:_t(),read:!1};return{id:(await og(St(me,"notifications"),t)).id,...t}}catch(t){throw console.error("Error al crear notificación:",t),t}},kq=async(e,t,n,r,i)=>{try{return await zl({type:"project_invitation",recipientId:e,senderId:r,title:"Invitación a proyecto",message:`${i} te ha invitado a colaborar en el proyecto "${n}"`,data:{projectId:t,senderName:i},actions:[{label:"Aceptar",type:"accept_invitation"},{label:"Rechazar",type:"reject_invitation"}]})}catch(s){throw console.error("Error al crear notificación de invitación:",s),s}},Dq=(e,t)=>{const n=Qt(St(me,"notifications"),It("recipientId","==",e),ag("createdAt","desc"));return cS(n,r=>{const i=r.docs.map(s=>({id:s.id,...s.data()}));t(i)})},Cq=(e,t)=>{const n=Qt(St(me,"notifications"),It("recipientId","==",e),It("read","==",!1));return cS(n,r=>{t(r.size)})},xq=async e=>{try{const t=We(me,"notifications",e);await Dt(t,{read:!0})}catch(t){throw console.error("Error al marcar notificación como leída:",t),t}},Iq=async e=>{try{const t=Qt(St(me,"notifications"),It("recipientId","==",e),It("read","==",!1)),r=(await fn(t)).docs.map(i=>Dt(i.ref,{read:!0}));await Promise.all(r)}catch(t){throw console.error("Error al marcar todas las notificaciones como leídas:",t),t}},Nq=async e=>{try{await lS(We(me,"notifications",e))}catch(t){throw console.error("Error al eliminar notificación:",t),t}},Oq=async e=>{try{const t=Qt(St(me,"notifications"),It("recipientId","==",e)),n=await fn(t);if(n.empty)return{success:!0,message:"No hay notificaciones para eliminar."};const r=nR(me);return n.docs.forEach(i=>{r.delete(i.ref)}),await r.commit(),{success:!0}}catch(t){throw console.error("Error al eliminar todas las notificaciones:",t),t}},Mq=async(e,t)=>{var n;try{const r=We(me,"notifications",e),i=await gr(r);if(!i.exists())throw new Error("Notificación no encontrada");const s={id:i.id,...i.data()};if(s.type!=="project_invitation")throw new Error("Esta notificación no es una invitación a proyecto");let a=(n=s.data)==null?void 0:n.projectName;if(!a){const l=We(me,"projects",s.data.projectId),u=await gr(l);u.exists()?a=u.data().name||"Sin nombre":a="Desconocido"}const o=We(me,"projects",s.data.projectId);return await Dt(o,{collaborators:uS(t)}),await Dt(r,{read:!0,processed:!0,status:"accepted",processedAt:_t()}),await zl({type:"invitation_accepted",recipientId:s.senderId,senderId:t,title:"Invitación aceptada",message:`Han aceptado tu invitación para colaborar en el proyecto "${a}"`,data:{projectId:s.data.projectId,projectName:a}}),{success:!0}}catch(r){throw console.error("Error al aceptar invitación:",r),r}},Aq=async(e,t)=>{try{const n=We(me,"notifications",e),r=await gr(n);if(!r.exists())throw new Error("Notificación no encontrada");const i={id:r.id,...r.data()};if(i.type!=="project_invitation")throw new Error("Esta notificación no es una invitación a proyecto");return await Dt(n,{read:!0,processed:!0,status:"rejected",processedAt:_t()}),await zl({type:"invitation_rejected",recipientId:i.senderId,senderId:t,title:"Invitación rechazada",message:`Han rechazado tu invitación para colaborar en el proyecto "${i.data.projectName}"`,data:{projectId:i.data.projectId,projectName:i.data.projectName}}),{success:!0}}catch(n){throw console.error("Error al rechazar invitación:",n),n}},Rq=async(e,t,n,r,i)=>{try{return await zl({type:"join_request",recipientId:n,senderId:r,title:"Solicitud para unirse a proyecto",message:`${i} ha solicitado unirse a tu proyecto "${t}"`,data:{projectId:e,projectName:t,requesterId:r,requesterName:i},actions:[{label:"Aceptar",type:"accept_join_request"},{label:"Rechazar",type:"reject_join_request"}]}),{success:!0}}catch(s){throw console.error("Error al solicitar unirse al proyecto:",s),s}},Pq=async e=>{try{const t=We(me,"notifications",e),n=await gr(t);if(!n.exists())throw new Error("Notificación no encontrada");const r={id:n.id,...n.data()};if(r.type!=="join_request")throw new Error("Esta notificación no es una solicitud de unión");const{projectId:i,projectName:s,requesterId:a,requesterName:o}=r.data,l=We(me,"projects",i);return await Dt(l,{collaborators:uS(a)}),await Dt(t,{read:!0,processed:!0,status:"accepted",processedAt:_t()}),await zl({type:"join_request_accepted",recipientId:a,senderId:r.recipientId,title:"Solicitud aceptada",message:`Tu solicitud para unirte al proyecto "${s}" ha sido aceptada`,data:{projectId:i,projectName:s}}),{success:!0}}catch(t){throw console.error("Error al aceptar solicitud de unión:",t),t}},$q=async e=>{try{const t=We(me,"notifications",e),n=await gr(t);if(!n.exists())throw new Error("Notificación no encontrada");const r={id:n.id,...n.data()};if(r.type!=="join_request")throw new Error("Esta notificación no es una solicitud de unión");const{projectId:i,projectName:s,requesterId:a}=r.data;return await Dt(t,{read:!0,processed:!0,status:"rejected",processedAt:_t()}),await zl({type:"join_request_rejected",recipientId:a,senderId:r.recipientId,title:"Solicitud rechazada",message:`Tu solicitud para unirte al proyecto "${s}" ha sido rechazada`,data:{projectId:i,projectName:s}}),{success:!0}}catch(t){throw console.error("Error al rechazar solicitud de unión:",t),t}},wS=({isOpen:e,onClose:t,projectId:n,projectName:r})=>{const{currentUser:i}=M.useContext(At),[s,a]=M.useState(""),[o,l]=M.useState([]),[u,d]=M.useState(!1),[f,p]=M.useState(""),[g,S]=M.useState(""),[E,T]=M.useState([]);M.useEffect(()=>{console.log("InviteModal recibió props:",{isOpen:e,projectId:n,projectName:r}),e&&(a(""),l([]),p(""),S(""),T([]))},[e,n,r]);const v=async()=>{if(s.trim().length<2){p("Introduce al menos 2 caracteres para buscar"),l([]);return}d(!0),p("");try{const D=(await Eq(s)).filter(C=>!E.some(I=>I.id===C.id)&&C.id!==(i==null?void 0:i.uid));l(D),D.length===0&&p("No se encontraron usuarios o ya están invitados.")}catch(b){console.error("Error al buscar usuarios:",b),p("Error al buscar usuarios")}finally{d(!1)}},w=async b=>{if(!n||!r){p("Error: No se ha especificado el proyecto para la invitación.");return}d(!0),p("");try{await kq(b.id,n,r,i.uid,i.displayName||i.email||"Un usuario"),T(D=>[...D,b]),l(D=>D.filter(C=>C.id!==b.id)),S(`Invitación enviada a ${b.displayName||b.email}`),setTimeout(()=>S(""),3e3)}catch(D){console.error("Error al enviar invitación:",D),p("Error al enviar la invitación")}finally{d(!1)}};return e?y.jsx("div",{className:"modal-backdrop",children:y.jsxs("div",{className:"invite-modal",children:[y.jsxs("div",{className:"modal-header",children:[y.jsx("h2",{children:"Invitar colaboradores"}),y.jsx("button",{className:"close-button",onClick:t,children:"×"})]}),y.jsxs("div",{className:"modal-body",children:[y.jsxs("p",{children:["Proyecto: ",y.jsx("strong",{children:r})]}),y.jsxs("div",{className:"search-container",children:[y.jsx("input",{type:"text",placeholder:"Buscar por nombre o email",value:s,onChange:b=>a(b.target.value),className:"search-input"}),y.jsx("button",{onClick:v,disabled:u,className:"search-button",children:u?"Buscando...":"Buscar"})]}),f&&y.jsx("div",{className:"error-message",children:f}),g&&y.jsx("div",{className:"success-message",children:g}),o.length>0&&y.jsxs("div",{className:"results-container",children:[y.jsx("h3",{children:"Resultados de la búsqueda"}),y.jsx("ul",{className:"user-list",children:o.map(b=>y.jsxs("li",{className:"user-item",children:[y.jsxs("div",{className:"user-info",children:[y.jsx("img",{src:b.photoURL||`https://ui-avatars.com/api/?name=${b.displayName||b.email}&background=random`,alt:b.displayName||b.email,className:"user-avatar"}),y.jsx("span",{className:"user-name",children:b.displayName||b.email})]}),y.jsx("button",{onClick:()=>w(b),className:"invite-button",disabled:u,children:"Invitar"})]},b.id))})]}),E.length>0&&y.jsxs("div",{className:"invited-container",children:[y.jsx("h3",{children:"Usuarios ya invitados en esta sesión"}),y.jsx("ul",{className:"user-list",children:E.map(b=>y.jsxs("li",{className:"user-item invited",children:[y.jsxs("div",{className:"user-info",children:[y.jsx("img",{src:b.photoURL||`https://ui-avatars.com/api/?name=${b.displayName||b.email}&background=random`,alt:b.displayName||b.email,className:"user-avatar"}),y.jsx("span",{className:"user-name",children:b.displayName||b.email})]}),y.jsx("span",{className:"invited-badge",children:"Invitado"})]},b.id))})]})]}),y.jsx("div",{className:"modal-footer",children:y.jsx("button",{onClick:t,className:"cancel-button",children:"Cerrar"})})]})}):null},dg=M.createContext(),Lq=({children:e})=>{const[t,n]=M.useState([]),[r,i]=M.useState(!0),[s,a]=M.useState(!1),[o,l]=M.useState(null),[u,d]=M.useState("");M.useEffect(()=>{(async()=>{try{const v=St(me,"projects"),w=Qt(v,ag("createdAt","desc")),D=(await fn(w)).docs.map(C=>({id:C.id,...C.data()}));n(D),i(!1)}catch(v){console.error("Error al cargar proyectos:",v),i(!1)}})()},[]);const f=T=>{n(v=>[T,...v])},p=T=>{n(v=>v.map(w=>w.id===T.id?T:w))},g=T=>{n(v=>v.filter(w=>w.id!==T))},S=(T,v)=>{console.log("Abriendo modal para:",T,v),l(T),d(v),a(!0)},E=()=>{a(!1)};return y.jsxs(dg.Provider,{value:{projects:t,loading:r,addProject:f,updateProject:p,removeProject:g,openInviteModal:S,closeInviteModal:E,selectedProjectId:o,selectedProjectName:u},children:[e,s&&y.jsx(wS,{})]})},VR=M.createContext(),jq=({children:e})=>{const[t,n]=M.useState(()=>{const i=localStorage.getItem("darkMode");return i!==null?JSON.parse(i):window.matchMedia("(prefers-color-scheme: dark)").matches});M.useEffect(()=>{document.body.classList.toggle("dark-mode",t),localStorage.setItem("darkMode",JSON.stringify(t))},[t]);const r=()=>{n(!t)};return y.jsx(VR.Provider,{value:{darkMode:t,toggleTheme:r},children:e})},Fq=()=>y.jsx("div",{className:"home-container",children:y.jsxs("section",{className:"hero-section",children:[y.jsxs("h1",{className:"hero-title",children:[y.jsx("span",{className:"highlight",children:"DevFlow"})," - Colaboración sin límites"]}),y.jsx("p",{className:"hero-description",children:"Una plataforma integral para gestionar tus proyectos de desarrollo. Colabora con otros desarrolladores, asigna tareas, comparte archivos y comunícate en tiempo real. Diseñado por desarrolladores, para desarrolladores."}),y.jsxs("div",{className:"hero-buttons",children:[y.jsxs(Gt,{to:"/dashboard",className:"btn btn-primary",children:[y.jsx("i",{className:"fas fa-rocket"})," Explorar Proyectos"]}),y.jsx(Gt,{to:"/project/new",className:"btn btn-secondary",children:"Crear Proyecto"})]})]})}),YR=({project:e,onInviteClick:t})=>{const[n,r]=M.useState(null),[i,s]=M.useState(!0),[a,o]=M.useState(!1),[l,u]=M.useState(!1),{currentUser:d}=M.useContext(At),f=d&&e.createdBy===d.uid,p=T=>{T.preventDefault(),T.stopPropagation(),console.log("ProjectCard: Botón invitar clickeado. Tipo de onInviteClick:",typeof t),typeof t=="function"?t(e.id,e.name||e.title):console.warn("ProjectCard: onInviteClick no es una función o no fue proporcionada.",t)},g=d&&e.collaborators&&e.collaborators.includes(d.uid);M.useEffect(()=>{(async()=>{if(e.createdBy)try{const v=await Tq(e.createdBy);r(v)}catch(v){console.error("Error al obtener datos del creador:",v)}finally{s(!1)}else s(!1)})()},[e.createdBy]);const S=async()=>{if(!(!d||f||g||a))try{o(!0),await Rq(e.id,e.name||"Proyecto sin nombre",e.createdBy,d.uid,d.displayName||"Usuario"),u(!0)}catch(T){console.error("Error al solicitar unirse al proyecto:",T)}finally{o(!1)}},E=()=>{if(f)return y.jsx("button",{onClick:p,className:"btn-invite",children:"Invitar"});if(g)return y.jsx("span",{className:"collaborator-badge",children:"Ya eres colaborador"});if(l)return y.jsx("span",{className:"request-sent-badge",children:"Solicitud enviada"});if(d)return y.jsx("button",{onClick:S,className:"btn-join",disabled:a,children:a?"Enviando...":"Unirse"})};return y.jsxs("div",{className:"project-card",children:[y.jsx("h3",{children:e.title||e.name}),y.jsx("p",{className:"project-description",children:e.description&&e.description.length>100?`${e.description.substring(0,100)}...`:e.description}),e.tags&&e.tags.length>0&&y.jsx("div",{className:"project-tags",children:e.tags.map((T,v)=>y.jsx("span",{className:"project-tag",children:T},v))}),y.jsx("div",{className:"project-creator",children:i?y.jsx("span",{children:"Cargando creador..."}):n?y.jsx("div",{className:"creator-info",children:y.jsxs("span",{className:"creator-name",children:["Creado por: ",n.displayName||n.githubUsername||"Usuario"]})}):y.jsx("span",{children:"Creador desconocido"})}),y.jsxs("div",{className:"project-card-actions",children:[y.jsx(Gt,{to:`/project/${e.id}`,className:"btn-view",children:"Ver proyecto"}),E()]})]})},Uq=()=>{const{currentUser:e}=M.useContext(At),{projects:t,loading:n}=M.useContext(dg),[r,i]=M.useState(null),[s,a]=M.useState(!1),[o,l]=M.useState(null),[u,d]=M.useState(""),f=(p,g)=>{console.log("Dashboard: handleInviteClick llamado con",p,g),l(p),d(g||"Proyecto"),a(!0)};return M.useEffect(()=>{console.log("Dashboard: inviteModalOpen cambió a:",s)},[s]),y.jsxs("div",{className:"dashboard-container",children:[y.jsxs("div",{className:"dashboard-header",children:[y.jsx("h1",{children:"Panel de Proyectos"}),e&&y.jsx("div",{className:"dashboard-actions",children:y.jsxs(Gt,{to:"/project/new",className:"btn btn-primary",children:[y.jsx("i",{className:"fas fa-plus"})," Nuevo Proyecto"]})})]}),!e&&y.jsxs("div",{className:"login-banner",style:{textAlign:"center",padding:"1rem",backgroundColor:"#f0f0f0",borderRadius:"4px",margin:"1rem 0"},children:[y.jsx("p",{children:"Estás viendo proyectos públicos. Para crear proyectos o ver los tuyos privados, inicia sesión."}),y.jsx(Gt,{to:"/login",className:"btn",children:"Iniciar sesión"})]}),r&&y.jsx("div",{className:"error-message",style:{color:"red",marginBottom:"1rem"},children:r}),n?y.jsx("div",{className:"loading",style:{textAlign:"center",padding:"2rem"},children:"Cargando proyectos..."}):y.jsx("div",{className:"projects-grid",children:t&&t.length>0?t.map(p=>y.jsx(YR,{project:p,onInviteClick:p.createdBy===(e==null?void 0:e.uid)?f:void 0},p.id)):y.jsxs("div",{className:"no-projects",style:{textAlign:"center",padding:"2rem"},children:[y.jsx("p",{children:"No hay proyectos disponibles."}),e&&y.jsx(Gt,{to:"/project/new",className:"btn btn-primary",children:"Crear un proyecto"})]})}),s&&y.jsx(wS,{isOpen:s,onClose:()=>a(!1),projectId:o,projectName:u})]})},zq=async e=>{if(!e)throw new Error("Se requiere el ID del proyecto");const t=nR(me);try{const n=St(me,"projects",e,"tasks");(await fn(n)).docs.forEach(u=>{t.delete(u.ref)});const i=St(me,"projects",e,"messages");(await fn(i)).docs.forEach(u=>{t.delete(u.ref)});const a=St(me,"notifications"),o=Qt(a,It("data.projectId","==",e));return(await fn(o)).docs.forEach(u=>{t.delete(u.ref)}),await t.commit(),await lS(We(me,"projects",e)),!0}catch(n){throw console.error("Error al eliminar el proyecto:",n),n}},Vq=async(e,t,n)=>{try{const r=St(me,"projects",e,"messages");return await og(r,{content:n,sender:t,createdAt:_t()}),!0}catch(r){return console.error("Error al enviar mensaje:",r),!1}},Yq=(e,t)=>{try{const n=St(me,"projects",e,"messages"),r=Qt(n,ag("createdAt","asc"));return cS(r,i=>{const s=i.docs.map(a=>({id:a.id,...a.data()}));t(s)})}catch(n){return console.error("Error al escuchar mensajes:",n),t([]),()=>{}}};St(me,"projects");const WR=async e=>{try{const t=await gr(We(me,"users",e));if(t.exists()){const n=t.data();return{id:t.id,...n,displayName:n.githubUsername||n.displayName||"Usuario sin nombre"}}else return console.log(`Usuario con ID ${e} no encontrado`),{displayName:"Usuario desconocido"}}catch(t){return console.error("Error al obtener datos de usuario:",t),{displayName:"Usuario desconocido"}}},Wq=({projectId:e})=>{const{currentUser:t}=M.useContext(At),[n,r]=M.useState([]),[i,s]=M.useState(""),[a,o]=M.useState(!0),[l,u]=M.useState({}),d=M.useRef(null);M.useEffect(()=>{let p=null;return(async()=>{if(e)try{o(!0),p=Yq(e,S=>{r(S),o(!1)})}catch(S){console.error("Error al escuchar mensajes:",S),o(!1)}})(),()=>{p&&typeof p=="function"&&p()}},[e]),M.useEffect(()=>{if(!n.length)return;(async()=>{const S=[...new Set(n.map(T=>T.sender))].filter(T=>!l[T]);if(!S.length)return;const E={};for(const T of S)try{const v=await WR(T);v&&(E[T]=v)}catch(v){console.error(`Error al cargar usuario ${T}:`,v)}Object.keys(E).length>0&&u(T=>({...T,...E}))})()},[n]),M.useEffect(()=>{var p;(p=d.current)==null||p.scrollIntoView({behavior:"smooth"})},[n]);const f=async p=>{if(p.preventDefault(),!(!i.trim()||!t))try{await Vq(e,t.uid,i),s("")}catch(g){console.error("Error al enviar mensaje:",g)}};return t?y.jsxs("div",{className:"chat-container",children:[y.jsxs("div",{className:"chat-messages",children:[a?y.jsx("div",{className:"chat-loading",children:"Cargando mensajes..."}):n.length>0?n.map(p=>{var g;return y.jsxs("div",{className:`message ${p.sender===t.uid?"own-message":"other-message"}`,children:[y.jsxs("div",{className:"message-header",children:[y.jsx("span",{className:"sender-name",children:((g=l[p.sender])==null?void 0:g.displayName)||"Usuario"}),y.jsx("span",{className:"message-time",children:p.createdAt?new Date(p.createdAt.toDate()).toLocaleTimeString():""})]}),y.jsx("div",{className:"message-content",children:p.content})]},p.id)}):y.jsx("div",{className:"no-messages",children:"No hay mensajes aún. ¡Sé el primero en escribir!"}),y.jsx("div",{ref:d})]}),y.jsxs("form",{onSubmit:f,className:"chat-form",children:[y.jsx("input",{type:"text",value:i,onChange:p=>s(p.target.value),placeholder:"Escribe un mensaje...",className:"chat-input"}),y.jsx("button",{type:"submit",className:"send-button",disabled:!i.trim(),children:"Enviar"})]})]}):y.jsx("div",{className:"chat-unauthorized",children:"Debes iniciar sesión para usar el chat"})},Hq=async(e,t)=>{try{const n=St(me,"projects",e,"tasks"),r={title:t.title,description:t.description||"",status:t.status||"pending",priority:t.priority||"medium",createdBy:t.createdBy,assignedTo:t.assignedTo||null,createdAt:_t(),updatedAt:_t()};return t.dueDate&&(r.dueDate=t.dueDate),console.log("Guardando tarea en Firestore:",r),{id:(await og(n,r)).id,...r,createdAt:new Date,updatedAt:new Date}}catch(n){throw console.error("Error al crear tarea:",n),n}},Bq=async e=>{try{const t=St(me,"projects",e,"tasks"),n=Qt(t,ag("createdAt","desc"));return(await fn(n)).docs.map(i=>({id:i.id,...i.data()}))}catch(t){throw console.error("Error al obtener tareas:",t),t}},Gq=async(e,t,n)=>{try{const r=We(me,"projects",e,"tasks",t);return await Dt(r,{...n,updatedAt:_t()}),!0}catch(r){throw console.error("Error al actualizar tarea:",r),r}},qq=async(e,t)=>{try{const n=We(me,"projects",e,"tasks",t);return await lS(n),!0}catch(n){throw console.error("Error al eliminar tarea:",n),n}},Kq=async(e,t,n)=>{try{const r=We(me,"projects",e,"tasks",t);return await Dt(r,{assignedTo:n,updatedAt:_t()}),!0}catch(r){throw console.error("Error al asignar tarea:",r),r}},Qq=async(e,t,n)=>{try{const r=We(me,"projects",e,"tasks",t);return await Dt(r,{status:n,updatedAt:_t()}),!0}catch(r){throw console.error("Error al cambiar estado de tarea:",r),r}},Xq=async e=>{try{const t=Qt(St(me,"projects"),It("createdBy","==",e)),n=Qt(St(me,"projects"),It("collaborators","array-contains",e)),[r,i]=await Promise.all([fn(t),fn(n)]),s=new Set;if(r.forEach(o=>s.add(o.id)),i.forEach(o=>s.add(o.id)),s.size===0)return[];const a=[];for(const o of s){const l=Qt(St(me,`projects/${o}/tasks`),It("assignedTo","==",e));(await fn(l)).forEach(d=>{const f=d.data();a.push({id:d.id,projectId:o,...f})})}return a}catch(t){return console.error("Error al obtener tareas del usuario:",t),[]}},Jq=({task:e,onSubmit:t,collaborators:n,onCancel:r})=>{const[i,s]=M.useState({title:"",description:"",assignedTo:"",dueDate:"",priority:"medium"}),[a,o]=M.useState(!1),[l,u]=M.useState("");M.useEffect(()=>{if(e){let p="";if(e.dueDate)if(typeof e.dueDate.toDate=="function")try{p=e.dueDate.toDate().toISOString().split("T")[0]}catch(g){console.error("Error al formatear dueDate desde Timestamp:",g,e.dueDate)}else try{const g=new Date(e.dueDate);isNaN(g.getTime())?console.warn("task.dueDate no es un Timestamp y no se pudo convertir a fecha válida:",e.dueDate):p=g.toISOString().split("T")[0]}catch(g){console.error("Error al formatear dueDate (no Timestamp):",g,e.dueDate)}s({title:e.title||"",description:e.description||"",assignedTo:e.assignedTo||"",dueDate:p,priority:e.priority||"medium"})}else s({title:"",description:"",assignedTo:"",dueDate:"",priority:"medium"})},[e]);const d=p=>{const{name:g,value:S}=p.target;s(E=>({...E,[g]:S}))},f=async p=>{p.preventDefault(),o(!0),u("");try{if(!i.title.trim())throw new Error("El título de la tarea es obligatorio");const g={...i,title:i.title.trim()};i.dueDate&&(g.dueDate=new Date(i.dueDate)),(e?await t(e.id,g):await t(g))&&(e||s({title:"",description:"",assignedTo:"",dueDate:"",priority:"medium"}))}catch(g){console.error("Error al guardar tarea:",g),u(g.message||"No se pudo guardar la tarea")}finally{o(!1)}};return y.jsxs("div",{className:"task-form-container",children:[y.jsx("h3",{children:e?"Editar tarea":"Nueva tarea"}),l&&y.jsx("div",{className:"error-message",children:l}),y.jsxs("form",{onSubmit:f,className:"task-form",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"title",children:"Título*"}),y.jsx("input",{type:"text",id:"title",name:"title",value:i.title,onChange:d,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"description",children:"Descripción"}),y.jsx("textarea",{id:"description",name:"description",value:i.description,onChange:d,rows:"3"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"assignedTo",children:"Asignar a"}),y.jsxs("select",{id:"assignedTo",name:"assignedTo",value:i.assignedTo,onChange:d,children:[y.jsx("option",{value:"",children:"Sin asignar"}),Object.entries(n).map(([p,g])=>y.jsx("option",{value:p,children:g.displayName},p))]})]}),y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"dueDate",children:"Fecha límite"}),y.jsx("input",{type:"date",id:"dueDate",name:"dueDate",value:i.dueDate,onChange:d,min:new Date().toISOString().split("T")[0]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"priority",children:"Prioridad"}),y.jsxs("select",{id:"priority",name:"priority",value:i.priority,onChange:d,children:[y.jsx("option",{value:"low",children:"Baja"}),y.jsx("option",{value:"medium",children:"Media"}),y.jsx("option",{value:"high",children:"Alta"})]})]})]}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"button",className:"btn btn-secondary",onClick:r,children:"Cancelar"}),y.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?"Guardando...":e?"Actualizar tarea":"Crear tarea"})]})]})]})},Sy=({task:e,collaboratorsData:t,currentUser:n,isOwner:r,canEdit:i,onEdit:s,onDelete:a,onAssign:o,onStatusChange:l})=>{var P;const[u,d]=M.useState(!1),[f,p]=M.useState(!1),[g,S]=M.useState(!1),E=M.useRef(null),T=M.useRef(null),v=M.useRef(null),w=e.dueDate?new Date(e.dueDate.seconds*1e3).toLocaleDateString():null,b=e.assignedTo?((P=t[e.assignedTo])==null?void 0:P.displayName)||"Usuario desconocido":"Sin asignar",D=`priority-${e.priority||"medium"}`,C=async x=>{await l(e.id,x),d(!1),S(!1)},I=async x=>{await o(e.id,x),p(!1),S(!1)},N=()=>{s(),S(!1)},O=()=>{a(),S(!1)};return M.useEffect(()=>{const x=j=>{E.current&&!E.current.contains(j.target)&&S(!1),g&&(T.current&&!T.current.contains(j.target)&&!E.current.contains(j.target)&&d(!1),v.current&&!v.current.contains(j.target)&&!E.current.contains(j.target)&&p(!1))};return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[g]),y.jsxs("div",{className:`task-item ${e.status||"pending"}`,children:[y.jsxs("div",{className:"task-header",children:[y.jsx("h4",{className:"task-title",children:e.title}),y.jsx("span",{className:`task-priority ${D}`,children:e.priority==="high"?"Alta":e.priority==="low"?"Baja":"Media"})]}),e.description&&y.jsx("p",{className:"task-description",children:e.description}),y.jsxs("div",{className:"task-meta",children:[w&&y.jsxs("div",{className:"task-due-date",children:[y.jsx("span",{className:"meta-label",children:"Fecha límite:"})," ",w]}),y.jsxs("div",{className:"task-assignee",children:[y.jsx("span",{className:"meta-label",children:"Asignada a:"})," ",b]})]}),y.jsxs("div",{className:"task-kebab-menu-container",ref:E,children:[y.jsx("button",{className:"task-kebab-menu-btn",onClick:()=>{S(!g),d(!1),p(!1)},title:"Acciones de tarea",children:"⋮ "}),g&&y.jsxs("div",{className:"task-action-dropdown",children:[i&&y.jsx("button",{className:"task-action-dropdown-item",onClick:N,children:"Editar tarea"}),(r||e.assignedTo===(n==null?void 0:n.uid))&&y.jsxs("div",{className:"task-action-dropdown-item-submenu-container",ref:T,children:[y.jsxs("button",{className:"task-action-dropdown-item has-submenu",onClick:()=>d(!u),children:["Cambiar Estado ",u?"▲":"▼"]}),u&&y.jsxs("div",{className:"dropdown-menu sub-menu",children:[" ",y.jsx("button",{className:"dropdown-item",onClick:()=>C("pending"),disabled:e.status==="pending"||!e.status,children:"Pendiente"}),y.jsx("button",{className:"dropdown-item",onClick:()=>C("in-progress"),disabled:e.status==="in-progress",children:"En progreso"}),y.jsx("button",{className:"dropdown-item",onClick:()=>C("completed"),disabled:e.status==="completed",children:"Completada"})]})]}),r&&y.jsxs("div",{className:"task-action-dropdown-item-submenu-container",ref:v,children:[y.jsxs("button",{className:"task-action-dropdown-item has-submenu",onClick:()=>p(!f),children:["Asignar Tarea ",f?"▲":"▼"]}),f&&y.jsxs("div",{className:"dropdown-menu sub-menu",children:[" ",y.jsx("button",{className:"dropdown-item",onClick:()=>I(""),disabled:!e.assignedTo,children:"Sin asignar"}),Object.entries(t).map(([x,j])=>y.jsx("button",{className:"dropdown-item",onClick:()=>I(x),disabled:e.assignedTo===x,children:j.displayName},x))]})]}),(r||e.createdBy===(n==null?void 0:n.uid))&&y.jsx("button",{className:"task-action-dropdown-item delete-action",onClick:O,children:"Eliminar tarea"})]})]})]})},Zq=({tasks:e,collaboratorsData:t,currentUser:n,isOwner:r,onEdit:i,onDelete:s,onAssign:a,onStatusChange:o})=>{const l={pending:e.filter(u=>u.status==="pending"||!u.status),inProgress:e.filter(u=>u.status==="in-progress"),completed:e.filter(u=>u.status==="completed")};return y.jsxs("div",{className:"tasks-board",children:[y.jsxs("div",{className:"tasks-column",children:[y.jsxs("div",{className:"column-header pending",children:[y.jsx("h3",{children:"Pendientes"}),y.jsx("span",{className:"task-count",children:l.pending.length})]}),y.jsx("div",{className:"tasks-list",children:l.pending.length>0?l.pending.map(u=>y.jsx(Sy,{task:u,collaboratorsData:t,currentUser:n,isOwner:r,canEdit:r||u.createdBy===(n==null?void 0:n.uid)||u.assignedTo===(n==null?void 0:n.uid),onEdit:()=>i(u),onDelete:()=>s(u.id),onAssign:a,onStatusChange:o},u.id)):y.jsx("div",{className:"empty-column",children:"No hay tareas pendientes"})})]}),y.jsxs("div",{className:"tasks-column",children:[y.jsxs("div",{className:"column-header in-progress",children:[y.jsx("h3",{children:"En progreso"}),y.jsx("span",{className:"task-count",children:l.inProgress.length})]}),y.jsx("div",{className:"tasks-list",children:l.inProgress.length>0?l.inProgress.map(u=>y.jsx(Sy,{task:u,collaboratorsData:t,currentUser:n,isOwner:r,canEdit:r||u.createdBy===(n==null?void 0:n.uid)||u.assignedTo===(n==null?void 0:n.uid),onEdit:()=>i(u),onDelete:()=>s(u.id),onAssign:a,onStatusChange:o},u.id)):y.jsx("div",{className:"empty-column",children:"No hay tareas en progreso"})})]}),y.jsxs("div",{className:"tasks-column",children:[y.jsxs("div",{className:"column-header completed",children:[y.jsx("h3",{children:"Completadas"}),y.jsx("span",{className:"task-count",children:l.completed.length})]}),y.jsx("div",{className:"tasks-list",children:l.completed.length>0?l.completed.map(u=>y.jsx(Sy,{task:u,collaboratorsData:t,currentUser:n,isOwner:r,canEdit:r||u.createdBy===(n==null?void 0:n.uid)||u.assignedTo===(n==null?void 0:n.uid),onEdit:()=>i(u),onDelete:()=>s(u.id),onAssign:a,onStatusChange:o},u.id)):y.jsx("div",{className:"empty-column",children:"No hay tareas completadas"})})]})]})},e7=({projectId:e,collaborators:t,isOwner:n})=>{const{currentUser:r}=M.useContext(At),[i,s]=M.useState([]),[a,o]=M.useState(!0),[l,u]=M.useState(null),[d,f]=M.useState(!1),[p,g]=M.useState(null),[S,E]=M.useState({}),[T,v]=M.useState("all");M.useEffect(()=>{(async()=>{try{o(!0);const P=await Bq(e);s(P),u(null)}catch(P){console.error("Error al cargar tareas:",P),u("No se pudieron cargar las tareas")}finally{o(!1)}})()},[e]),M.useEffect(()=>{(async()=>{if(!(!t||t.length===0))try{const P={};for(const x of t)P[x]=await WR(x);E(P)}catch(P){console.error("Error al cargar datos de colaboradores:",P)}})()},[t]);const w=async O=>{try{console.log("Creando nueva tarea:",O);const P=await Hq(e,{...O,status:"pending",createdBy:r.uid,assignedTo:O.assignedTo||null});return console.log("Tarea creada:",P),s(x=>[P,...x]),f(!1),!0}catch(P){return console.error("Error al crear tarea:",P),!1}},b=async(O,P)=>{try{return await Gq(e,O,P),s(x=>x.map(j=>j.id===O?{...j,...P}:j)),g(null),!0}catch(x){return console.error("Error al actualizar tarea:",x),!1}},D=async O=>{try{return await qq(e,O),s(P=>P.filter(x=>x.id!==O)),!0}catch(P){return console.error("Error al eliminar tarea:",P),!1}},C=async(O,P)=>{try{return await Kq(e,O,P),s(x=>x.map(j=>j.id===O?{...j,assignedTo:P}:j)),!0}catch(x){return console.error("Error al asignar tarea:",x),!1}},I=async(O,P)=>{try{return await Qq(e,O,P),s(x=>x.map(j=>j.id===O?{...j,status:P}:j)),!0}catch(x){return console.error("Error al cambiar estado de tarea:",x),!1}},N=i.filter(O=>T==="all"?!0:T==="my-tasks"?O.assignedTo===(r==null?void 0:r.uid):T==="unassigned"?!O.assignedTo:O.status===T);return y.jsxs("div",{className:"task-manager",children:[y.jsxs("div",{className:"task-manager-header",children:[y.jsx("h2",{children:"Tareas del proyecto"}),(n||(t==null?void 0:t.includes(r==null?void 0:r.uid)))&&y.jsx("button",{className:"btn btn-primary",onClick:()=>{g(null),f(!d)},children:d?"Cancelar":"Nueva tarea"})]}),y.jsxs("div",{className:"task-filters",children:[y.jsx("button",{className:T==="all"?"active":"",onClick:()=>v("all"),children:"Todas"}),y.jsx("button",{className:T==="my-tasks"?"active":"",onClick:()=>v("my-tasks"),children:"Mis tareas"}),y.jsx("button",{className:T==="unassigned"?"active":"",onClick:()=>v("unassigned"),children:"Sin asignar"}),y.jsx("button",{className:T==="pending"?"active":"",onClick:()=>v("pending"),children:"Pendientes"}),y.jsx("button",{className:T==="in-progress"?"active":"",onClick:()=>v("in-progress"),children:"En progreso"}),y.jsx("button",{className:T==="completed"?"active":"",onClick:()=>v("completed"),children:"Completadas"})]}),d&&y.jsx(Jq,{task:p,onSubmit:p?b:w,collaborators:S,onCancel:()=>{f(!1),g(null)}}),a?y.jsx("div",{className:"loading",children:"Cargando tareas..."}):l?y.jsx("div",{className:"error-message",children:l}):N.length>0?y.jsx(Zq,{tasks:N,collaboratorsData:S,currentUser:r,isOwner:n,onEdit:O=>{g(O),f(!0)},onDelete:D,onAssign:C,onStatusChange:I}):y.jsxs("div",{className:"no-tasks-message",children:["No hay tareas ",T!=="all"?"que coincidan con este filtro":"para este proyecto","."]})]})},t7=({projectId:e,currentUser:t,onFileUploaded:n})=>{const[r,i]=M.useState(null),[s,a]=M.useState(!1),[o,l]=M.useState(null),u="ddpbj2dao",d="ihunvirj",f=g=>{g.target.files[0]&&(i(g.target.files[0]),l(null))},p=async()=>{if(!r){l("Por favor selecciona un archivo");return}if(r.size>10*1024*1024){l("El archivo es demasiado grande. Máximo 10MB.");return}a(!0),l(null);const g=new FormData;g.append("file",r),g.append("upload_preset",d),g.append("folder",`devflow/projects/${e}`);try{const E=await(await fetch(`https://api.cloudinary.com/v1_1/${u}/auto/upload`,{method:"POST",body:g})).json();if(E.error)throw new Error(E.error.message);const T={id:E.public_id,name:r.name,type:r.type,size:Math.round(r.size/1024),url:E.secure_url,uploadedBy:t.uid,uploadedAt:new Date},v=We(me,"projects",e);await Dt(v,{files:uS(T)}),n(T),i(null),a(!1)}catch(S){console.error("Error al subir archivo:",S),l("Error al subir archivo. Inténtalo de nuevo."),a(!1)}};return y.jsxs("div",{className:"file-uploader",children:[y.jsx("input",{type:"file",onChange:f,disabled:s}),r&&y.jsxs("div",{className:"selected-file",children:[y.jsx("span",{children:r.name}),y.jsxs("span",{className:"file-size",children:["(",Math.round(r.size/1024)," KB)"]})]}),o&&y.jsx("p",{className:"error-message",children:o}),y.jsx("button",{className:"btn btn-primary upload-btn",onClick:p,disabled:!r||s,children:s?"Subiendo...":"Subir archivo"})]})};function n7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DD(Object(n),!0).forEach(function(r){n7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r7(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function i7(e,t){if(e==null)return{};var n=r7(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function s7(e,t){return a7(e)||o7(e,t)||l7(e,t)||c7()}function a7(e){if(Array.isArray(e))return e}function o7(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=e[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(n.push(o.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function l7(e,t){if(e){if(typeof e=="string")return xD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xD(e,t)}}function xD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ID(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ND(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(n),!0).forEach(function(r){u7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d7(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(i,s){return s(i)},r)}}function Fc(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=e.length?e.apply(this,i):function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return t.apply(n,[].concat(i,o))}}}function Rp(e){return{}.toString.call(e).includes("Object")}function h7(e){return!Object.keys(e).length}function Uu(e){return typeof e=="function"}function f7(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p7(e,t){return Rp(t)||Us("changeType"),Object.keys(t).some(function(n){return!f7(e,n)})&&Us("changeField"),t}function m7(e){Uu(e)||Us("selectorType")}function g7(e){Uu(e)||Rp(e)||Us("handlerType"),Rp(e)&&Object.values(e).some(function(t){return!Uu(t)})&&Us("handlersType")}function v7(e){e||Us("initialIsRequired"),Rp(e)||Us("initialType"),h7(e)&&Us("initialContent")}function y7(e,t){throw new Error(e[t]||e.default)}var w7={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Us=Fc(y7)(w7),Kh={changes:p7,selector:m7,handler:g7,initial:v7};function _7(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Kh.initial(e),Kh.handler(t);var n={current:e},r=Fc(T7)(n,t),i=Fc(E7)(n),s=Fc(Kh.changes)(e),a=Fc(S7)(n);function o(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(d){return d};return Kh.selector(u),u(n.current)}function l(u){d7(r,i,s,a)(u)}return[o,l]}function S7(e,t){return Uu(t)?t(e.current):t}function E7(e,t){return e.current=ND(ND({},e.current),t),t}function T7(e,t,n){return Uu(t)?t(e.current):Object.keys(n).forEach(function(r){var i;return(i=t[r])===null||i===void 0?void 0:i.call(t,e.current[r])}),n}var b7={create:_7},k7={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function D7(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=e.length?e.apply(this,i):function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return t.apply(n,[].concat(i,o))}}}function C7(e){return{}.toString.call(e).includes("Object")}function x7(e){return e||OD("configIsRequired"),C7(e)||OD("configType"),e.urls?(I7(),{paths:{vs:e.urls.monacoBase}}):e}function I7(){console.warn(HR.deprecation)}function N7(e,t){throw new Error(e[t]||e.default)}var HR={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},OD=D7(N7)(HR),O7={config:x7},M7=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(s,a){return a(s)},i)}};function BR(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],BR(e[n],t[n]))}),CD(CD({},e),t)}var A7={type:"cancelation",msg:"operation is manually canceled"};function Ey(e){var t=!1,n=new Promise(function(r,i){e.then(function(s){return t?i(A7):r(s)}),e.catch(i)});return n.cancel=function(){return t=!0},n}var R7=b7.create({config:k7,isInitialized:!1,resolve:null,reject:null,monaco:null}),GR=s7(R7,2),$d=GR[0],hg=GR[1];function P7(e){var t=O7.config(e),n=t.monaco,r=i7(t,["monaco"]);hg(function(i){return{config:BR(i.config,r),monaco:n}})}function $7(){var e=$d(function(t){var n=t.monaco,r=t.isInitialized,i=t.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!e.isInitialized){if(hg({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Ey(Ty);if(window.monaco&&window.monaco.editor)return qR(window.monaco),e.resolve(window.monaco),Ey(Ty);M7(L7,F7)(U7)}return Ey(Ty)}function L7(e){return document.body.appendChild(e)}function j7(e){var t=document.createElement("script");return e&&(t.src=e),t}function F7(e){var t=$d(function(r){var i=r.config,s=r.reject;return{config:i,reject:s}}),n=j7("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function U7(){var e=$d(function(n){var r=n.config,i=n.resolve,s=n.reject;return{config:r,resolve:i,reject:s}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){qR(n),e.resolve(n)},function(n){e.reject(n)})}function qR(e){$d().monaco||hg({monaco:e})}function z7(){return $d(function(e){var t=e.monaco;return t})}var Ty=new Promise(function(e,t){return hg({resolve:e,reject:t})}),KR={config:P7,init:$7,__getMonacoInstance:z7},V7={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},by=V7,Y7={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},W7=Y7;function H7({children:e}){return A.createElement("div",{style:W7.container},e)}var B7=H7,G7=B7;function q7({width:e,height:t,isEditorReady:n,loading:r,_ref:i,className:s,wrapperProps:a}){return A.createElement("section",{style:{...by.wrapper,width:e,height:t},...a},!n&&A.createElement(G7,null,r),A.createElement("div",{ref:i,style:{...by.fullWidth,...!n&&by.hide},className:s}))}var K7=q7,QR=M.memo(K7);function Q7(e){M.useEffect(e,[])}var XR=Q7;function X7(e,t,n=!0){let r=M.useRef(!0);M.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var Wn=X7;function ru(){}function zo(e,t,n,r){return J7(e,r)||Z7(e,t,n,r)}function J7(e,t){return e.editor.getModel(JR(e,t))}function Z7(e,t,n,r){return e.editor.createModel(t,n,r?JR(e,r):void 0)}function JR(e,t){return e.Uri.parse(t)}function e8({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:s,modifiedModelPath:a,keepCurrentOriginalModel:o=!1,keepCurrentModifiedModel:l=!1,theme:u="light",loading:d="Loading...",options:f={},height:p="100%",width:g="100%",className:S,wrapperProps:E={},beforeMount:T=ru,onMount:v=ru}){let[w,b]=M.useState(!1),[D,C]=M.useState(!0),I=M.useRef(null),N=M.useRef(null),O=M.useRef(null),P=M.useRef(v),x=M.useRef(T),j=M.useRef(!1);XR(()=>{let q=KR.init();return q.then(ee=>(N.current=ee)&&C(!1)).catch(ee=>(ee==null?void 0:ee.type)!=="cancelation"&&console.error("Monaco initialization: error:",ee)),()=>I.current?ne():q.cancel()}),Wn(()=>{if(I.current&&N.current){let q=I.current.getOriginalEditor(),ee=zo(N.current,e||"",r||n||"text",s||"");ee!==q.getModel()&&q.setModel(ee)}},[s],w),Wn(()=>{if(I.current&&N.current){let q=I.current.getModifiedEditor(),ee=zo(N.current,t||"",i||n||"text",a||"");ee!==q.getModel()&&q.setModel(ee)}},[a],w),Wn(()=>{let q=I.current.getModifiedEditor();q.getOption(N.current.editor.EditorOption.readOnly)?q.setValue(t||""):t!==q.getValue()&&(q.executeEdits("",[{range:q.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),q.pushUndoStop())},[t],w),Wn(()=>{var q,ee;(ee=(q=I.current)==null?void 0:q.getModel())==null||ee.original.setValue(e||"")},[e],w),Wn(()=>{let{original:q,modified:ee}=I.current.getModel();N.current.editor.setModelLanguage(q,r||n||"text"),N.current.editor.setModelLanguage(ee,i||n||"text")},[n,r,i],w),Wn(()=>{var q;(q=N.current)==null||q.editor.setTheme(u)},[u],w),Wn(()=>{var q;(q=I.current)==null||q.updateOptions(f)},[f],w);let K=M.useCallback(()=>{var de;if(!N.current)return;x.current(N.current);let q=zo(N.current,e||"",r||n||"text",s||""),ee=zo(N.current,t||"",i||n||"text",a||"");(de=I.current)==null||de.setModel({original:q,modified:ee})},[n,t,i,e,r,s,a]),W=M.useCallback(()=>{var q;!j.current&&O.current&&(I.current=N.current.editor.createDiffEditor(O.current,{automaticLayout:!0,...f}),K(),(q=N.current)==null||q.editor.setTheme(u),b(!0),j.current=!0)},[f,u,K]);M.useEffect(()=>{w&&P.current(I.current,N.current)},[w]),M.useEffect(()=>{!D&&!w&&W()},[D,w,W]);function ne(){var ee,de,B,Y;let q=(ee=I.current)==null?void 0:ee.getModel();o||((de=q==null?void 0:q.original)==null||de.dispose()),l||((B=q==null?void 0:q.modified)==null||B.dispose()),(Y=I.current)==null||Y.dispose()}return A.createElement(QR,{width:g,height:p,isEditorReady:w,loading:d,_ref:O,className:S,wrapperProps:E})}var t8=e8;M.memo(t8);function n8(e){let t=M.useRef();return M.useEffect(()=>{t.current=e},[e]),t.current}var r8=n8,Qh=new Map;function i8({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:i,path:s,theme:a="light",line:o,loading:l="Loading...",options:u={},overrideServices:d={},saveViewState:f=!0,keepCurrentModel:p=!1,width:g="100%",height:S="100%",className:E,wrapperProps:T={},beforeMount:v=ru,onMount:w=ru,onChange:b,onValidate:D=ru}){let[C,I]=M.useState(!1),[N,O]=M.useState(!0),P=M.useRef(null),x=M.useRef(null),j=M.useRef(null),K=M.useRef(w),W=M.useRef(v),ne=M.useRef(),q=M.useRef(r),ee=r8(s),de=M.useRef(!1),B=M.useRef(!1);XR(()=>{let $=KR.init();return $.then(L=>(P.current=L)&&O(!1)).catch(L=>(L==null?void 0:L.type)!=="cancelation"&&console.error("Monaco initialization: error:",L)),()=>x.current?V():$.cancel()}),Wn(()=>{var L,z,G,F;let $=zo(P.current,e||r||"",t||i||"",s||n||"");$!==((L=x.current)==null?void 0:L.getModel())&&(f&&Qh.set(ee,(z=x.current)==null?void 0:z.saveViewState()),(G=x.current)==null||G.setModel($),f&&((F=x.current)==null||F.restoreViewState(Qh.get(s))))},[s],C),Wn(()=>{var $;($=x.current)==null||$.updateOptions(u)},[u],C),Wn(()=>{!x.current||r===void 0||(x.current.getOption(P.current.editor.EditorOption.readOnly)?x.current.setValue(r):r!==x.current.getValue()&&(B.current=!0,x.current.executeEdits("",[{range:x.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),x.current.pushUndoStop(),B.current=!1))},[r],C),Wn(()=>{var L,z;let $=(L=x.current)==null?void 0:L.getModel();$&&i&&((z=P.current)==null||z.editor.setModelLanguage($,i))},[i],C),Wn(()=>{var $;o!==void 0&&(($=x.current)==null||$.revealLine(o))},[o],C),Wn(()=>{var $;($=P.current)==null||$.editor.setTheme(a)},[a],C);let Y=M.useCallback(()=>{var $;if(!(!j.current||!P.current)&&!de.current){W.current(P.current);let L=s||n,z=zo(P.current,r||e||"",t||i||"",L||"");x.current=($=P.current)==null?void 0:$.editor.create(j.current,{model:z,automaticLayout:!0,...u},d),f&&x.current.restoreViewState(Qh.get(L)),P.current.editor.setTheme(a),o!==void 0&&x.current.revealLine(o),I(!0),de.current=!0}},[e,t,n,r,i,s,u,d,f,a,o]);M.useEffect(()=>{C&&K.current(x.current,P.current)},[C]),M.useEffect(()=>{!N&&!C&&Y()},[N,C,Y]),q.current=r,M.useEffect(()=>{var $,L;C&&b&&(($=ne.current)==null||$.dispose(),ne.current=(L=x.current)==null?void 0:L.onDidChangeModelContent(z=>{B.current||b(x.current.getValue(),z)}))},[C,b]),M.useEffect(()=>{if(C){let $=P.current.editor.onDidChangeMarkers(L=>{var G;let z=(G=x.current.getModel())==null?void 0:G.uri;if(z&&L.find(F=>F.path===z.path)){let F=P.current.editor.getModelMarkers({resource:z});D==null||D(F)}});return()=>{$==null||$.dispose()}}return()=>{}},[C,D]);function V(){var $,L;($=ne.current)==null||$.dispose(),p?f&&Qh.set(s,x.current.saveViewState()):(L=x.current.getModel())==null||L.dispose(),x.current.dispose()}return A.createElement(QR,{width:g,height:S,isEditorReady:C,loading:l,_ref:j,className:E,wrapperProps:T})}var s8=i8,a8=M.memo(s8),o8=a8;const l8=({value:e="",language:t="javascript",readOnly:n=!1,theme:r="vs-dark",onChange:i=()=>{},height:s="300px"})=>{const a=o=>{i(o)};return y.jsx("div",{className:"monaco-editor-container",children:y.jsx(o8,{height:s,defaultLanguage:t,defaultValue:e,theme:r,onChange:a,options:{readOnly:n,minimap:{enabled:!0},scrollBeyondLastLine:!1,automaticLayout:!0,fontSize:14,lineNumbers:"on",wordWrap:"on"}})})},MD=({initialCode:e="",language:t="javascript",title:n="Nuevo Snippet",snippetId:r=null,editable:i=!0,onSave:s=null,onDelete:a=null})=>{const[o,l]=M.useState(e),[u,d]=M.useState(n),[f,p]=M.useState(t),[g,S]=M.useState(!1),[E,T]=M.useState(!1),[v,w]=M.useState(!1);M.useEffect(()=>{d(n),p(t),e!==o&&l(e)},[n,t,e]);const b=x=>{l(x)},D=()=>{i&&S(!0)},C=x=>{d(x.target.value)},I=()=>{S(!1)},N=x=>{p(x.target.value)},O=async()=>{if(s){T(!0);try{await s(o,u,f,r)}catch(x){console.error("Error al guardar el snippet:",x)}finally{T(!1)}}},P=async()=>{if(!(!a||!r)&&window.confirm("¿Estás seguro de que quieres eliminar este snippet?")){w(!0);try{await a(r)}catch(x){console.error("Error al eliminar el snippet:",x),w(!1)}}};return y.jsxs("div",{className:"code-snippet",children:[y.jsxs("div",{className:"code-snippet-header",children:[y.jsx("div",{className:"code-snippet-title",children:g&&i?y.jsx("input",{type:"text",value:u,onChange:C,onBlur:I,autoFocus:!0,className:"title-input"}):y.jsxs("div",{onClick:D,className:i?"editable-title":"",children:[u,i&&y.jsx("span",{className:"edit-icon",children:" ✎"})]})}),y.jsx("div",{className:"code-snippet-actions",children:i&&y.jsxs(y.Fragment,{children:[y.jsxs("select",{className:"language-select",value:f,onChange:N,disabled:E,children:[y.jsx("option",{value:"javascript",children:"JavaScript"}),y.jsx("option",{value:"html",children:"HTML"}),y.jsx("option",{value:"css",children:"CSS"})]}),y.jsx("button",{className:"btn-save-code",onClick:O,disabled:E,children:E?"Guardando...":"Guardar"}),r&&a&&y.jsxs("button",{className:"btn-delete-snippet",onClick:P,disabled:v,title:"Eliminar snippet",children:[y.jsx("i",{className:"fas fa-trash"})," Eliminar"]})]})})]}),y.jsx("div",{className:"code-editor-container",children:y.jsx(l8,{value:o,language:f,readOnly:!i,onChange:b,height:"250px",theme:"vs-dark"})})]})},c8=()=>{var I,N,O,P;const{id:e}=qN(),{currentUser:t}=M.useContext(At),[n,r]=M.useState(null),[i,s]=M.useState(!0),[a,o]=M.useState(null);M.useState(!1);const[l,u]=M.useState(!1),[d,f]=M.useState(!1),p=H_();M.useEffect(()=>{e&&(async()=>{try{const j=We(me,"projects",e),K=await gr(j);K.exists()?r({id:K.id,...K.data()}):o("Proyecto no encontrado")}catch(j){console.error("Error al cargar el proyecto:",j),o("Error al cargar el proyecto")}finally{s(!1)}})()},[e]);const g=(I=n==null?void 0:n.collaborators)==null?void 0:I.includes(t==null?void 0:t.uid),S=(n==null?void 0:n.createdBy)===(t==null?void 0:t.uid),E=x=>{r(j=>({...j,files:[...j.files||[],x]}))},T=async x=>{if(window.confirm("¿Estás seguro de eliminar este archivo?"))try{const j=We(me,"projects",e);await Dt(j,{files:H9(x)}),r(K=>({...K,files:K.files.filter(W=>W.id!==x.id)}))}catch(j){console.error("Error al eliminar archivo:",j)}},v=()=>{f(!0)},w=()=>{f(!1)},b=async()=>{if(S)try{u(!0),await zq(e),p.push("/my-projects")}catch(x){console.error("Error al eliminar el proyecto:",x),o("No se pudo eliminar el proyecto. Inténtalo de nuevo."),u(!1),f(!1)}},D=async(x,j,K,W)=>{try{if(W&&n.codeSnippets){const ee=n.codeSnippets.filter(Y=>Y.id!==W),de={id:W,code:x,language:K||"javascript",title:j||"Snippet sin título",createdBy:t.uid,updatedAt:new Date},B=We(me,"projects",e);return await Dt(B,{codeSnippets:[...ee,de]}),r(Y=>({...Y,codeSnippets:[...ee,de]})),!0}const ne={id:Date.now().toString(),code:x,language:K||"javascript",title:j||"Snippet sin título",createdBy:t.uid,createdAt:new Date},q=We(me,"projects",e);return n.codeSnippets?await Dt(q,{codeSnippets:[...n.codeSnippets,ne]}):await Dt(q,{codeSnippets:[ne]}),r(ee=>({...ee,codeSnippets:[...ee.codeSnippets||[],ne]})),!0}catch(ne){return console.error("Error al guardar el snippet:",ne),!1}},C=async x=>{try{if(!x||!n.codeSnippets)return!1;const j=We(me,"projects",e),K=n.codeSnippets.filter(W=>W.id!==x);return await Dt(j,{codeSnippets:K}),r(W=>({...W,codeSnippets:W.codeSnippets.filter(ne=>ne.id!==x)})),!0}catch(j){return console.error("Error al eliminar el snippet:",j),!1}};return i?y.jsx("div",{className:"loading-container",children:"Cargando proyecto..."}):a?y.jsx("div",{className:"error-container",children:a}):n?t?!g&&!S?y.jsx("div",{className:"error-container",children:"No tienes acceso a este proyecto"}):y.jsxs("div",{className:"project-detail-container",children:[y.jsxs("div",{className:"project-header",children:[y.jsxs("div",{className:"project-title",children:[y.jsx("h1",{children:n.name}),S&&y.jsxs("div",{className:"project-actions",children:[y.jsx("button",{className:"btn btn-secondary",onClick:()=>p.push(`/project/edit/${e}`),children:"Editar"}),y.jsx("button",{className:"btn btn-danger",onClick:v,disabled:l,children:l?"Eliminando...":"Eliminar proyecto"})]})]}),y.jsxs("div",{className:"project-meta",children:[y.jsxs("span",{className:"project-created",children:["Creado: ",((N=n.createdAt)==null?void 0:N.toDate().toLocaleDateString())||"Fecha no disponible"]}),y.jsxs("span",{className:"project-collaborators",children:["Colaboradores: ",((O=n.collaborators)==null?void 0:O.length)||1]})]})]}),d&&y.jsx("div",{className:"delete-confirmation-overlay",children:y.jsxs("div",{className:"delete-confirmation-modal",children:[y.jsx("h2",{children:"Eliminar proyecto"}),y.jsx("p",{children:"¿Estás seguro de que quieres eliminar este proyecto?"}),y.jsx("p",{className:"delete-warning",children:"Esta acción no se puede deshacer. Se eliminarán todas las tareas, mensajes y archivos asociados."}),y.jsxs("div",{className:"delete-actions",children:[y.jsx("button",{className:"btn btn-secondary",onClick:w,disabled:l,children:"Cancelar"}),y.jsx("button",{className:"btn btn-danger confirm-delete",onClick:b,disabled:l,children:l?"Eliminando...":"Eliminar definitivamente"})]})]})}),y.jsxs("div",{className:"project-description",children:[y.jsx("h3",{children:"Descripción"}),y.jsx("p",{children:n.description||"Sin descripción"})]}),y.jsxs("div",{className:"project-content",children:[y.jsxs("div",{className:"project-files",children:[y.jsx("h3",{children:"Archivos del proyecto"}),(S||((P=n.collaborators)==null?void 0:P.includes(t==null?void 0:t.uid)))&&y.jsx(t7,{projectId:e,currentUser:t,onFileUploaded:E}),y.jsx("div",{className:"files-list",children:n.files&&n.files.length>0?n.files.map(x=>y.jsxs("div",{className:"file-item",children:[y.jsx("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"file-link",children:y.jsx("span",{className:"file-name",children:x.name})}),y.jsxs("span",{className:"file-size",children:[x.size," KB"]}),(S||x.uploadedBy===(t==null?void 0:t.uid))&&y.jsx("button",{className:"btn-delete-file",onClick:()=>T(x),title:"Eliminar archivo",children:y.jsx("i",{className:"fas fa-trash"})})]},x.id)):y.jsx("p",{children:"No hay archivos en este proyecto"})})]}),y.jsxs("div",{className:"project-chat",children:[y.jsx("h3",{children:"Chat del proyecto"}),y.jsx(Wq,{projectId:e})]}),n&&y.jsx("div",{className:"project-tasks-section",children:y.jsx(e7,{projectId:e,collaborators:n.collaborators||[],isOwner:n.createdBy===(t==null?void 0:t.uid)})}),y.jsxs("div",{className:"project-code-snippets",children:[y.jsx("h3",{children:"Snippets de código"}),(S||g)&&y.jsx(MD,{title:"Nuevo Snippet",onSave:D}),n.codeSnippets&&n.codeSnippets.length>0?n.codeSnippets.map(x=>y.jsx(MD,{snippetId:x.id,initialCode:x.code,language:x.language||"javascript",title:x.title||"Sin título",editable:S||t.uid===x.createdBy,onSave:D,onDelete:C},x.id)):y.jsx("p",{children:"No hay snippets de código en este proyecto"})]})]})]}):y.jsx("div",{className:"error-container",children:"Debes iniciar sesión para ver este proyecto"}):y.jsx("div",{className:"error-container",children:"Proyecto no encontrado"})},u8=()=>{const{currentUser:e}=M.useContext(At),{addProject:t}=M.useContext(dg),n=H_(),[r,i]=M.useState({name:"",description:"",repositoryUrl:"",tags:""}),[s,a]=M.useState(!1),[o,l]=M.useState(null),[u,d]=M.useState(!1);if(!e)return n.push("/login"),null;const f=g=>{const{name:S,value:E}=g.target;i(T=>({...T,[S]:E}))},p=async g=>{g.preventDefault(),a(!0),l(null);try{const S={name:r.name.trim(),description:r.description.trim(),repositoryUrl:r.repositoryUrl,tags:r.tags.split(",").map(T=>T.trim()).filter(T=>T),createdBy:e.uid,collaborators:[e.uid],createdAt:_t(),updatedAt:_t(),isPublic:u},E=await og(St(me,"projects"),S);t({id:E.id,...S}),n.push(`/project/${E.id}`)}catch(S){console.error("Error al crear proyecto:",S),l("No se pudo crear el proyecto. Inténtalo de nuevo.")}finally{a(!1)}};return y.jsxs("div",{className:"new-project-container",children:[y.jsx("h1",{children:"Crear nuevo proyecto"}),o&&y.jsx("div",{className:"error-message",children:o}),y.jsxs("form",{onSubmit:p,className:"new-project-form",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"name",children:"Nombre del proyecto"}),y.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:f,required:!0,placeholder:"Ej. Mi Aplicación Web"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"description",children:"Descripción"}),y.jsx("textarea",{id:"description",name:"description",value:r.description,onChange:f,required:!0,placeholder:"Describe brevemente tu proyecto...",rows:"4"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"repositoryUrl",children:"URL del repositorio (opcional)"}),y.jsx("input",{type:"url",id:"repositoryUrl",name:"repositoryUrl",value:r.repositoryUrl,onChange:f,placeholder:"https://github.com/tu-usuario/tu-repo"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"tags",children:"Etiquetas (separadas por comas)"}),y.jsx("input",{type:"text",id:"tags",name:"tags",value:r.tags,onChange:f,placeholder:"Ej. react, javascript, firebase"})]}),y.jsxs("div",{className:"form-group",children:[y.jsxs("label",{className:"privacy-label",children:[y.jsx("input",{type:"checkbox",checked:u,onChange:g=>d(g.target.checked),className:"privacy-checkbox"}),y.jsx("span",{children:"Hacer este proyecto público (visible para todos)"})]}),y.jsx("p",{className:"privacy-hint",children:"Los proyectos públicos aparecen en la página principal y pueden ser vistos por cualquier persona. Los proyectos privados solo son visibles para ti y tus colaboradores."})]}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>n.goBack(),children:"Cancelar"}),y.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s,children:s?"Creando...":"Crear proyecto"})]})]})]})},d8=()=>{const{id:e}=qN(),{currentUser:t}=M.useContext(At),{updateProject:n}=M.useContext(dg),r=H_(),[i,s]=M.useState({name:"",description:"",repositoryUrl:"",tags:""}),[a,o]=M.useState(!1),[l,u]=M.useState(!0),[d,f]=M.useState(!1),[p,g]=M.useState(null);if(M.useEffect(()=>{e&&t?(async()=>{var v;try{const w=We(me,"projects",e),b=await gr(w);if(b.exists()){const D=b.data();if(D.createdBy!==(t==null?void 0:t.uid)){g("No tienes permiso para editar este proyecto");return}s({name:D.name||"",description:D.description||"",repositoryUrl:D.repositoryUrl||"",tags:((v=D.tags)==null?void 0:v.join(", "))||""}),o(D.isPublic||!1)}else g("Proyecto no encontrado")}catch(w){console.error("Error al cargar el proyecto:",w),g("Error al cargar el proyecto")}finally{u(!1)}})():u(!1)},[e,t]),!t)return r.push("/login"),null;const S=T=>{const{name:v,value:w}=T.target;s(b=>({...b,[v]:w}))},E=async T=>{T.preventDefault(),f(!0),g(null);try{const v=We(me,"projects",e),w={name:i.name.trim(),description:i.description.trim(),isPublic:a,repositoryUrl:i.repositoryUrl,tags:i.tags.split(",").map(b=>b.trim()).filter(b=>b),updatedAt:_t()};await Dt(v,w),n({id:e,...w}),r.push(`/project/${e}`)}catch(v){console.error("Error al actualizar proyecto:",v),g("No se pudo actualizar el proyecto. Inténtalo de nuevo.")}finally{f(!1)}};return l?y.jsx("div",{className:"loading-container",children:"Cargando datos del proyecto..."}):p?y.jsxs("div",{className:"error-container",children:[y.jsx("p",{children:p}),y.jsx("button",{className:"btn btn-secondary",onClick:()=>r.goBack(),children:"Volver"})]}):y.jsxs("div",{className:"new-project-container",children:[y.jsx("h1",{children:"Editar proyecto"}),y.jsxs("form",{onSubmit:E,className:"new-project-form",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"name",children:"Nombre del proyecto"}),y.jsx("input",{type:"text",id:"name",name:"name",value:i.name,onChange:S,required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"description",children:"Descripción"}),y.jsx("textarea",{id:"description",name:"description",value:i.description,onChange:S,required:!0,rows:"4"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"repositoryUrl",children:"URL del repositorio (opcional)"}),y.jsx("input",{type:"url",id:"repositoryUrl",name:"repositoryUrl",value:i.repositoryUrl,onChange:S,placeholder:"https://github.com/tu-usuario/tu-repo"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"tags",children:"Etiquetas (separadas por comas)"}),y.jsx("input",{type:"text",id:"tags",name:"tags",value:i.tags,onChange:S,placeholder:"Ej. react, javascript, firebase"})]}),y.jsx("div",{className:"form-group",children:y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",checked:a,onChange:()=>o(T=>!T)}),"Hacer proyecto público"]})}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>r.goBack(),children:"Cancelar"}),y.jsx("button",{type:"submit",className:"btn btn-primary",disabled:d,children:d?"Guardando...":"Guardar cambios"})]})]})]})},ZR=jR(Pd),h8=new Nr,f8=async()=>{try{return(await $R(ZR,h8)).user}catch(e){throw console.error("Error al autenticar con GitHub:",e),e}},p8=async()=>{try{await P5(ZR)}catch(e){throw console.error("Error al cerrar sesión:",e),e}},m8=async e=>{var i,s;if(!e)return;const t=We(me,"users",e.uid),n=await gr(t),r=e.providerData[0]||{};n.exists()?await Dt(t,{lastLogin:_t(),displayName:e.displayName||n.data().displayName,photoURL:e.photoURL||n.data().photoURL,email:e.email||n.data().email}):await eR(t,{uid:e.uid,displayName:e.displayName||"Usuario",email:e.email,photoURL:e.photoURL,createdAt:_t(),lastLogin:_t(),githubUsername:((i=e.reloadUserInfo)==null?void 0:i.screenName)||"",githubId:r.uid||"",githubUrl:`https://github.com/${((s=e.reloadUserInfo)==null?void 0:s.screenName)||""}`,role:"user",projects:[],settings:{notifications:!0,theme:"light",language:"es"}})},eP=()=>{const{currentUser:e,loading:t}=M.useContext(At),[n,r]=M.useState(!1),[i,s]=M.useState(null);return{currentUser:e,loading:n||t,error:i,login:async()=>{try{r(!0),s(null);const l=await f8();return await m8(l),l}catch(l){throw console.error("Error en el inicio de sesión:",l),s("No se pudo iniciar sesión con GitHub"),l}finally{r(!1)}},logout:async()=>{try{r(!0),await p8()}catch(l){console.error("Error al cerrar sesión:",l),s("No se pudo cerrar sesión")}finally{r(!1)}},isAuthenticated:!!e}},g8=()=>{var s,a;const{currentUser:e}=M.useContext(At),{logout:t}=eP(),[n,r]=M.useState(!1);if(!e)return y.jsx(GN,{to:"/login"});const i=async()=>{r(!0);try{await t()}catch(o){console.error("Error al cerrar sesión:",o),r(!1)}};return y.jsx("div",{className:"profile-container",children:y.jsxs("div",{className:"profile-card",children:[y.jsxs("div",{className:"profile-header",children:[y.jsx("img",{src:e.photoURL||"https://via.placeholder.com/150",alt:"Foto de perfil",className:"profile-avatar"}),y.jsx("h1",{children:e.displayName||"Usuario"}),y.jsx("p",{className:"profile-email",children:e.email})]}),y.jsxs("div",{className:"profile-info",children:[y.jsxs("div",{className:"info-item",children:[y.jsx("strong",{children:"GitHub:"}),y.jsx("span",{children:((s=e.reloadUserInfo)==null?void 0:s.screenName)||"No disponible"})]}),y.jsxs("div",{className:"info-item",children:[y.jsx("strong",{children:"Miembro desde:"}),y.jsx("span",{children:(a=e.metadata)!=null&&a.creationTime?new Date(e.metadata.creationTime).toLocaleDateString():"No disponible"})]})]}),y.jsx("div",{className:"profile-actions",children:y.jsx("button",{className:"btn btn-danger",onClick:i,disabled:n,children:n?"Cerrando sesión...":"Cerrar Sesión"})})]})})},v8=()=>{const{currentUser:e}=M.useContext(At),{login:t,loading:n,error:r}=eP();if(e)return y.jsx(GN,{to:"/dashboard"});const i=async()=>{try{await t()}catch(s){console.error("Error en página de login:",s)}};return y.jsx("div",{className:"login-container",children:y.jsxs("div",{className:"login-card",children:[y.jsx("h1",{children:"Bienvenido a DevFlow"}),y.jsx("p",{className:"login-subtitle",children:"Inicia sesión con tu cuenta de GitHub para acceder a la plataforma."}),y.jsx("button",{className:"github-button",onClick:i,disabled:n,children:n?"Iniciando sesión...":y.jsxs(y.Fragment,{children:[y.jsx("img",{src:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png",alt:"GitHub Logo",className:"github-logo"}),"Iniciar sesión con GitHub"]})}),r&&y.jsx("div",{className:"login-error",children:r}),y.jsxs("div",{className:"login-info",children:[y.jsx("h3",{children:"¿Por qué GitHub?"}),y.jsx("p",{children:"DevFlow está diseñado para desarrolladores. Al iniciar sesión con GitHub, podrás conectar tus proyectos y colaborar fácilmente con otros desarrolladores."})]})]})})},y8=()=>{const{currentUser:e}=M.useContext(At),[t,n]=M.useState(0),[r,i]=M.useState(!1),s=M.useRef(null);M.useEffect(()=>{if(!e)return;const o=Cq(e.uid,l=>{n(l)});return()=>{o&&o()}},[e]),M.useEffect(()=>{const o=l=>{s.current&&!s.current.contains(l.target)&&i(!1)};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[]);const a=async()=>{try{await Iq(e.uid),i(!1)}catch(o){console.error("Error al marcar todas como leídas:",o)}};return e?y.jsxs("div",{className:"notification-bell-container",ref:s,children:[y.jsxs("div",{className:"notification-bell",onClick:()=>i(!r),children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"bell-icon",children:[y.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),y.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),t>0&&y.jsx("span",{className:"notification-count",children:t})]}),r&&y.jsxs("div",{className:"notification-dropdown",children:[y.jsxs("div",{className:"notification-header",children:[y.jsx("h3",{children:"Notificaciones"}),t>0&&y.jsx("button",{onClick:a,className:"mark-all-read",children:"Marcar todo como leído"})]}),y.jsxs("div",{className:"notification-dropdown-content",children:[t===0?y.jsx("p",{className:"no-notifications",children:"No tienes notificaciones nuevas"}):y.jsxs("p",{className:"notification-summary",children:["Tienes ",t," notificaciones sin leer"]}),y.jsx(Gt,{to:"/notifications",className:"view-all-link",onClick:()=>i(!1),children:"Ver todas las notificaciones"})]})]})]}):null},w8=()=>{const{darkMode:e,toggleTheme:t}=M.useContext(VR);return y.jsx("button",{className:"theme-toggle-btn",onClick:t,"aria-label":"Cambiar tema",title:e?"Cambiar a tema claro":"Cambiar a tema oscuro",children:e?"☀️":"🌙"})},_8=({onToggleSidebar:e})=>{const{currentUser:t}=M.useContext(At);return y.jsxs("nav",{className:"navbar",children:[y.jsxs("div",{className:"navbar-left-section",children:[" ",y.jsxs("button",{className:"mobile-sidebar-toggle",onClick:e,"aria-label":"Abrir menú lateral","aria-expanded":!1,children:[y.jsx("span",{}),y.jsx("span",{}),y.jsx("span",{})]}),y.jsx("div",{className:"navbar-logo",children:y.jsx(Gt,{to:"/",children:y.jsx("h1",{id:"app_name",children:"DevFlow"})})})]}),y.jsx("div",{className:"navbar-links",children:t?y.jsxs(y.Fragment,{children:[y.jsx(Gt,{to:"/dashboard",className:"nav-link",children:"Proyectos"}),y.jsx(Gt,{to:"/contacts",className:"nav-link",children:"Contactos"}),y.jsx(y8,{}),y.jsx(Gt,{to:"/profile",className:"user-menu-link",children:y.jsx("img",{src:t.photoURL||"https://via.placeholder.com/35",alt:"Avatar",className:"user-avatar"})}),y.jsx(w8,{})]}):y.jsx(Gt,{to:"/login",className:"nav-link auth-button",children:"Acceder con GitHub"})})]})},S8=({isMobileOpen:e,onLinkClick:t})=>{RV();const{currentUser:n}=M.useContext(At),r=()=>{t&&t()};return y.jsxs("aside",{className:`sidebar ${e?"active":""}`,children:[y.jsx("h2",{children:"Menú"}),y.jsxs("ul",{children:[y.jsx("li",{children:y.jsxs(fs,{exact:!0,to:"/",activeClassName:"active",onClick:r,children:[y.jsx("i",{className:"fas fa-home sidebar-icon"})," Inicio"]})}),y.jsx("li",{children:y.jsxs(fs,{to:"/dashboard",activeClassName:"active",onClick:r,children:[y.jsx("i",{className:"fas fa-th-large sidebar-icon"})," Proyectos"]})}),n?y.jsxs(y.Fragment,{children:[y.jsx("li",{children:y.jsxs(fs,{to:"/my-projects",activeClassName:"active",onClick:r,children:[y.jsx("i",{className:"fas fa-folder sidebar-icon"})," Mis Proyectos"]})}),y.jsx("li",{children:y.jsxs(fs,{to:"/contacts",activeClassName:"active",onClick:r,children:[y.jsx("i",{className:"fas fa-address-book sidebar-icon"})," Contactos"]})}),y.jsx("li",{children:y.jsxs(fs,{to:"/notifications",activeClassName:"active",onClick:r,children:[y.jsx("i",{className:"fas fa-bell sidebar-icon"})," Notificaciones"]})}),y.jsx("li",{children:y.jsxs(fs,{to:"/profile",activeClassName:"active",onClick:r,children:[y.jsx("i",{className:"fas fa-user sidebar-icon"})," Perfil"]})}),y.jsx("li",{children:y.jsxs(fs,{to:"/calendar",activeClassName:"active",onClick:r,children:[y.jsx("i",{className:"fas fa-calendar-alt sidebar-icon"})," Calendario"]})})]}):y.jsx("li",{children:y.jsxs(fs,{to:"/login",activeClassName:"active",onClick:r,children:[y.jsx("i",{className:"fas fa-sign-in-alt sidebar-icon"})," Login"]})})]})]})},E8=()=>y.jsx("footer",{className:"footer",children:y.jsxs("div",{className:"footer-content",children:[y.jsxs("p",{children:["© ",new Date().getFullYear()," DevFlow. Todos los derechos reservados."]}),y.jsxs("p",{children:[y.jsx("a",{href:"/privacy-policy",children:"Política de privacidad"})," |",y.jsx("a",{href:"/terms-of-service",children:" Términos de servicio"})]})]})}),T8=()=>{const{currentUser:e}=M.useContext(At),[t,n]=M.useState([]),[r,i]=M.useState(!0),[s,a]=M.useState({}),[o,l]=M.useState(!1);M.useEffect(()=>{if(!e)return;const v=Dq(e.uid,w=>{n(w),i(!1)});return()=>v()},[e]);const u=async v=>{try{await xq(v)}catch(w){console.error("Error al marcar como leída:",w)}},d=async v=>{if(!s[v.id])try{a(w=>({...w,[v.id]:!0})),await Mq(v.id,e.uid)}catch(w){console.error("Error al aceptar invitación:",w)}finally{a(w=>({...w,[v.id]:!1}))}},f=async v=>{if(!s[v.id])try{a(w=>({...w,[v.id]:!0})),await Aq(v.id,e.uid)}catch(w){console.error("Error al rechazar invitación:",w)}finally{a(w=>({...w,[v.id]:!1}))}},p=async v=>{if(!s[v.id])try{a(w=>({...w,[v.id]:!0})),await Pq(v.id)}catch(w){console.error("Error al aceptar solicitud de unión:",w)}finally{a(w=>({...w,[v.id]:!1}))}},g=async v=>{if(!s[v.id])try{a(w=>({...w,[v.id]:!0})),await $q(v.id)}catch(w){console.error("Error al rechazar solicitud de unión:",w)}finally{a(w=>({...w,[v.id]:!1}))}},S=async v=>{if(!s[v])try{a(w=>({...w,[v]:!0})),await Nq(v)}catch(w){console.error("Error al eliminar notificación:",w)}finally{a(w=>({...w,[v]:!1}))}},E=async()=>{if(window.confirm("¿Estás seguro de eliminar TODAS tus notificaciones? Esta acción no se puede deshacer."))try{l(!0),await Oq(e.uid)}catch(v){console.error("Error al eliminar todas las notificaciones:",v)}finally{l(!1)}},T=v=>{var O;const w=!v.read,b=v.processed,D=s[v.id],C=v.createdAt?new Date(v.createdAt.seconds*1e3).toLocaleString():"Fecha desconocida",I=w&&!b&&!D,N=()=>{I&&u(v.id)};return y.jsxs("div",{className:`notification-item ${w?"unread":""} ${b?"processed":""}`,onClick:N,children:[y.jsxs("div",{className:"notification-content",children:[y.jsx("h4",{children:v.title}),y.jsx("p",{children:v.message}),y.jsx("div",{className:"notification-time",children:C}),v.processed&&v.status==="accepted"&&y.jsx("div",{className:"notification-status accepted",children:"✓ Invitación aceptada"}),v.processed&&v.status==="rejected"&&y.jsx("div",{className:"notification-status rejected",children:"✗ Invitación rechazada"})]}),y.jsxs("div",{className:"notification-actions-group",children:[v.type==="project_invitation"&&!v.processed&&y.jsxs("div",{className:"notification-actions",children:[y.jsx("button",{className:"btn-accept",onClick:P=>{P.stopPropagation(),d(v)},disabled:D,children:D?"Procesando...":"Aceptar"}),y.jsx("button",{className:"btn-reject",onClick:P=>{P.stopPropagation(),f(v)},disabled:D,children:D?"Procesando...":"Rechazar"})]}),v.type==="join_request"&&!v.processed&&y.jsxs("div",{className:"notification-actions",children:[y.jsx("button",{className:"btn-accept",onClick:P=>{P.stopPropagation(),p(v)},disabled:D,children:D?"Procesando...":"Aceptar"}),y.jsx("button",{className:"btn-reject",onClick:P=>{P.stopPropagation(),g(v)},disabled:D,children:D?"Procesando...":"Rechazar"})]}),(v.type==="invitation_accepted"||v.type==="join_request_accepted")&&((O=v.data)==null?void 0:O.projectId)&&y.jsx("div",{className:"notification-actions",children:y.jsx(Gt,{to:`/project/${v.data.projectId}`,className:"btn-view-project",onClick:P=>{},children:"Ver proyecto"})}),y.jsx("div",{className:"notification-actions",children:y.jsx("button",{className:"btn-delete-notification",onClick:P=>{P.stopPropagation(),window.confirm("¿Estás seguro de eliminar esta notificación?")&&S(v.id)},disabled:D,title:"Eliminar notificación",children:"Eliminar"})})]})," "]},v.id)};return y.jsxs("div",{className:"notifications-page",children:[y.jsx("h1",{children:"Mis notificaciones"}),r?y.jsx("div",{className:"loading",children:"Cargando notificaciones..."}):t.length>0?y.jsxs("div",{className:"notifications-container",children:[y.jsx("div",{className:"notifications-header-actions",children:y.jsx("button",{className:"btn-delete-all",onClick:E,disabled:o||r,children:o?"Eliminando...":"Eliminar todas las notificaciones"})}),y.jsx("div",{className:"notifications-list-full",children:t.map(v=>T(v))})]}):y.jsx("div",{className:"no-notifications",children:y.jsx("p",{children:"No tienes notificaciones"})})]})},b8=()=>{const{currentUser:e}=M.useContext(At),[t,n]=M.useState([]),[r,i]=M.useState(!0),[s,a]=M.useState(null),[o,l]=M.useState(!1),[u,d]=M.useState(null),[f,p]=M.useState("");M.useEffect(()=>{if(!e){i(!1),n([]);return}(async()=>{i(!0),a(null);try{const E=St(me,"projects"),T=Qt(E,It("createdBy","==",e.uid)),v=Qt(E,It("collaborators","array-contains",e.uid)),[w,b]=await Promise.all([fn(T),fn(v)]),D=new Map;w.docs.forEach(C=>D.set(C.id,{id:C.id,...C.data()})),b.docs.forEach(C=>D.set(C.id,{id:C.id,...C.data()})),n(Array.from(D.values()))}catch(E){console.error("Error al cargar proyectos:",E),a("Error al cargar los proyectos")}finally{i(!1)}})()},[e]);const g=(S,E)=>{console.log("MyProjectsPage: Abriendo modal local para:",S,E),d(S),p(E||"Proyecto"),l(!0)};return M.useEffect(()=>{console.log("MyProjectsPage: inviteModalOpen cambió a:",o)},[o]),e?y.jsxs("div",{className:"dashboard-container",children:[y.jsxs("div",{className:"dashboard-header",children:[y.jsx("h1",{children:"Mis Proyectos"}),y.jsx("div",{className:"dashboard-actions",children:y.jsxs(Gt,{to:"/project/new",className:"btn btn-primary",children:[y.jsx("i",{className:"fas fa-plus"})," Nuevo Proyecto"]})})]}),s&&y.jsx("div",{className:"error-message",style:{color:"red",marginBottom:"1rem"},children:s}),r?y.jsx("div",{className:"loading",style:{textAlign:"center",padding:"2rem"},children:"Cargando proyectos..."}):y.jsx("div",{className:"projects-grid",children:t.length>0?t.map(S=>y.jsx(YR,{project:S,onInviteClick:S.createdBy===(e==null?void 0:e.uid)?g:void 0},S.id)):y.jsxs("div",{className:"no-projects",style:{textAlign:"center",padding:"2rem"},children:[y.jsx("p",{children:"No tienes proyectos todavía o no eres colaborador en ninguno."}),y.jsx(Gt,{to:"/project/new",className:"btn btn-primary",children:"Crear mi primer proyecto"})]})}),o&&y.jsx(wS,{isOpen:o,onClose:()=>l(!1),projectId:u,projectName:f})]}):y.jsxs("div",{className:"dashboard-container",style:{textAlign:"center",padding:"2rem"},children:[y.jsx("p",{children:"Debes iniciar sesión para ver tus proyectos."}),y.jsx(Gt,{to:"/login",className:"btn",children:"Iniciar Sesión"})]})},k8=()=>{const{currentUser:e}=M.useContext(At),[t,n]=M.useState([]),[r,i]=M.useState(!0),[s,a]=M.useState(null),[o,l]=M.useState("");M.useEffect(()=>{if(!e){i(!1);return}(async()=>{try{i(!0);const f=St(me,"projects"),p=Qt(f,It("collaborators","array-contains",e.uid)),S=(await fn(p)).docs.map(v=>({id:v.id,...v.data()})),E=new Set;S.forEach(v=>{v.createdBy&&v.createdBy!==e.uid&&E.add(v.createdBy),v.collaborators&&Array.isArray(v.collaborators)&&v.collaborators.forEach(w=>{w!==e.uid&&E.add(w)})});const T=[];for(const v of E)try{const w=await gr(We(me,"users",v));w.exists()&&T.push({id:v,...w.data()})}catch(w){console.error(`Error al obtener datos del usuario ${v}:`,w)}n(T)}catch(f){console.error("Error al cargar contactos:",f),a("Error al cargar tus contactos")}finally{i(!1)}})()},[e]);const u=t.filter(d=>{if(!o)return!0;const f=o.toLowerCase();return d.displayName&&d.displayName.toLowerCase().includes(f)||d.email&&d.email.toLowerCase().includes(f)||d.githubUsername&&d.githubUsername.toLowerCase().includes(f)});return e?y.jsxs("div",{className:"contacts-container",children:[y.jsxs("div",{className:"contacts-header",children:[y.jsx("h1",{children:"Mis Contactos"}),y.jsx("div",{className:"contacts-search",children:y.jsx("input",{type:"text",placeholder:"Buscar contactos...",value:o,onChange:d=>l(d.target.value),className:"search-input"})})]}),s&&y.jsx("div",{className:"error-message",children:s}),r?y.jsx("div",{className:"loading",children:"Cargando contactos..."}):y.jsx(y.Fragment,{children:u.length>0?y.jsx("div",{className:"contacts-grid",children:u.map(d=>y.jsxs("div",{className:"contact-card",children:[y.jsx("div",{className:"contact-avatar",children:d.photoURL?y.jsx("img",{src:d.photoURL,alt:d.displayName||"Usuario"}):y.jsx("div",{className:"avatar-placeholder",children:(d.displayName||"U")[0].toUpperCase()})}),y.jsxs("div",{className:"contact-info",children:[y.jsx("h3",{children:d.displayName||"Usuario sin nombre"}),d.email&&y.jsx("p",{className:"contact-email",children:d.email}),d.githubUsername&&y.jsxs("p",{className:"contact-github",children:[y.jsx("i",{className:"fab fa-github"})," ",d.githubUsername]})]}),y.jsx("div",{className:"contact-actions",children:y.jsxs("button",{className:"btn-invite",children:[y.jsx("i",{className:"fas fa-user-plus"})," Invitar"]})})]},d.id))}):y.jsxs("div",{className:"no-contacts",children:[y.jsx("p",{children:o?"No se encontraron contactos que coincidan con tu búsqueda.":"Aún no tienes contactos."}),y.jsx("p",{children:"Los contactos se añaden automáticamente cuando colaboras en proyectos con otros usuarios."})]})})]}):y.jsx("div",{className:"error-container",style:{color:"#c62828",textAlign:"center",padding:"3rem"},children:"Debes iniciar sesión para ver tus contactos"})};function es(e){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function D8(e,t){if(es(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(es(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tP(e){var t=D8(e,"string");return es(t)=="symbol"?t:t+""}function ga(e,t,n){return(t=tP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AD(Object(n),!0).forEach(function(r){ga(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function di(e,t){if(e==null)return{};var n,r,i=Zs(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tP(r.key),r)}}function Pt(e,t,n){return t&&RD(e.prototype,t),n&&RD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pp(e){return Pp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pp(e)}function nP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nP=function(){return!!e})()}function C8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x8(e,t){if(t&&(es(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C8(e)}function vn(e,t,n){return t=Pp(t),x8(e,nP()?Reflect.construct(t,n||[],Pp(e).constructor):t.apply(e,n))}function yn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sp(e,t)}function rP(e){if(Array.isArray(e))return e}function I8(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function w0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _S(e,t){if(e){if(typeof e=="string")return w0(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w0(e,t):void 0}}function iP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ur(e,t){return rP(e)||I8(e,t)||_S(e,t)||iP()}function sP(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=sP(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function mt(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=sP(e))&&(r&&(r+=" "),r+=t);return r}var N8=function(e,t,n,r,i,s,a,o){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,s,a,o],d=0;l=new Error(t.replace(/%s/g,function(){return u[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},O8=N8;const zu=Cn(O8);var M8=function(){};function A8(e,t){var n={};return Object.keys(e).forEach(function(r){n[Df(r)]=M8}),n}function PD(e,t){return e[t]!==void 0}function Df(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function R8(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function aP(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function oP(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function lP(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}aP.__suppressDeprecationWarning=!0;oP.__suppressDeprecationWarning=!0;lP.__suppressDeprecationWarning=!0;function P8(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,i=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var s=e.displayName||e.name,a=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+a+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=aP,t.componentWillReceiveProps=oP),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=lP;var o=t.componentDidUpdate;t.componentDidUpdate=function(u,d,f){var p=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;o.call(this,u,d,p)}}return e}var $8="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function cP(e,t,n){n===void 0&&(n=[]);var r=e.displayName||e.name||"Component",i=R8(e),s=Object.keys(t),a=s.map(Df);i||!n.length||zu(!1);var o=function(u){$r(d,u);function d(){for(var p,g=arguments.length,S=new Array(g),E=0;E<g;E++)S[E]=arguments[E];p=u.call.apply(u,[this].concat(S))||this,p.handlers=Object.create(null),s.forEach(function(v){var w=t[v],b=function(C){if(p.props[w]){var I;p._notifying=!0;for(var N=arguments.length,O=new Array(N>1?N-1:0),P=1;P<N;P++)O[P-1]=arguments[P];(I=p.props)[w].apply(I,[C].concat(O)),p._notifying=!1}p.unmounted||p.setState(function(x){var j,K=x.values;return{values:ke(Object.create(null),K,(j={},j[v]=C,j))}})};p.handlers[w]=b}),n.length&&(p.attachRef=function(v){p.inner=v});var T=Object.create(null);return s.forEach(function(v){T[v]=p.props[Df(v)]}),p.state={values:T,prevProps:{}},p}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(g,S){var E=S.values,T=S.prevProps,v={values:ke(Object.create(null),E),prevProps:{}};return s.forEach(function(w){v.prevProps[w]=g[w],!PD(g,w)&&PD(T,w)&&(v.values[w]=g[Df(w)])}),v},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var g=this,S=this.props,E=S.innerRef,T=Zs(S,["innerRef"]);a.forEach(function(w){delete T[w]});var v={};return s.forEach(function(w){var b=g.props[w];v[w]=b!==void 0?b:g.state.values[w]}),A.createElement(e,ke({},T,v,this.handlers,{ref:E||this.attachRef}))},d}(A.Component);P8(o),o.displayName="Uncontrolled("+r+")",o.propTypes=ke({innerRef:function(){}},A8(t)),n.forEach(function(u){o.prototype[u]=function(){var f;return(f=this.inner)[u].apply(f,arguments)}});var l=o;return A.forwardRef&&(l=A.forwardRef(function(u,d){return A.createElement(o,ke({},u,{innerRef:d,__source:{fileName:$8,lineNumber:128},__self:this}))}),l.propTypes=o.propTypes),l.ControlledComponent=e,l.deferControlTo=function(u,d,f){return d===void 0&&(d={}),cP(u,ke({},t,d),f)},l}var $p="milliseconds",Vu="seconds",Yu="minutes",Wu="hours",Ba="day",bl="week",Hu="month",Ga="year",qa="decade",Ka="century",uP={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},L8={month:1,year:12,decade:10*12,century:100*12};function j8(e){return[31,F8(e),31,30,31,30,31,31,30,31,30,31]}function F8(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Ur(e,t,n){switch(e=new Date(e),n){case $p:case Vu:case Yu:case Wu:case Ba:case bl:return U8(e,t*uP[n]);case Hu:case Ga:case qa:case Ka:return z8(e,t*L8[n])}throw new TypeError('Invalid units: "'+n+'"')}function U8(e,t){var n=new Date(+e+t);return V8(e,n)}function z8(e,t){var n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),s=n*12+r+t,a=Math.trunc(s/12),o=s%12,l=Math.min(i,j8(a)[o]),u=new Date(e);return u.setFullYear(a),u.setDate(1),u.setMonth(o),u.setDate(l),u}function V8(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset(),i=r-n;return new Date(+t+i*uP.minutes)}function Bu(e,t,n){return Ur(e,-t,n)}function Jt(e,t,n){switch(e=new Date(e),t){case Ka:case qa:case Ga:e=jp(e,0);case Hu:e=mP(e,1);case bl:case Ba:e=Ku(e,0);case Wu:e=kl(e,0);case Yu:e=qu(e,0);case Vu:e=Gu(e,0)}return t===qa&&(e=Bu(e,Qa(e)%10,"year")),t===Ka&&(e=Bu(e,Qa(e)%100,"year")),t===bl&&(e=gP(e,0,n)),e}function Lp(e,t,n){switch(e=new Date(e),e=Jt(e,t,n),t){case Ka:case qa:case Ga:case Hu:case bl:e=Ur(e,1,t),e=Bu(e,1,Ba),e.setHours(23,59,59,999);break;case Ba:e.setHours(23,59,59,999);break;case Wu:case Yu:case Vu:e=Ur(e,1,t),e=Bu(e,1,$p)}return e}var Ld=Yl(function(e,t){return e===t}),SS=Yl(function(e,t){return e!==t}),fg=Yl(function(e,t){return e>t}),jd=Yl(function(e,t){return e>=t}),ES=Yl(function(e,t){return e<t}),Vl=Yl(function(e,t){return e<=t});function dP(){return new Date(Math.min.apply(Math,arguments))}function hP(){return new Date(Math.max.apply(Math,arguments))}function fP(e,t,n,r){return r=r||"day",(!t||jd(e,t,r))&&(!n||Vl(e,n,r))}var Gu=ia("Milliseconds"),qu=ia("Seconds"),kl=ia("Minutes"),Ku=ia("Hours"),pP=ia("Day"),mP=ia("Date"),jp=ia("Month"),Qa=ia("FullYear");function Y8(e,t){return t===void 0?Qa(Jt(e,qa)):Ur(e,t+10,Ga)}function W8(e,t){return t===void 0?Qa(Jt(e,Ka)):Ur(e,t+100,Ga)}function gP(e,t,n){var r=(pP(e)+7-(n||0))%7;return t===void 0?r:Ur(e,t-r,Ba)}function H8(e,t,n,r){var i,s,a;switch(n){case $p:case Vu:case Yu:case Wu:case Ba:case bl:i=t.getTime()-e.getTime();break;case Hu:case Ga:case qa:case Ka:i=(Qa(t)-Qa(e))*12+jp(t)-jp(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case $p:s=1;break;case Vu:s=1e3;break;case Yu:s=1e3*60;break;case Wu:s=1e3*60*60;break;case Ba:s=1e3*60*60*24;break;case bl:s=1e3*60*60*24*7;break;case Hu:s=1;break;case Ga:s=12;break;case qa:s=120;break;case Ka:s=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return a=i/s,r?a:Math.round(a)}function ia(e){var t=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(r===void 0)return n["get"+e]();var i=new Date(n);return i["set"+e](r),t&&i["get"+e]()!=r&&(e==="Hours"||r>=t&&i.getHours()-n.getHours()<Math.floor(r/t))&&i["set"+e](r+t),i}}function Yl(e){return function(t,n,r){return e(+Jt(t,r),+Jt(n,r))}}const $D=Object.freeze(Object.defineProperty({__proto__:null,add:Ur,century:W8,date:mP,day:pP,decade:Y8,diff:H8,endOf:Lp,eq:Ld,gt:fg,gte:jd,hours:Ku,inRange:fP,lt:ES,lte:Vl,max:hP,milliseconds:Gu,min:dP,minutes:kl,month:jp,neq:SS,seconds:qu,startOf:Jt,subtract:Bu,weekday:gP,year:Qa},Symbol.toStringTag,{value:"Module"}));function B8(e){if(Array.isArray(e))return w0(e)}function vP(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cf(e){return B8(e)||vP(e)||_S(e)||G8()}function q8(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}var yP=q8;function K8(e,t){return e===t||e!==e&&t!==t}var Fd=K8,Q8=typeof Hn=="object"&&Hn&&Hn.Object===Object&&Hn,wP=Q8,X8=wP,J8=typeof self=="object"&&self&&self.Object===Object&&self,Z8=X8||J8||Function("return this")(),pi=Z8,eK=pi,tK=eK.Symbol,Wl=tK,LD=Wl,_P=Object.prototype,nK=_P.hasOwnProperty,rK=_P.toString,kc=LD?LD.toStringTag:void 0;function iK(e){var t=nK.call(e,kc),n=e[kc];try{e[kc]=void 0;var r=!0}catch{}var i=rK.call(e);return r&&(t?e[kc]=n:delete e[kc]),i}var sK=iK,aK=Object.prototype,oK=aK.toString;function lK(e){return oK.call(e)}var cK=lK,jD=Wl,uK=sK,dK=cK,hK="[object Null]",fK="[object Undefined]",FD=jD?jD.toStringTag:void 0;function pK(e){return e==null?e===void 0?fK:hK:FD&&FD in Object(e)?uK(e):dK(e)}var Hl=pK;function mK(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ss=mK,gK=Hl,vK=ss,yK="[object AsyncFunction]",wK="[object Function]",_K="[object GeneratorFunction]",SK="[object Proxy]";function EK(e){if(!vK(e))return!1;var t=gK(e);return t==wK||t==_K||t==yK||t==SK}var TS=EK,TK=9007199254740991;function bK(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=TK}var bS=bK,kK=TS,DK=bS;function CK(e){return e!=null&&DK(e.length)&&!kK(e)}var Ud=CK,xK=9007199254740991,IK=/^(?:0|[1-9]\d*)$/;function NK(e,t){var n=typeof e;return t=t??xK,!!t&&(n=="number"||n!="symbol"&&IK.test(e))&&e>-1&&e%1==0&&e<t}var kS=NK,OK=Fd,MK=Ud,AK=kS,RK=ss;function PK(e,t,n){if(!RK(n))return!1;var r=typeof t;return(r=="number"?MK(n)&&AK(t,n.length):r=="string"&&t in n)?OK(n[t],e):!1}var pg=PK,$K=/\s/;function LK(e){for(var t=e.length;t--&&$K.test(e.charAt(t)););return t}var jK=LK,FK=jK,UK=/^\s+/;function zK(e){return e&&e.slice(0,FK(e)+1).replace(UK,"")}var VK=zK;function YK(e){return e!=null&&typeof e=="object"}var sa=YK,WK=Hl,HK=sa,BK="[object Symbol]";function GK(e){return typeof e=="symbol"||HK(e)&&WK(e)==BK}var zd=GK,qK=VK,UD=ss,KK=zd,zD=0/0,QK=/^[-+]0x[0-9a-f]+$/i,XK=/^0b[01]+$/i,JK=/^0o[0-7]+$/i,ZK=parseInt;function eQ(e){if(typeof e=="number")return e;if(KK(e))return zD;if(UD(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=UD(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=qK(e);var n=XK.test(e);return n||JK.test(e)?ZK(e.slice(2),n?2:8):QK.test(e)?zD:+e}var tQ=eQ,nQ=tQ,VD=1/0,rQ=17976931348623157e292;function iQ(e){if(!e)return e===0?e:0;if(e=nQ(e),e===VD||e===-VD){var t=e<0?-1:1;return t*rQ}return e===e?e:0}var SP=iQ,sQ=SP;function aQ(e){var t=sQ(e),n=t%1;return t===t?n?t-n:t:0}var EP=aQ,oQ=yP,lQ=pg,cQ=EP,uQ=Math.ceil,dQ=Math.max;function hQ(e,t,n){(n?lQ(e,t,n):t===void 0)?t=1:t=dQ(cQ(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,a=Array(uQ(r/t));i<r;)a[s++]=oQ(e,i,i+=t);return a}var fQ=hQ;const pQ=Cn(fQ);function Vd(e){return e&&e.ownerDocument||document}function mQ(e){var t=Vd(e);return t&&t.defaultView||window}function gQ(e,t){return mQ(e).getComputedStyle(e,t)}var vQ=/([A-Z])/g;function yQ(e){return e.replace(vQ,"-$1").toLowerCase()}var wQ=/^ms-/;function Xh(e){return yQ(e).replace(wQ,"-ms-")}var _Q=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function SQ(e){return!!(e&&_Q.test(e))}function Do(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(Xh(t))||gQ(e).getPropertyValue(Xh(t));Object.keys(t).forEach(function(i){var s=t[i];!s&&s!==0?e.style.removeProperty(Xh(i)):SQ(i)?r+=i+"("+s+") ":n+=Xh(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}function Qu(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function EQ(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function DS(e){return"window"in e&&e.window===e?e:EQ(e)&&e.defaultView||!1}function TP(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,i){var s=DS(r);if(i===void 0)return s?s[e]:r[t];s?s.scrollTo(s[e],i):r[t]=i}return n}const bP=TP("pageXOffset"),kP=TP("pageYOffset");function Oa(e){var t=Vd(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return!r||!Qu(r,e)||(e.getBoundingClientRect!==void 0&&(n=e.getBoundingClientRect()),n={top:n.top+kP(r)-(r.clientTop||0),left:n.left+bP(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var TQ=function(t){return!!t&&"offsetParent"in t};function bQ(e){for(var t=Vd(e),n=e&&e.offsetParent;TQ(n)&&n.nodeName!=="HTML"&&Do(n,"position")==="static";)n=n.offsetParent;return n||t.documentElement}var kQ=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function DP(e,t){var n={top:0,left:0},r;if(Do(e,"position")==="fixed")r=e.getBoundingClientRect();else{var i=t||bQ(e);r=Oa(e),kQ(i)!=="html"&&(n=Oa(i));var s=String(Do(i,"borderTopWidth")||0);n.top+=parseInt(s,10)-kP(i)||0;var a=String(Do(i,"borderLeftWidth")||0);n.left+=parseInt(a,10)-bP(i)||0}var o=String(Do(e,"marginTop")||0),l=String(Do(e,"marginLeft")||0);return ke({},r,{top:r.top-n.top-(parseInt(o,10)||0),left:r.left-n.left-(parseInt(l,10)||0)})}const CS=!!(typeof window<"u"&&window.document&&window.document.createElement);var YD=new Date().getTime();function DQ(e){var t=new Date().getTime(),n=Math.max(0,16-(t-YD)),r=setTimeout(e,n);return YD=t,r}var CQ=["","webkit","moz","o","ms"],_0="clearTimeout",S0=DQ,WD=function(t,n){return t+(t?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};CS&&CQ.some(function(e){var t=WD(e,"request");return t in window&&(_0=WD(e,"cancel"),S0=function(r){return window[t](r)}),!!S0});var HD=function(t){typeof window[_0]=="function"&&window[_0](t)},CP=S0,ky;function xQ(e,t){if(!ky){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;ky=function(s,a){return r.call(s,a)}}return ky(e,t)}var IQ=Function.prototype.bind.call(Function.prototype.call,[].slice);function NQ(e,t){return IQ(e.querySelectorAll(t))}var E0=!1,T0=!1;try{var Dy={get passive(){return E0=!0},get once(){return T0=E0=!0}};CS&&(window.addEventListener("test",Dy,Dy),window.removeEventListener("test",Dy,!0))}catch{}function OQ(e,t,n,r){if(r&&typeof r!="boolean"&&!T0){var i=r.once,s=r.capture,a=n;!T0&&i&&(a=n.__once||function o(l){this.removeEventListener(t,o,s),n.call(this,l)},n.__once=a),e.addEventListener(t,a,E0?r:s)}e.addEventListener(t,n,r)}function MQ(e){const t=M.useRef(e);return M.useEffect(()=>{t.current=e},[e]),t}function BD(e){const t=MQ(e);return M.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function GD(){return M.useState(null)}function AQ(){const e=M.useRef(!0),t=M.useRef(()=>e.current);return M.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function RQ(e){const t=AQ();return[e[0],M.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var Un="top",vr="bottom",yr="right",zn="left",xS="auto",Yd=[Un,vr,yr,zn],Dl="start",Xu="end",PQ="clippingParents",xP="viewport",Dc="popper",$Q="reference",qD=Yd.reduce(function(e,t){return e.concat([t+"-"+Dl,t+"-"+Xu])},[]),IS=[].concat(Yd,[xS]).reduce(function(e,t){return e.concat([t,t+"-"+Dl,t+"-"+Xu])},[]),LQ="beforeRead",jQ="read",FQ="afterRead",UQ="beforeMain",zQ="main",VQ="afterMain",YQ="beforeWrite",WQ="write",HQ="afterWrite",BQ=[LQ,jQ,FQ,UQ,zQ,VQ,YQ,WQ,HQ];function si(e){return e.split("-")[0]}function er(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Xa(e){var t=er(e).Element;return e instanceof t||e instanceof Element}function ai(e){var t=er(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function NS(e){if(typeof ShadowRoot>"u")return!1;var t=er(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var Ma=Math.max,Fp=Math.min,Cl=Math.round;function b0(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function IP(){return!/^((?!chrome|android).)*safari/i.test(b0())}function xl(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&ai(e)&&(i=e.offsetWidth>0&&Cl(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Cl(r.height)/e.offsetHeight||1);var a=Xa(e)?er(e):window,o=a.visualViewport,l=!IP()&&n,u=(r.left+(l&&o?o.offsetLeft:0))/i,d=(r.top+(l&&o?o.offsetTop:0))/s,f=r.width/i,p=r.height/s;return{width:f,height:p,top:d,right:u+f,bottom:d+p,left:u,x:u,y:d}}function OS(e){var t=xl(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function NP(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&NS(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Gs(e){return e?(e.nodeName||"").toLowerCase():null}function ts(e){return er(e).getComputedStyle(e)}function GQ(e){return["table","td","th"].indexOf(Gs(e))>=0}function aa(e){return((Xa(e)?e.ownerDocument:e.document)||window.document).documentElement}function mg(e){return Gs(e)==="html"?e:e.assignedSlot||e.parentNode||(NS(e)?e.host:null)||aa(e)}function KD(e){return!ai(e)||ts(e).position==="fixed"?null:e.offsetParent}function qQ(e){var t=/firefox/i.test(b0()),n=/Trident/i.test(b0());if(n&&ai(e)){var r=ts(e);if(r.position==="fixed")return null}var i=mg(e);for(NS(i)&&(i=i.host);ai(i)&&["html","body"].indexOf(Gs(i))<0;){var s=ts(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Wd(e){for(var t=er(e),n=KD(e);n&&GQ(n)&&ts(n).position==="static";)n=KD(n);return n&&(Gs(n)==="html"||Gs(n)==="body"&&ts(n).position==="static")?t:n||qQ(e)||t}function MS(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function iu(e,t,n){return Ma(e,Fp(t,n))}function KQ(e,t,n){var r=iu(e,t,n);return r>n?n:r}function OP(){return{top:0,right:0,bottom:0,left:0}}function MP(e){return Object.assign({},OP(),e)}function AP(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var QQ=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,MP(typeof t!="number"?t:AP(t,Yd))};function XQ(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,o=si(n.placement),l=MS(o),u=[zn,yr].indexOf(o)>=0,d=u?"height":"width";if(!(!s||!a)){var f=QQ(i.padding,n),p=OS(s),g=l==="y"?Un:zn,S=l==="y"?vr:yr,E=n.rects.reference[d]+n.rects.reference[l]-a[l]-n.rects.popper[d],T=a[l]-n.rects.reference[l],v=Wd(s),w=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,b=E/2-T/2,D=f[g],C=w-p[d]-f[S],I=w/2-p[d]/2+b,N=iu(D,I,C),O=l;n.modifiersData[r]=(t={},t[O]=N,t.centerOffset=N-I,t)}}function JQ(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||NP(t.elements.popper,i)&&(t.elements.arrow=i))}const ZQ={name:"arrow",enabled:!0,phase:"main",fn:XQ,effect:JQ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Il(e){return e.split("-")[1]}var eX={top:"auto",right:"auto",bottom:"auto",left:"auto"};function tX(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Cl(n*i)/i||0,y:Cl(r*i)/i||0}}function QD(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,a=e.offsets,o=e.position,l=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,f=e.isFixed,p=a.x,g=p===void 0?0:p,S=a.y,E=S===void 0?0:S,T=typeof d=="function"?d({x:g,y:E}):{x:g,y:E};g=T.x,E=T.y;var v=a.hasOwnProperty("x"),w=a.hasOwnProperty("y"),b=zn,D=Un,C=window;if(u){var I=Wd(n),N="clientHeight",O="clientWidth";if(I===er(n)&&(I=aa(n),ts(I).position!=="static"&&o==="absolute"&&(N="scrollHeight",O="scrollWidth")),I=I,i===Un||(i===zn||i===yr)&&s===Xu){D=vr;var P=f&&I===C&&C.visualViewport?C.visualViewport.height:I[N];E-=P-r.height,E*=l?1:-1}if(i===zn||(i===Un||i===vr)&&s===Xu){b=yr;var x=f&&I===C&&C.visualViewport?C.visualViewport.width:I[O];g-=x-r.width,g*=l?1:-1}}var j=Object.assign({position:o},u&&eX),K=d===!0?tX({x:g,y:E},er(n)):{x:g,y:E};if(g=K.x,E=K.y,l){var W;return Object.assign({},j,(W={},W[D]=w?"0":"",W[b]=v?"0":"",W.transform=(C.devicePixelRatio||1)<=1?"translate("+g+"px, "+E+"px)":"translate3d("+g+"px, "+E+"px, 0)",W))}return Object.assign({},j,(t={},t[D]=w?E+"px":"",t[b]=v?g+"px":"",t.transform="",t))}function nX(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,a=s===void 0?!0:s,o=n.roundOffsets,l=o===void 0?!0:o,u={placement:si(t.placement),variation:Il(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,QD(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,QD(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const rX={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:nX,data:{}};var Jh={passive:!0};function iX(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=i===void 0?!0:i,a=r.resize,o=a===void 0?!0:a,l=er(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(d){d.addEventListener("scroll",n.update,Jh)}),o&&l.addEventListener("resize",n.update,Jh),function(){s&&u.forEach(function(d){d.removeEventListener("scroll",n.update,Jh)}),o&&l.removeEventListener("resize",n.update,Jh)}}const sX={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:iX,data:{}};var aX={left:"right",right:"left",bottom:"top",top:"bottom"};function xf(e){return e.replace(/left|right|bottom|top/g,function(t){return aX[t]})}var oX={start:"end",end:"start"};function XD(e){return e.replace(/start|end/g,function(t){return oX[t]})}function AS(e){var t=er(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function RS(e){return xl(aa(e)).left+AS(e).scrollLeft}function lX(e,t){var n=er(e),r=aa(e),i=n.visualViewport,s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;var u=IP();(u||!u&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o+RS(e),y:l}}function cX(e){var t,n=aa(e),r=AS(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=Ma(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Ma(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+RS(e),l=-r.scrollTop;return ts(i||n).direction==="rtl"&&(o+=Ma(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}function PS(e){var t=ts(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function RP(e){return["html","body","#document"].indexOf(Gs(e))>=0?e.ownerDocument.body:ai(e)&&PS(e)?e:RP(mg(e))}function su(e,t){var n;t===void 0&&(t=[]);var r=RP(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=er(r),a=i?[s].concat(s.visualViewport||[],PS(r)?r:[]):r,o=t.concat(a);return i?o:o.concat(su(mg(a)))}function k0(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function uX(e,t){var n=xl(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function JD(e,t,n){return t===xP?k0(lX(e,n)):Xa(t)?uX(t,n):k0(cX(aa(e)))}function dX(e){var t=su(mg(e)),n=["absolute","fixed"].indexOf(ts(e).position)>=0,r=n&&ai(e)?Wd(e):e;return Xa(r)?t.filter(function(i){return Xa(i)&&NP(i,r)&&Gs(i)!=="body"}):[]}function hX(e,t,n,r){var i=t==="clippingParents"?dX(e):[].concat(t),s=[].concat(i,[n]),a=s[0],o=s.reduce(function(l,u){var d=JD(e,u,r);return l.top=Ma(d.top,l.top),l.right=Fp(d.right,l.right),l.bottom=Fp(d.bottom,l.bottom),l.left=Ma(d.left,l.left),l},JD(e,a,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function PP(e){var t=e.reference,n=e.element,r=e.placement,i=r?si(r):null,s=r?Il(r):null,a=t.x+t.width/2-n.width/2,o=t.y+t.height/2-n.height/2,l;switch(i){case Un:l={x:a,y:t.y-n.height};break;case vr:l={x:a,y:t.y+t.height};break;case yr:l={x:t.x+t.width,y:o};break;case zn:l={x:t.x-n.width,y:o};break;default:l={x:t.x,y:t.y}}var u=i?MS(i):null;if(u!=null){var d=u==="y"?"height":"width";switch(s){case Dl:l[u]=l[u]-(t[d]/2-n[d]/2);break;case Xu:l[u]=l[u]+(t[d]/2-n[d]/2);break}}return l}function Ju(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,s=n.strategy,a=s===void 0?e.strategy:s,o=n.boundary,l=o===void 0?PQ:o,u=n.rootBoundary,d=u===void 0?xP:u,f=n.elementContext,p=f===void 0?Dc:f,g=n.altBoundary,S=g===void 0?!1:g,E=n.padding,T=E===void 0?0:E,v=MP(typeof T!="number"?T:AP(T,Yd)),w=p===Dc?$Q:Dc,b=e.rects.popper,D=e.elements[S?w:p],C=hX(Xa(D)?D:D.contextElement||aa(e.elements.popper),l,d,a),I=xl(e.elements.reference),N=PP({reference:I,element:b,strategy:"absolute",placement:i}),O=k0(Object.assign({},b,N)),P=p===Dc?O:I,x={top:C.top-P.top+v.top,bottom:P.bottom-C.bottom+v.bottom,left:C.left-P.left+v.left,right:P.right-C.right+v.right},j=e.modifiersData.offset;if(p===Dc&&j){var K=j[i];Object.keys(x).forEach(function(W){var ne=[yr,vr].indexOf(W)>=0?1:-1,q=[Un,vr].indexOf(W)>=0?"y":"x";x[W]+=K[q]*ne})}return x}function fX(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,a=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?IS:l,d=Il(r),f=d?o?qD:qD.filter(function(S){return Il(S)===d}):Yd,p=f.filter(function(S){return u.indexOf(S)>=0});p.length===0&&(p=f);var g=p.reduce(function(S,E){return S[E]=Ju(e,{placement:E,boundary:i,rootBoundary:s,padding:a})[si(E)],S},{});return Object.keys(g).sort(function(S,E){return g[S]-g[E]})}function pX(e){if(si(e)===xS)return[];var t=xf(e);return[XD(e),t,XD(t)]}function mX(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,o=a===void 0?!0:a,l=n.fallbackPlacements,u=n.padding,d=n.boundary,f=n.rootBoundary,p=n.altBoundary,g=n.flipVariations,S=g===void 0?!0:g,E=n.allowedAutoPlacements,T=t.options.placement,v=si(T),w=v===T,b=l||(w||!S?[xf(T)]:pX(T)),D=[T].concat(b).reduce(function(G,F){return G.concat(si(F)===xS?fX(t,{placement:F,boundary:d,rootBoundary:f,padding:u,flipVariations:S,allowedAutoPlacements:E}):F)},[]),C=t.rects.reference,I=t.rects.popper,N=new Map,O=!0,P=D[0],x=0;x<D.length;x++){var j=D[x],K=si(j),W=Il(j)===Dl,ne=[Un,vr].indexOf(K)>=0,q=ne?"width":"height",ee=Ju(t,{placement:j,boundary:d,rootBoundary:f,altBoundary:p,padding:u}),de=ne?W?yr:zn:W?vr:Un;C[q]>I[q]&&(de=xf(de));var B=xf(de),Y=[];if(s&&Y.push(ee[K]<=0),o&&Y.push(ee[de]<=0,ee[B]<=0),Y.every(function(G){return G})){P=j,O=!1;break}N.set(j,Y)}if(O)for(var V=S?3:1,$=function(F){var he=D.find(function(ye){var be=N.get(ye);if(be)return be.slice(0,F).every(function(Vt){return Vt})});if(he)return P=he,"break"},L=V;L>0;L--){var z=$(L);if(z==="break")break}t.placement!==P&&(t.modifiersData[r]._skip=!0,t.placement=P,t.reset=!0)}}const gX={name:"flip",enabled:!0,phase:"main",fn:mX,requiresIfExists:["offset"],data:{_skip:!1}};function ZD(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function eC(e){return[Un,yr,vr,zn].some(function(t){return e[t]>=0})}function vX(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,a=Ju(t,{elementContext:"reference"}),o=Ju(t,{altBoundary:!0}),l=ZD(a,r),u=ZD(o,i,s),d=eC(l),f=eC(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const yX={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:vX};function wX(e,t,n){var r=si(e),i=[zn,Un].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=s[0],o=s[1];return a=a||0,o=(o||0)*i,[zn,yr].indexOf(r)>=0?{x:o,y:a}:{x:a,y:o}}function _X(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=i===void 0?[0,0]:i,a=IS.reduce(function(d,f){return d[f]=wX(f,t.rects,s),d},{}),o=a[t.placement],l=o.x,u=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}const SX={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:_X};function EX(e){var t=e.state,n=e.name;t.modifiersData[n]=PP({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const TX={name:"popperOffsets",enabled:!0,phase:"read",fn:EX,data:{}};function bX(e){return e==="x"?"y":"x"}function kX(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=i===void 0?!0:i,a=n.altAxis,o=a===void 0?!1:a,l=n.boundary,u=n.rootBoundary,d=n.altBoundary,f=n.padding,p=n.tether,g=p===void 0?!0:p,S=n.tetherOffset,E=S===void 0?0:S,T=Ju(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:d}),v=si(t.placement),w=Il(t.placement),b=!w,D=MS(v),C=bX(D),I=t.modifiersData.popperOffsets,N=t.rects.reference,O=t.rects.popper,P=typeof E=="function"?E(Object.assign({},t.rects,{placement:t.placement})):E,x=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),j=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,K={x:0,y:0};if(I){if(s){var W,ne=D==="y"?Un:zn,q=D==="y"?vr:yr,ee=D==="y"?"height":"width",de=I[D],B=de+T[ne],Y=de-T[q],V=g?-O[ee]/2:0,$=w===Dl?N[ee]:O[ee],L=w===Dl?-O[ee]:-N[ee],z=t.elements.arrow,G=g&&z?OS(z):{width:0,height:0},F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:OP(),he=F[ne],ye=F[q],be=iu(0,N[ee],G[ee]),Vt=b?N[ee]/2-V-be-he-x.mainAxis:$-be-he-x.mainAxis,ls=b?-N[ee]/2+V+be+ye+x.mainAxis:L+be+ye+x.mainAxis,vi=t.elements.arrow&&Wd(t.elements.arrow),oa=vi?D==="y"?vi.clientTop||0:vi.clientLeft||0:0,co=(W=j==null?void 0:j[D])!=null?W:0,tc=de+Vt-co-oa,Hg=de+ls-co,Zd=iu(g?Fp(B,tc):B,de,g?Ma(Y,Hg):Y);I[D]=Zd,K[D]=Zd-de}if(o){var eh,Bg=D==="x"?Un:zn,Gg=D==="x"?vr:yr,Wr=I[C],Yt=C==="y"?"height":"width",uo=Wr+T[Bg],th=Wr-T[Gg],nc=[Un,zn].indexOf(v)!==-1,rc=(eh=j==null?void 0:j[C])!=null?eh:0,Zt=nc?uo:Wr-N[Yt]-O[Yt]-rc+x.altAxis,ic=nc?Wr+N[Yt]+O[Yt]-rc-x.altAxis:th,ho=g&&nc?KQ(Zt,Wr,ic):iu(g?Zt:uo,Wr,g?ic:th);I[C]=ho,K[C]=ho-Wr}t.modifiersData[r]=K}}const DX={name:"preventOverflow",enabled:!0,phase:"main",fn:kX,requiresIfExists:["offset"]};function CX(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function xX(e){return e===er(e)||!ai(e)?AS(e):CX(e)}function IX(e){var t=e.getBoundingClientRect(),n=Cl(t.width)/e.offsetWidth||1,r=Cl(t.height)/e.offsetHeight||1;return n!==1||r!==1}function NX(e,t,n){n===void 0&&(n=!1);var r=ai(t),i=ai(t)&&IX(t),s=aa(t),a=xl(e,i,n),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Gs(t)!=="body"||PS(s))&&(o=xX(t)),ai(t)?(l=xl(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=RS(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function OX(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function i(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!n.has(o)){var l=t.get(o);l&&i(l)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||i(s)}),r}function MX(e){var t=OX(e);return BQ.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function AX(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function RX(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var tC={placement:"bottom",modifiers:[],strategy:"absolute"};function nC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function PX(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,s=i===void 0?tC:i;return function(o,l,u){u===void 0&&(u=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},tC,s),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},f=[],p=!1,g={state:d,setOptions:function(v){var w=typeof v=="function"?v(d.options):v;E(),d.options=Object.assign({},s,d.options,w),d.scrollParents={reference:Xa(o)?su(o):o.contextElement?su(o.contextElement):[],popper:su(l)};var b=MX(RX([].concat(r,d.options.modifiers)));return d.orderedModifiers=b.filter(function(D){return D.enabled}),S(),g.update()},forceUpdate:function(){if(!p){var v=d.elements,w=v.reference,b=v.popper;if(nC(w,b)){d.rects={reference:NX(w,Wd(b),d.options.strategy==="fixed"),popper:OS(b)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(x){return d.modifiersData[x.name]=Object.assign({},x.data)});for(var D=0;D<d.orderedModifiers.length;D++){if(d.reset===!0){d.reset=!1,D=-1;continue}var C=d.orderedModifiers[D],I=C.fn,N=C.options,O=N===void 0?{}:N,P=C.name;typeof I=="function"&&(d=I({state:d,options:O,name:P,instance:g})||d)}}}},update:AX(function(){return new Promise(function(T){g.forceUpdate(),T(d)})}),destroy:function(){E(),p=!0}};if(!nC(o,l))return g;g.setOptions(u).then(function(T){!p&&u.onFirstUpdate&&u.onFirstUpdate(T)});function S(){d.orderedModifiers.forEach(function(T){var v=T.name,w=T.options,b=w===void 0?{}:w,D=T.effect;if(typeof D=="function"){var C=D({state:d,name:v,instance:g,options:b}),I=function(){};f.push(C||I)}})}function E(){f.forEach(function(T){return T()}),f=[]}return g}}var $X=PX({defaultModifiers:[yX,TX,rX,sX,SX,gX,DX,ZQ]}),rC=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},LX={name:"applyStyles",enabled:!1},jX={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var n=t.state;return function(){var r=n.elements,i=r.reference,s=r.popper;if("removeAttribute"in i){var a=(i.getAttribute("aria-describedby")||"").split(",").filter(function(o){return o.trim()!==s.id});a.length?i.setAttribute("aria-describedby",a.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(t){var n,r=t.state,i=r.elements,s=i.popper,a=i.reference,o=(n=s.getAttribute("role"))==null?void 0:n.toLowerCase();if(s.id&&o==="tooltip"&&"setAttribute"in a){var l=a.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(s.id)!==-1)return;a.setAttribute("aria-describedby",l?l+","+s.id:s.id)}}},FX=[];function UX(e,t,n){var r=n===void 0?{}:n,i=r.enabled,s=i===void 0?!0:i,a=r.placement,o=a===void 0?"bottom":a,l=r.strategy,u=l===void 0?"absolute":l,d=r.modifiers,f=d===void 0?FX:d,p=Zs(r,["enabled","placement","strategy","modifiers"]),g=M.useRef(),S=M.useCallback(function(){var D;(D=g.current)==null||D.update()},[]),E=M.useCallback(function(){var D;(D=g.current)==null||D.forceUpdate()},[]),T=RQ(M.useState({placement:o,update:S,forceUpdate:E,attributes:{},styles:{popper:rC(u),arrow:{}}})),v=T[0],w=T[1],b=M.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(C){var I=C.state,N={},O={};Object.keys(I.elements).forEach(function(P){N[P]=I.styles[P],O[P]=I.attributes[P]}),w({state:I,styles:N,attributes:O,update:S,forceUpdate:E,placement:I.placement})}}},[S,E,w]);return M.useEffect(function(){!g.current||!s||g.current.setOptions({placement:o,strategy:u,modifiers:[].concat(f,[b,LX])})},[u,o,b,s]),M.useEffect(function(){if(!(!s||e==null||t==null))return g.current=$X(e,t,ke({},p,{placement:o,strategy:u,modifiers:[].concat(f,[jX,b])})),function(){g.current!=null&&(g.current.destroy(),g.current=void 0,w(function(D){return ke({},D,{attributes:{},styles:{popper:rC(u)}})}))}},[s,e,t]),v}function zX(e,t,n,r){var i=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)}function Uc(e,t,n,r){return OQ(e,t,n,r),function(){zX(e,t,n,r)}}var VX=function(){},YX=VX;const WX=Cn(YX);function HX(e){return e&&"setState"in e?CN.findDOMNode(e):e??null}const BX=function(e){return Vd(HX(e))};var GX=27,iC=function(){};function qX(e){return e.button===0}function KX(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var sC=function(t){return t&&("current"in t?t.current:t)};function QX(e,t,n){var r=n===void 0?{}:n,i=r.disabled,s=r.clickTrigger,a=s===void 0?"click":s,o=M.useRef(!1),l=t||iC,u=M.useCallback(function(p){var g,S=sC(e);WX(!!S,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),o.current=!S||KX(p)||!qX(p)||!!Qu(S,(g=p.composedPath==null?void 0:p.composedPath()[0])!=null?g:p.target)},[e]),d=BD(function(p){o.current||l(p)}),f=BD(function(p){p.keyCode===GX&&l(p)});M.useEffect(function(){if(!(i||e==null)){var p=window.event,g=BX(sC(e)),S=Uc(g,a,u,!0),E=Uc(g,a,function(w){if(w===p){p=void 0;return}d(w)}),T=Uc(g,"keyup",function(w){if(w===p){p=void 0;return}f(w)}),v=[];return"ontouchstart"in g.documentElement&&(v=[].slice.call(g.body.children).map(function(w){return Uc(w,"mousemove",iC)})),function(){S(),E(),T(),v.forEach(function(w){return w()})}}},[e,i,a,u,d,f])}function XX(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(n){t[n.name]=n}),t):e||t}function JX(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function ZX(e){var t,n,r,i,s=e.enabled,a=e.enableEvents,o=e.placement,l=e.flip,u=e.offset,d=e.fixed,f=e.containerPadding,p=e.arrowElement,g=e.popperConfig,S=g===void 0?{}:g,E=XX(S.modifiers);return ke({},S,{placement:o,enabled:s,strategy:d?"fixed":S.strategy,modifiers:JX(ke({},E,{eventListeners:{enabled:a},preventOverflow:ke({},E.preventOverflow,{options:f?ke({padding:f},(t=E.preventOverflow)==null?void 0:t.options):(n=E.preventOverflow)==null?void 0:n.options}),offset:{options:ke({offset:u},(r=E.offset)==null?void 0:r.options)},arrow:ke({},E.arrow,{enabled:!!p,options:ke({},(i=E.arrow)==null?void 0:i.options,{element:p})}),flip:ke({enabled:!!l},E.flip)}))})}function eJ(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function tJ(e,t){e.classList?e.classList.add(t):eJ(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function aC(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function nJ(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=aC(e.className,t):e.setAttribute("class",aC(e.className&&e.className.baseVal||"",t))}var Zh;function $S(e){if((!Zh&&Zh!==0||e)&&CS){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Zh=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Zh}var Cy=function(t){var n;return typeof document>"u"?null:t==null?Vd().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(n=t)!=null&&n.nodeType&&t||null)};function oC(e,t){var n=M.useState(function(){return Cy(e)}),r=n[0],i=n[1];if(!r){var s=Cy(e);s&&i(s)}return M.useEffect(function(){t&&r&&t(r)},[t,r]),M.useEffect(function(){var a=Cy(e);a!==r&&i(a)},[e,r]),r}const lC=e=>!e||typeof e=="function"?e:t=>{e.current=t};function rJ(e,t){const n=lC(e),r=lC(t);return i=>{n&&n(i),r&&r(i)}}function iJ(e,t){return M.useMemo(()=>rJ(e,t),[e,t])}var LS=A.forwardRef(function(e,t){var n=e.flip,r=e.offset,i=e.placement,s=e.containerPadding,a=s===void 0?5:s,o=e.popperConfig,l=o===void 0?{}:o,u=e.transition,d=GD(),f=d[0],p=d[1],g=GD(),S=g[0],E=g[1],T=iJ(p,t),v=oC(e.container),w=oC(e.target),b=M.useState(!e.show),D=b[0],C=b[1],I=UX(w,f,ZX({placement:i,enableEvents:!!e.show,containerPadding:a||5,flip:n,offset:r,arrowElement:S,popperConfig:l})),N=I.styles,O=I.attributes,P=Zs(I,["styles","attributes"]);e.show?D&&C(!1):!e.transition&&!D&&C(!0);var x=function(){C(!0),e.onExited&&e.onExited.apply(e,arguments)},j=e.show||u&&!D;if(QX(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!j)return null;var K=e.children(ke({},P,{show:!!e.show,props:ke({},O.popper,{style:N.popper,ref:T}),arrowProps:ke({},O.arrow,{style:N.arrow,ref:E})}));if(u){var W=e.onExit,ne=e.onExiting,q=e.onEnter,ee=e.onEntering,de=e.onEntered;K=A.createElement(u,{in:e.show,appear:!0,onExit:W,onExiting:ne,onExited:x,onEnter:q,onEntering:ee,onEntered:de},K)}return v?CN.createPortal(K,v):null});LS.displayName="Overlay";LS.propTypes={show:te.bool,placement:te.oneOf(IS),target:te.any,container:te.any,flip:te.bool,children:te.func.isRequired,containerPadding:te.number,popperConfig:te.object,rootClose:te.bool,rootCloseEvent:te.oneOf(["click","mousedown"]),rootCloseDisabled:te.bool,onHide:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(t.rootClose){var s;return(s=te.func).isRequired.apply(s,[t].concat(r))}return te.func.apply(te,[t].concat(r))},transition:te.elementType,onEnter:te.func,onEntering:te.func,onEntered:te.func,onExit:te.func,onExiting:te.func,onExited:te.func};const sJ=LS;function aJ(){this.__data__=[],this.size=0}var oJ=aJ,lJ=Fd;function cJ(e,t){for(var n=e.length;n--;)if(lJ(e[n][0],t))return n;return-1}var gg=cJ,uJ=gg,dJ=Array.prototype,hJ=dJ.splice;function fJ(e){var t=this.__data__,n=uJ(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():hJ.call(t,n,1),--this.size,!0}var pJ=fJ,mJ=gg;function gJ(e){var t=this.__data__,n=mJ(t,e);return n<0?void 0:t[n][1]}var vJ=gJ,yJ=gg;function wJ(e){return yJ(this.__data__,e)>-1}var _J=wJ,SJ=gg;function EJ(e,t){var n=this.__data__,r=SJ(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var TJ=EJ,bJ=oJ,kJ=pJ,DJ=vJ,CJ=_J,xJ=TJ;function Bl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Bl.prototype.clear=bJ;Bl.prototype.delete=kJ;Bl.prototype.get=DJ;Bl.prototype.has=CJ;Bl.prototype.set=xJ;var vg=Bl,IJ=vg;function NJ(){this.__data__=new IJ,this.size=0}var OJ=NJ;function MJ(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var AJ=MJ;function RJ(e){return this.__data__.get(e)}var PJ=RJ;function $J(e){return this.__data__.has(e)}var LJ=$J,jJ=pi,FJ=jJ["__core-js_shared__"],UJ=FJ,xy=UJ,cC=function(){var e=/[^.]+$/.exec(xy&&xy.keys&&xy.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function zJ(e){return!!cC&&cC in e}var VJ=zJ,YJ=Function.prototype,WJ=YJ.toString;function HJ(e){if(e!=null){try{return WJ.call(e)}catch{}try{return e+""}catch{}}return""}var $P=HJ,BJ=TS,GJ=VJ,qJ=ss,KJ=$P,QJ=/[\\^$.*+?()[\]{}|]/g,XJ=/^\[object .+?Constructor\]$/,JJ=Function.prototype,ZJ=Object.prototype,eZ=JJ.toString,tZ=ZJ.hasOwnProperty,nZ=RegExp("^"+eZ.call(tZ).replace(QJ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rZ(e){if(!qJ(e)||GJ(e))return!1;var t=BJ(e)?nZ:XJ;return t.test(KJ(e))}var iZ=rZ;function sZ(e,t){return e==null?void 0:e[t]}var aZ=sZ,oZ=iZ,lZ=aZ;function cZ(e,t){var n=lZ(e,t);return oZ(n)?n:void 0}var oo=cZ,uZ=oo,dZ=pi,hZ=uZ(dZ,"Map"),jS=hZ,fZ=oo,pZ=fZ(Object,"create"),yg=pZ,uC=yg;function mZ(){this.__data__=uC?uC(null):{},this.size=0}var gZ=mZ;function vZ(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var yZ=vZ,wZ=yg,_Z="__lodash_hash_undefined__",SZ=Object.prototype,EZ=SZ.hasOwnProperty;function TZ(e){var t=this.__data__;if(wZ){var n=t[e];return n===_Z?void 0:n}return EZ.call(t,e)?t[e]:void 0}var bZ=TZ,kZ=yg,DZ=Object.prototype,CZ=DZ.hasOwnProperty;function xZ(e){var t=this.__data__;return kZ?t[e]!==void 0:CZ.call(t,e)}var IZ=xZ,NZ=yg,OZ="__lodash_hash_undefined__";function MZ(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=NZ&&t===void 0?OZ:t,this}var AZ=MZ,RZ=gZ,PZ=yZ,$Z=bZ,LZ=IZ,jZ=AZ;function Gl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Gl.prototype.clear=RZ;Gl.prototype.delete=PZ;Gl.prototype.get=$Z;Gl.prototype.has=LZ;Gl.prototype.set=jZ;var FZ=Gl,dC=FZ,UZ=vg,zZ=jS;function VZ(){this.size=0,this.__data__={hash:new dC,map:new(zZ||UZ),string:new dC}}var YZ=VZ;function WZ(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var HZ=WZ,BZ=HZ;function GZ(e,t){var n=e.__data__;return BZ(t)?n[typeof t=="string"?"string":"hash"]:n.map}var wg=GZ,qZ=wg;function KZ(e){var t=qZ(this,e).delete(e);return this.size-=t?1:0,t}var QZ=KZ,XZ=wg;function JZ(e){return XZ(this,e).get(e)}var ZZ=JZ,eee=wg;function tee(e){return eee(this,e).has(e)}var nee=tee,ree=wg;function iee(e,t){var n=ree(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var see=iee,aee=YZ,oee=QZ,lee=ZZ,cee=nee,uee=see;function ql(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ql.prototype.clear=aee;ql.prototype.delete=oee;ql.prototype.get=lee;ql.prototype.has=cee;ql.prototype.set=uee;var FS=ql,dee=vg,hee=jS,fee=FS,pee=200;function mee(e,t){var n=this.__data__;if(n instanceof dee){var r=n.__data__;if(!hee||r.length<pee-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new fee(r)}return n.set(e,t),this.size=n.size,this}var gee=mee,vee=vg,yee=OJ,wee=AJ,_ee=PJ,See=LJ,Eee=gee;function Kl(e){var t=this.__data__=new vee(e);this.size=t.size}Kl.prototype.clear=yee;Kl.prototype.delete=wee;Kl.prototype.get=_ee;Kl.prototype.has=See;Kl.prototype.set=Eee;var US=Kl,Tee="__lodash_hash_undefined__";function bee(e){return this.__data__.set(e,Tee),this}var kee=bee;function Dee(e){return this.__data__.has(e)}var Cee=Dee,xee=FS,Iee=kee,Nee=Cee;function Up(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new xee;++t<n;)this.add(e[t])}Up.prototype.add=Up.prototype.push=Iee;Up.prototype.has=Nee;var Oee=Up;function Mee(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Aee=Mee;function Ree(e,t){return e.has(t)}var Pee=Ree,$ee=Oee,Lee=Aee,jee=Pee,Fee=1,Uee=2;function zee(e,t,n,r,i,s){var a=n&Fee,o=e.length,l=t.length;if(o!=l&&!(a&&l>o))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,g=n&Uee?new $ee:void 0;for(s.set(e,t),s.set(t,e);++f<o;){var S=e[f],E=t[f];if(r)var T=a?r(E,S,f,t,e,s):r(S,E,f,e,t,s);if(T!==void 0){if(T)continue;p=!1;break}if(g){if(!Lee(t,function(v,w){if(!jee(g,w)&&(S===v||i(S,v,n,r,s)))return g.push(w)})){p=!1;break}}else if(!(S===E||i(S,E,n,r,s))){p=!1;break}}return s.delete(e),s.delete(t),p}var LP=zee,Vee=pi,Yee=Vee.Uint8Array,jP=Yee;function Wee(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var Hee=Wee;function Bee(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Gee=Bee,hC=Wl,fC=jP,qee=Fd,Kee=LP,Qee=Hee,Xee=Gee,Jee=1,Zee=2,ete="[object Boolean]",tte="[object Date]",nte="[object Error]",rte="[object Map]",ite="[object Number]",ste="[object RegExp]",ate="[object Set]",ote="[object String]",lte="[object Symbol]",cte="[object ArrayBuffer]",ute="[object DataView]",pC=hC?hC.prototype:void 0,Iy=pC?pC.valueOf:void 0;function dte(e,t,n,r,i,s,a){switch(n){case ute:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case cte:return!(e.byteLength!=t.byteLength||!s(new fC(e),new fC(t)));case ete:case tte:case ite:return qee(+e,+t);case nte:return e.name==t.name&&e.message==t.message;case ste:case ote:return e==t+"";case rte:var o=Qee;case ate:var l=r&Jee;if(o||(o=Xee),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=Zee,a.set(e,t);var d=Kee(o(e),o(t),r,i,s,a);return a.delete(e),d;case lte:if(Iy)return Iy.call(e)==Iy.call(t)}return!1}var hte=dte;function fte(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var zS=fte,pte=Array.isArray,_r=pte,mte=zS,gte=_r;function vte(e,t,n){var r=t(e);return gte(e)?r:mte(r,n(e))}var FP=vte;function yte(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var a=e[n];t(a,n,e)&&(s[i++]=a)}return s}var wte=yte;function _te(){return[]}var UP=_te,Ste=wte,Ete=UP,Tte=Object.prototype,bte=Tte.propertyIsEnumerable,mC=Object.getOwnPropertySymbols,kte=mC?function(e){return e==null?[]:(e=Object(e),Ste(mC(e),function(t){return bte.call(e,t)}))}:Ete,VS=kte;function Dte(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Cte=Dte,xte=Hl,Ite=sa,Nte="[object Arguments]";function Ote(e){return Ite(e)&&xte(e)==Nte}var Mte=Ote,gC=Mte,Ate=sa,zP=Object.prototype,Rte=zP.hasOwnProperty,Pte=zP.propertyIsEnumerable,$te=gC(function(){return arguments}())?gC:function(e){return Ate(e)&&Rte.call(e,"callee")&&!Pte.call(e,"callee")},YS=$te,zp={exports:{}};function Lte(){return!1}var jte=Lte;zp.exports;(function(e,t){var n=pi,r=jte,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;e.exports=u})(zp,zp.exports);var _g=zp.exports,Fte=Hl,Ute=bS,zte=sa,Vte="[object Arguments]",Yte="[object Array]",Wte="[object Boolean]",Hte="[object Date]",Bte="[object Error]",Gte="[object Function]",qte="[object Map]",Kte="[object Number]",Qte="[object Object]",Xte="[object RegExp]",Jte="[object Set]",Zte="[object String]",ene="[object WeakMap]",tne="[object ArrayBuffer]",nne="[object DataView]",rne="[object Float32Array]",ine="[object Float64Array]",sne="[object Int8Array]",ane="[object Int16Array]",one="[object Int32Array]",lne="[object Uint8Array]",cne="[object Uint8ClampedArray]",une="[object Uint16Array]",dne="[object Uint32Array]",Je={};Je[rne]=Je[ine]=Je[sne]=Je[ane]=Je[one]=Je[lne]=Je[cne]=Je[une]=Je[dne]=!0;Je[Vte]=Je[Yte]=Je[tne]=Je[Wte]=Je[nne]=Je[Hte]=Je[Bte]=Je[Gte]=Je[qte]=Je[Kte]=Je[Qte]=Je[Xte]=Je[Jte]=Je[Zte]=Je[ene]=!1;function hne(e){return zte(e)&&Ute(e.length)&&!!Je[Fte(e)]}var fne=hne;function pne(e){return function(t){return e(t)}}var Sg=pne,Vp={exports:{}};Vp.exports;(function(e,t){var n=wP,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,a=s&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=o})(Vp,Vp.exports);var WS=Vp.exports,mne=fne,gne=Sg,vC=WS,yC=vC&&vC.isTypedArray,vne=yC?gne(yC):mne,HS=vne,yne=Cte,wne=YS,_ne=_r,Sne=_g,Ene=kS,Tne=HS,bne=Object.prototype,kne=bne.hasOwnProperty;function Dne(e,t){var n=_ne(e),r=!n&&wne(e),i=!n&&!r&&Sne(e),s=!n&&!r&&!i&&Tne(e),a=n||r||i||s,o=a?yne(e.length,String):[],l=o.length;for(var u in e)(t||kne.call(e,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Ene(u,l)))&&o.push(u);return o}var VP=Dne,Cne=Object.prototype;function xne(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Cne;return e===n}var BS=xne;function Ine(e,t){return function(n){return e(t(n))}}var YP=Ine,Nne=YP,One=Nne(Object.keys,Object),Mne=One,Ane=BS,Rne=Mne,Pne=Object.prototype,$ne=Pne.hasOwnProperty;function Lne(e){if(!Ane(e))return Rne(e);var t=[];for(var n in Object(e))$ne.call(e,n)&&n!="constructor"&&t.push(n);return t}var jne=Lne,Fne=VP,Une=jne,zne=Ud;function Vne(e){return zne(e)?Fne(e):Une(e)}var Hd=Vne,Yne=FP,Wne=VS,Hne=Hd;function Bne(e){return Yne(e,Hne,Wne)}var WP=Bne,wC=WP,Gne=1,qne=Object.prototype,Kne=qne.hasOwnProperty;function Qne(e,t,n,r,i,s){var a=n&Gne,o=wC(e),l=o.length,u=wC(t),d=u.length;if(l!=d&&!a)return!1;for(var f=l;f--;){var p=o[f];if(!(a?p in t:Kne.call(t,p)))return!1}var g=s.get(e),S=s.get(t);if(g&&S)return g==t&&S==e;var E=!0;s.set(e,t),s.set(t,e);for(var T=a;++f<l;){p=o[f];var v=e[p],w=t[p];if(r)var b=a?r(w,v,p,t,e,s):r(v,w,p,e,t,s);if(!(b===void 0?v===w||i(v,w,n,r,s):b)){E=!1;break}T||(T=p=="constructor")}if(E&&!T){var D=e.constructor,C=t.constructor;D!=C&&"constructor"in e&&"constructor"in t&&!(typeof D=="function"&&D instanceof D&&typeof C=="function"&&C instanceof C)&&(E=!1)}return s.delete(e),s.delete(t),E}var Xne=Qne,Jne=oo,Zne=pi,ere=Jne(Zne,"DataView"),tre=ere,nre=oo,rre=pi,ire=nre(rre,"Promise"),sre=ire,are=oo,ore=pi,lre=are(ore,"Set"),cre=lre,ure=oo,dre=pi,hre=ure(dre,"WeakMap"),fre=hre,D0=tre,C0=jS,x0=sre,I0=cre,N0=fre,HP=Hl,Ql=$P,_C="[object Map]",pre="[object Object]",SC="[object Promise]",EC="[object Set]",TC="[object WeakMap]",bC="[object DataView]",mre=Ql(D0),gre=Ql(C0),vre=Ql(x0),yre=Ql(I0),wre=Ql(N0),ma=HP;(D0&&ma(new D0(new ArrayBuffer(1)))!=bC||C0&&ma(new C0)!=_C||x0&&ma(x0.resolve())!=SC||I0&&ma(new I0)!=EC||N0&&ma(new N0)!=TC)&&(ma=function(e){var t=HP(e),n=t==pre?e.constructor:void 0,r=n?Ql(n):"";if(r)switch(r){case mre:return bC;case gre:return _C;case vre:return SC;case yre:return EC;case wre:return TC}return t});var Eg=ma,Ny=US,_re=LP,Sre=hte,Ere=Xne,kC=Eg,DC=_r,CC=_g,Tre=HS,bre=1,xC="[object Arguments]",IC="[object Array]",ef="[object Object]",kre=Object.prototype,NC=kre.hasOwnProperty;function Dre(e,t,n,r,i,s){var a=DC(e),o=DC(t),l=a?IC:kC(e),u=o?IC:kC(t);l=l==xC?ef:l,u=u==xC?ef:u;var d=l==ef,f=u==ef,p=l==u;if(p&&CC(e)){if(!CC(t))return!1;a=!0,d=!1}if(p&&!d)return s||(s=new Ny),a||Tre(e)?_re(e,t,n,r,i,s):Sre(e,t,l,n,r,i,s);if(!(n&bre)){var g=d&&NC.call(e,"__wrapped__"),S=f&&NC.call(t,"__wrapped__");if(g||S){var E=g?e.value():e,T=S?t.value():t;return s||(s=new Ny),i(E,T,n,r,s)}}return p?(s||(s=new Ny),Ere(e,t,n,r,i,s)):!1}var Cre=Dre,xre=Cre,OC=sa;function BP(e,t,n,r,i){return e===t?!0:e==null||t==null||!OC(e)&&!OC(t)?e!==e&&t!==t:xre(e,t,n,r,BP,i)}var GS=BP,Ire=GS;function Nre(e,t){return Ire(e,t)}var Ore=Nre;const Mre=Cn(Ore);function Oy(e,t){var n=DS(e);return n?n.innerHeight:t?e.clientHeight:Oa(e).height}function GP(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(xQ(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}function Are(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var Rre=Are,Pre=US,$re=GS,Lre=1,jre=2;function Fre(e,t,n,r){var i=n.length,s=i,a=!r;if(e==null)return!s;for(e=Object(e);i--;){var o=n[i];if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<s;){o=n[i];var l=o[0],u=e[l],d=o[1];if(a&&o[2]){if(u===void 0&&!(l in e))return!1}else{var f=new Pre;if(r)var p=r(u,d,l,e,t,f);if(!(p===void 0?$re(d,u,Lre|jre,r,f):p))return!1}}return!0}var Ure=Fre,zre=ss;function Vre(e){return e===e&&!zre(e)}var qP=Vre,Yre=qP,Wre=Hd;function Hre(e){for(var t=Wre(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Yre(i)]}return t}var Bre=Hre;function Gre(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var KP=Gre,qre=Ure,Kre=Bre,Qre=KP;function Xre(e){var t=Kre(e);return t.length==1&&t[0][2]?Qre(t[0][0],t[0][1]):function(n){return n===e||qre(n,e,t)}}var Jre=Xre,Zre=_r,eie=zd,tie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nie=/^\w*$/;function rie(e,t){if(Zre(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||eie(e)?!0:nie.test(e)||!tie.test(e)||t!=null&&e in Object(t)}var qS=rie,QP=FS,iie="Expected a function";function KS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(iie);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=e.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(KS.Cache||QP),n}KS.Cache=QP;var sie=KS,aie=sie,oie=500;function lie(e){var t=aie(e,function(r){return n.size===oie&&n.clear(),r}),n=t.cache;return t}var cie=lie,uie=cie,die=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hie=/\\(\\)?/g,fie=uie(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(die,function(n,r,i,s){t.push(i?s.replace(hie,"$1"):r||n)}),t}),pie=fie;function mie(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var QS=mie,MC=Wl,gie=QS,vie=_r,yie=zd,wie=1/0,AC=MC?MC.prototype:void 0,RC=AC?AC.toString:void 0;function XP(e){if(typeof e=="string")return e;if(vie(e))return gie(e,XP)+"";if(yie(e))return RC?RC.call(e):"";var t=e+"";return t=="0"&&1/e==-wie?"-0":t}var _ie=XP,Sie=_ie;function Eie(e){return e==null?"":Sie(e)}var Tie=Eie,bie=_r,kie=qS,Die=pie,Cie=Tie;function xie(e,t){return bie(e)?e:kie(e,t)?[e]:Die(Cie(e))}var Tg=xie,Iie=zd,Nie=1/0;function Oie(e){if(typeof e=="string"||Iie(e))return e;var t=e+"";return t=="0"&&1/e==-Nie?"-0":t}var Bd=Oie,Mie=Tg,Aie=Bd;function Rie(e,t){t=Mie(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Aie(t[n++])];return n&&n==r?e:void 0}var bg=Rie,Pie=bg;function $ie(e,t,n){var r=e==null?void 0:Pie(e,t);return r===void 0?n:r}var Lie=$ie;function jie(e,t){return e!=null&&t in Object(e)}var Fie=jie,Uie=Tg,zie=YS,Vie=_r,Yie=kS,Wie=bS,Hie=Bd;function Bie(e,t,n){t=Uie(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var a=Hie(t[r]);if(!(s=e!=null&&n(e,a)))break;e=e[a]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&Wie(i)&&Yie(a,i)&&(Vie(e)||zie(e)))}var Gie=Bie,qie=Fie,Kie=Gie;function Qie(e,t){return e!=null&&Kie(e,t,qie)}var Xie=Qie,Jie=GS,Zie=Lie,ese=Xie,tse=qS,nse=qP,rse=KP,ise=Bd,sse=1,ase=2;function ose(e,t){return tse(e)&&nse(t)?rse(ise(e),t):function(n){var r=Zie(n,e);return r===void 0&&r===t?ese(n,e):Jie(t,r,sse|ase)}}var lse=ose;function cse(e){return e}var kg=cse;function use(e){return function(t){return t==null?void 0:t[e]}}var dse=use,hse=bg;function fse(e){return function(t){return hse(t,e)}}var pse=fse,mse=dse,gse=pse,vse=qS,yse=Bd;function wse(e){return vse(e)?mse(yse(e)):gse(e)}var _se=wse,Sse=Jre,Ese=lse,Tse=kg,bse=_r,kse=_se;function Dse(e){return typeof e=="function"?e:e==null?Tse:typeof e=="object"?bse(e)?Ese(e[0],e[1]):Sse(e):kse(e)}var Dg=Dse,Cse=Rre,xse=Dg,Ise=EP,Nse=Math.max;function Ose(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:Ise(n);return i<0&&(i=Nse(r+i,0)),Cse(e,xse(t),i)}var Mse=Ose;const Ase=Cn(Mse);var Rse=Math.ceil,Pse=Math.max;function $se(e,t,n,r){for(var i=-1,s=Pse(Rse((t-e)/(n||1)),0),a=Array(s);s--;)a[r?s:++i]=e,e+=n;return a}var Lse=$se,jse=Lse,Fse=pg,My=SP;function Use(e){return function(t,n,r){return r&&typeof r!="number"&&Fse(t,n,r)&&(n=r=void 0),t=My(t),n===void 0?(n=t,t=0):n=My(n),r=r===void 0?t<n?1:-1:My(r),jse(t,n,r,e)}}var zse=Use,Vse=zse,Yse=Vse(),Wse=Yse;const Hse=Cn(Wse);var PC=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Bse(e,t){return!!(e===t||PC(e)&&PC(t))}function Gse(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Bse(e[n],t[n]))return!1;return!0}function JP(e,t){t===void 0&&(t=Gse);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}function O0(e,t){var n=DS(e);return n?n.innerWidth:t?e.clientWidth:Oa(e).width}var $C=Wl,qse=YS,Kse=_r,LC=$C?$C.isConcatSpreadable:void 0;function Qse(e){return Kse(e)||qse(e)||!!(LC&&e&&e[LC])}var Xse=Qse,Jse=zS,Zse=Xse;function ZP(e,t,n,r,i){var s=-1,a=e.length;for(n||(n=Zse),i||(i=[]);++s<a;){var o=e[s];t>0&&n(o)?t>1?ZP(o,t-1,n,r,i):Jse(i,o):r||(i[i.length]=o)}return i}var e$=ZP;function eae(e){return function(t,n,r){for(var i=-1,s=Object(t),a=r(t),o=a.length;o--;){var l=a[e?o:++i];if(n(s[l],l,s)===!1)break}return t}}var tae=eae,nae=tae,rae=nae(),iae=rae,sae=iae,aae=Hd;function oae(e,t){return e&&sae(e,t,aae)}var XS=oae,lae=Ud;function cae(e,t){return function(n,r){if(n==null)return n;if(!lae(n))return e(n,r);for(var i=n.length,s=t?i:-1,a=Object(n);(t?s--:++s<i)&&r(a[s],s,a)!==!1;);return n}}var uae=cae,dae=XS,hae=uae,fae=hae(dae),pae=fae,mae=pae,gae=Ud;function vae(e,t){var n=-1,r=gae(e)?Array(e.length):[];return mae(e,function(i,s,a){r[++n]=t(i,s,a)}),r}var yae=vae;function wae(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var _ae=wae,jC=zd;function Sae(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,s=jC(e),a=t!==void 0,o=t===null,l=t===t,u=jC(t);if(!o&&!u&&!s&&e>t||s&&a&&l&&!o&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&e<t||u&&n&&i&&!r&&!s||o&&n&&i||!a&&i||!l)return-1}return 0}var Eae=Sae,Tae=Eae;function bae(e,t,n){for(var r=-1,i=e.criteria,s=t.criteria,a=i.length,o=n.length;++r<a;){var l=Tae(i[r],s[r]);if(l){if(r>=o)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var kae=bae,Ay=QS,Dae=bg,Cae=Dg,xae=yae,Iae=_ae,Nae=Sg,Oae=kae,Mae=kg,Aae=_r;function Rae(e,t,n){t.length?t=Ay(t,function(s){return Aae(s)?function(a){return Dae(a,s.length===1?s[0]:s)}:s}):t=[Mae];var r=-1;t=Ay(t,Nae(Cae));var i=xae(e,function(s,a,o){var l=Ay(t,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return Iae(i,function(s,a){return Oae(s,a,n)})}var Pae=Rae;function $ae(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Lae=$ae,jae=Lae,FC=Math.max;function Fae(e,t,n){return t=FC(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=FC(r.length-t,0),a=Array(s);++i<s;)a[i]=r[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=r[i];return o[t]=n(a),jae(e,this,o)}}var t$=Fae;function Uae(e){return function(){return e}}var zae=Uae,Vae=oo,Yae=function(){try{var e=Vae(Object,"defineProperty");return e({},"",{}),e}catch{}}(),n$=Yae,Wae=zae,UC=n$,Hae=kg,Bae=UC?function(e,t){return UC(e,"toString",{configurable:!0,enumerable:!1,value:Wae(t),writable:!0})}:Hae,Gae=Bae,qae=800,Kae=16,Qae=Date.now;function Xae(e){var t=0,n=0;return function(){var r=Qae(),i=Kae-(r-n);if(n=r,i>0){if(++t>=qae)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Jae=Xae,Zae=Gae,eoe=Jae,toe=eoe(Zae),r$=toe,noe=kg,roe=t$,ioe=r$;function soe(e,t){return ioe(roe(e,t,noe),e+"")}var i$=soe,aoe=e$,ooe=Pae,loe=i$,zC=pg,coe=loe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&zC(e,t[0],t[1])?t=[]:n>2&&zC(t[0],t[1],t[2])&&(t=[t[0]]),ooe(e,aoe(t,1),[])}),uoe=coe;const doe=Cn(uoe);function s$(e){return rP(e)||vP(e)||_S(e)||iP()}function hoe(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var foe=hoe,poe=ss,moe=BS,goe=foe,voe=Object.prototype,yoe=voe.hasOwnProperty;function woe(e){if(!poe(e))return goe(e);var t=moe(e),n=[];for(var r in e)r=="constructor"&&(t||!yoe.call(e,r))||n.push(r);return n}var _oe=woe,Soe=VP,Eoe=_oe,Toe=Ud;function boe(e){return Toe(e)?Soe(e,!0):Eoe(e)}var Cg=boe,koe=i$,Doe=Fd,Coe=pg,xoe=Cg,a$=Object.prototype,Ioe=a$.hasOwnProperty,Noe=koe(function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&Coe(t[0],t[1],i)&&(r=1);++n<r;)for(var s=t[n],a=xoe(s),o=-1,l=a.length;++o<l;){var u=a[o],d=e[u];(d===void 0||Doe(d,a$[u])&&!Ioe.call(e,u))&&(e[u]=s[u])}return e}),Ooe=Noe;const Moe=Cn(Ooe);var VC=n$;function Aoe(e,t,n){t=="__proto__"&&VC?VC(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var JS=Aoe,Roe=JS,Poe=XS,$oe=Dg;function Loe(e,t){var n={};return t=$oe(t),Poe(e,function(r,i,s){Roe(n,i,t(r,i,s))}),n}var joe=Loe;const Foe=Cn(joe);function Uoe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var o$=Uoe,zoe=JS,Voe=Fd,Yoe=Object.prototype,Woe=Yoe.hasOwnProperty;function Hoe(e,t,n){var r=e[t];(!(Woe.call(e,t)&&Voe(r,n))||n===void 0&&!(t in e))&&zoe(e,t,n)}var l$=Hoe,Boe=l$,Goe=JS;function qoe(e,t,n,r){var i=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var o=t[s],l=r?r(n[o],e[o],o,n,e):void 0;l===void 0&&(l=e[o]),i?Goe(n,o,l):Boe(n,o,l)}return n}var Gd=qoe,Koe=Gd,Qoe=Hd;function Xoe(e,t){return e&&Koe(t,Qoe(t),e)}var Joe=Xoe,Zoe=Gd,ele=Cg;function tle(e,t){return e&&Zoe(t,ele(t),e)}var nle=tle,Yp={exports:{}};Yp.exports;(function(e,t){var n=pi,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,a=s?n.Buffer:void 0,o=a?a.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var f=u.length,p=o?o(f):new u.constructor(f);return u.copy(p),p}e.exports=l})(Yp,Yp.exports);var rle=Yp.exports;function ile(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var sle=ile,ale=Gd,ole=VS;function lle(e,t){return ale(e,ole(e),t)}var cle=lle,ule=YP,dle=ule(Object.getPrototypeOf,Object),xg=dle,hle=zS,fle=xg,ple=VS,mle=UP,gle=Object.getOwnPropertySymbols,vle=gle?function(e){for(var t=[];e;)hle(t,ple(e)),e=fle(e);return t}:mle,c$=vle,yle=Gd,wle=c$;function _le(e,t){return yle(e,wle(e),t)}var Sle=_le,Ele=FP,Tle=c$,ble=Cg;function kle(e){return Ele(e,ble,Tle)}var u$=kle,Dle=Object.prototype,Cle=Dle.hasOwnProperty;function xle(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Cle.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Ile=xle,YC=jP;function Nle(e){var t=new e.constructor(e.byteLength);return new YC(t).set(new YC(e)),t}var ZS=Nle,Ole=ZS;function Mle(e,t){var n=t?Ole(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Ale=Mle,Rle=/\w*$/;function Ple(e){var t=new e.constructor(e.source,Rle.exec(e));return t.lastIndex=e.lastIndex,t}var $le=Ple,WC=Wl,HC=WC?WC.prototype:void 0,BC=HC?HC.valueOf:void 0;function Lle(e){return BC?Object(BC.call(e)):{}}var jle=Lle,Fle=ZS;function Ule(e,t){var n=t?Fle(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var zle=Ule,Vle=ZS,Yle=Ale,Wle=$le,Hle=jle,Ble=zle,Gle="[object Boolean]",qle="[object Date]",Kle="[object Map]",Qle="[object Number]",Xle="[object RegExp]",Jle="[object Set]",Zle="[object String]",ece="[object Symbol]",tce="[object ArrayBuffer]",nce="[object DataView]",rce="[object Float32Array]",ice="[object Float64Array]",sce="[object Int8Array]",ace="[object Int16Array]",oce="[object Int32Array]",lce="[object Uint8Array]",cce="[object Uint8ClampedArray]",uce="[object Uint16Array]",dce="[object Uint32Array]";function hce(e,t,n){var r=e.constructor;switch(t){case tce:return Vle(e);case Gle:case qle:return new r(+e);case nce:return Yle(e,n);case rce:case ice:case sce:case ace:case oce:case lce:case cce:case uce:case dce:return Ble(e,n);case Kle:return new r;case Qle:case Zle:return new r(e);case Xle:return Wle(e);case Jle:return new r;case ece:return Hle(e)}}var fce=hce,pce=ss,GC=Object.create,mce=function(){function e(){}return function(t){if(!pce(t))return{};if(GC)return GC(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),d$=mce,gce=d$,vce=xg,yce=BS;function wce(e){return typeof e.constructor=="function"&&!yce(e)?gce(vce(e)):{}}var _ce=wce,Sce=Eg,Ece=sa,Tce="[object Map]";function bce(e){return Ece(e)&&Sce(e)==Tce}var kce=bce,Dce=kce,Cce=Sg,qC=WS,KC=qC&&qC.isMap,xce=KC?Cce(KC):Dce,Ice=xce,Nce=Eg,Oce=sa,Mce="[object Set]";function Ace(e){return Oce(e)&&Nce(e)==Mce}var Rce=Ace,Pce=Rce,$ce=Sg,QC=WS,XC=QC&&QC.isSet,Lce=XC?$ce(XC):Pce,jce=Lce,Fce=US,Uce=o$,zce=l$,Vce=Joe,Yce=nle,Wce=rle,Hce=sle,Bce=cle,Gce=Sle,qce=WP,Kce=u$,Qce=Eg,Xce=Ile,Jce=fce,Zce=_ce,eue=_r,tue=_g,nue=Ice,rue=ss,iue=jce,sue=Hd,aue=Cg,oue=1,lue=2,cue=4,h$="[object Arguments]",uue="[object Array]",due="[object Boolean]",hue="[object Date]",fue="[object Error]",f$="[object Function]",pue="[object GeneratorFunction]",mue="[object Map]",gue="[object Number]",p$="[object Object]",vue="[object RegExp]",yue="[object Set]",wue="[object String]",_ue="[object Symbol]",Sue="[object WeakMap]",Eue="[object ArrayBuffer]",Tue="[object DataView]",bue="[object Float32Array]",kue="[object Float64Array]",Due="[object Int8Array]",Cue="[object Int16Array]",xue="[object Int32Array]",Iue="[object Uint8Array]",Nue="[object Uint8ClampedArray]",Oue="[object Uint16Array]",Mue="[object Uint32Array]",Ge={};Ge[h$]=Ge[uue]=Ge[Eue]=Ge[Tue]=Ge[due]=Ge[hue]=Ge[bue]=Ge[kue]=Ge[Due]=Ge[Cue]=Ge[xue]=Ge[mue]=Ge[gue]=Ge[p$]=Ge[vue]=Ge[yue]=Ge[wue]=Ge[_ue]=Ge[Iue]=Ge[Nue]=Ge[Oue]=Ge[Mue]=!0;Ge[fue]=Ge[f$]=Ge[Sue]=!1;function If(e,t,n,r,i,s){var a,o=t&oue,l=t&lue,u=t&cue;if(n&&(a=i?n(e,r,i,s):n(e)),a!==void 0)return a;if(!rue(e))return e;var d=eue(e);if(d){if(a=Xce(e),!o)return Hce(e,a)}else{var f=Qce(e),p=f==f$||f==pue;if(tue(e))return Wce(e,o);if(f==p$||f==h$||p&&!i){if(a=l||p?{}:Zce(e),!o)return l?Gce(e,Yce(a,e)):Bce(e,Vce(a,e))}else{if(!Ge[f])return i?e:{};a=Jce(e,f,o)}}s||(s=new Fce);var g=s.get(e);if(g)return g;s.set(e,a),iue(e)?e.forEach(function(T){a.add(If(T,t,n,T,e,s))}):nue(e)&&e.forEach(function(T,v){a.set(v,If(T,t,n,v,e,s))});var S=u?l?Kce:qce:l?aue:sue,E=d?void 0:S(e);return Uce(E||e,function(T,v){E&&(v=T,T=e[v]),zce(a,v,If(T,t,n,v,e,s))}),a}var Aue=If;function Rue(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Pue=Rue,$ue=bg,Lue=yP;function jue(e,t){return t.length<2?e:$ue(e,Lue(t,0,-1))}var Fue=jue,Uue=Tg,zue=Pue,Vue=Fue,Yue=Bd;function Wue(e,t){return t=Uue(t,e),e=Vue(e,t),e==null||delete e[Yue(zue(t))]}var Hue=Wue,Bue=Hl,Gue=xg,que=sa,Kue="[object Object]",Que=Function.prototype,Xue=Object.prototype,m$=Que.toString,Jue=Xue.hasOwnProperty,Zue=m$.call(Object);function ede(e){if(!que(e)||Bue(e)!=Kue)return!1;var t=Gue(e);if(t===null)return!0;var n=Jue.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&m$.call(n)==Zue}var tde=ede,nde=tde;function rde(e){return nde(e)?void 0:e}var ide=rde,sde=e$;function ade(e){var t=e==null?0:e.length;return t?sde(e,1):[]}var ode=ade,lde=ode,cde=t$,ude=r$;function dde(e){return ude(cde(e,void 0,lde),e+"")}var hde=dde,fde=QS,pde=Aue,mde=Hue,gde=Tg,vde=Gd,yde=ide,wde=hde,_de=u$,Sde=1,Ede=2,Tde=4,bde=wde(function(e,t){var n={};if(e==null)return n;var r=!1;t=fde(t,function(s){return s=gde(s,e),r||(r=s.length>1),s}),vde(e,_de(e),n),r&&(n=pde(n,Sde|Ede|Tde,yde));for(var i=t.length;i--;)mde(n,t[i]);return n}),kde=bde;const Dde=Cn(kde);var Cde=o$,xde=d$,Ide=XS,Nde=Dg,Ode=xg,Mde=_r,Ade=_g,Rde=TS,Pde=ss,$de=HS;function Lde(e,t,n){var r=Mde(e),i=r||Ade(e)||$de(e);if(t=Nde(t),n==null){var s=e&&e.constructor;i?n=r?new s:[]:Pde(e)?n=Rde(s)?xde(Ode(e)):{}:n={}}return(i?Cde:Ide)(e,function(a,o,l){return t(n,a,o,l)}),n}var jde=Lde;const Fde=Cn(jde);var Ude={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Hn,function(){return function(n,r,i){r.prototype.isBetween=function(s,a,o,l){var u=i(s),d=i(a),f=(l=l||"()")[0]==="(",p=l[1]===")";return(f?this.isAfter(u,o):!this.isBefore(u,o))&&(p?this.isBefore(d,o):!this.isAfter(d,o))||(f?this.isBefore(u,o):!this.isAfter(u,o))&&(p?this.isAfter(d,o):!this.isBefore(d,o))}}})})(Ude);var zde={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Hn,function(){return function(n,r){r.prototype.isSameOrAfter=function(i,s){return this.isSame(i,s)||this.isAfter(i,s)}}})})(zde);var Vde={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Hn,function(){return function(n,r){r.prototype.isSameOrBefore=function(i,s){return this.isSame(i,s)||this.isBefore(i,s)}}})})(Vde);var Yde={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Hn,function(){return function(n,r,i){var s=r.prototype,a=function(f){return f&&(f.indexOf?f:f.s)},o=function(f,p,g,S,E){var T=f.name?f:f.$locale(),v=a(T[p]),w=a(T[g]),b=v||w.map(function(C){return C.slice(0,S)});if(!E)return b;var D=T.weekStart;return b.map(function(C,I){return b[(I+(D||0))%7]})},l=function(){return i.Ls[i.locale()]},u=function(f,p){return f.formats[p]||function(g){return g.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(S,E,T){return E||T.slice(1)})}(f.formats[p.toUpperCase()])},d=function(){var f=this;return{months:function(p){return p?p.format("MMMM"):o(f,"months")},monthsShort:function(p){return p?p.format("MMM"):o(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(p){return p?p.format("dddd"):o(f,"weekdays")},weekdaysMin:function(p){return p?p.format("dd"):o(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(p){return p?p.format("ddd"):o(f,"weekdaysShort","weekdays",3)},longDateFormat:function(p){return u(f.$locale(),p)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return d.bind(this)()},i.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(p){return u(f,p)},meridiem:f.meridiem,ordinal:f.ordinal}},i.months=function(){return o(l(),"months")},i.monthsShort=function(){return o(l(),"monthsShort","months",3)},i.weekdays=function(f){return o(l(),"weekdays",null,null,f)},i.weekdaysShort=function(f){return o(l(),"weekdaysShort","weekdays",3,f)},i.weekdaysMin=function(f){return o(l(),"weekdaysMin","weekdays",2,f)}}})})(Yde);var Wde={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Hn,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,s){var a=i.prototype,o=a.format;s.en.formats=n,a.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(f,p){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(g,S,E){var T=E&&E.toUpperCase();return S||p[E]||n[E]||p[T].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,w,b){return w||b.slice(1)})})}(l,u===void 0?{}:u);return o.call(this,d)}}})})(Wde);var Hde={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Hn,function(){return function(n,r,i){var s=function(a,o){if(!o||!o.length||o.length===1&&!o[0]||o.length===1&&Array.isArray(o[0])&&!o[0].length)return null;var l;o.length===1&&o[0].length>0&&(o=o[0]),l=(o=o.filter(function(d){return d}))[0];for(var u=1;u<o.length;u+=1)o[u].isValid()&&!o[u][a](l)||(l=o[u]);return l};i.max=function(){var a=[].slice.call(arguments,0);return s("isAfter",a)},i.min=function(){var a=[].slice.call(arguments,0);return s("isBefore",a)}}})})(Hde);var Bde={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Hn,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,a,o){var l=a.prototype;o.utc=function(E){var T={date:E,utc:!0,args:arguments};return new a(T)},l.utc=function(E){var T=o(this.toDate(),{locale:this.$L,utc:!0});return E?T.add(this.utcOffset(),n):T},l.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(E){E.utc&&(this.$u=!0),this.$utils().u(E.$offset)||(this.$offset=E.$offset),u.call(this,E)};var d=l.init;l.init=function(){if(this.$u){var E=this.$d;this.$y=E.getUTCFullYear(),this.$M=E.getUTCMonth(),this.$D=E.getUTCDate(),this.$W=E.getUTCDay(),this.$H=E.getUTCHours(),this.$m=E.getUTCMinutes(),this.$s=E.getUTCSeconds(),this.$ms=E.getUTCMilliseconds()}else d.call(this)};var f=l.utcOffset;l.utcOffset=function(E,T){var v=this.$utils().u;if(v(E))return this.$u?0:v(this.$offset)?f.call(this):this.$offset;if(typeof E=="string"&&(E=function(C){C===void 0&&(C="");var I=C.match(r);if(!I)return null;var N=(""+I[0]).match(i)||["-",0,0],O=N[0],P=60*+N[1]+ +N[2];return P===0?0:O==="+"?P:-P}(E),E===null))return this;var w=Math.abs(E)<=16?60*E:E,b=this;if(T)return b.$offset=w,b.$u=E===0,b;if(E!==0){var D=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(b=this.local().add(w+D,n)).$offset=w,b.$x.$localOffset=D}else b=this.utc();return b};var p=l.format;l.format=function(E){var T=E||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return p.call(this,T)},l.valueOf=function(){var E=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*E},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var g=l.toDate;l.toDate=function(E){return E==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var S=l.diff;l.diff=function(E,T,v){if(E&&this.$u===E.$u)return S.call(this,E,T,v);var w=this.local(),b=o(E).local();return S.call(w,b,T,v)}}})})(Bde);function Ni(e){return e.children}var Vn={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Sn={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},JC=Object.keys(Sn).map(function(e){return Sn[e]});te.oneOfType([te.string,te.func]);te.any;te.func;te.oneOfType([te.arrayOf(te.oneOf(JC)),te.objectOf(function(e,t){var n=JC.indexOf(t)!==-1&&typeof e[t]=="boolean";if(n)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return te.elementType.apply(te,[e,t].concat(i))})]);te.oneOfType([te.oneOf(["overlap","no-overlap"]),te.func]);var ZC={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function g$(e,t){var n=Jt(e,"month");return Jt(n,"week",t.startOfWeek())}function v$(e,t){var n=Lp(e,"month");return Lp(n,"week",t.startOfWeek())}function Gde(e,t){for(var n=g$(e,t),r=v$(e,t),i=[];Vl(n,r,"day");)i.push(n),n=Ur(n,1,"day");return i}function qde(e,t){var n=Jt(e,t);return Ld(n,e)?n:Ur(n,1,t)}function Kde(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=e,i=[];Vl(r,t,n);)i.push(r),r=Ur(r,1,n);return i}function Qde(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Jt(e,"day"),e=Ku(e,Ku(t)),e=kl(e,kl(t)),e=qu(e,qu(t)),Gu(e,Gu(t)))}function ex(e){return Ku(e)===0&&kl(e)===0&&qu(e)===0&&Gu(e)===0}function Xde(e,t,n,r){return n==="day"&&(n="date"),Math.abs($D[n](e,void 0,r)-$D[n](t,void 0,r))}function eE(e,t,n){return!n||n==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Jt(e,n)/ZC[n]-+Jt(t,n)/ZC[n]))}var Jde=te.oneOfType([te.string,te.func]);function Zde(e,t,n,r,i){var s=typeof r=="function"?r(n,i,e):t.call(e,n,r,i);return zu(s==null||typeof s=="string","`localizer format(..)` must return a string, null, or undefined"),s}function ehe(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function tE(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function the(e,t){return eE(e,t,"minutes")+tE(e,t)}function nhe(e){var t=Jt(e,"day");return eE(t,e,"minutes")+tE(t,e)}function rhe(e,t){return ES(e,t,"day")}function ihe(e,t,n){var r=Ld(e,t,"minutes");return r?jd(t,n,"minutes"):fg(t,n,"minutes")}function M0(e,t){return Xde(e,t,"day")}function she(e){var t=e.evtA,n=t.start,r=t.end,i=t.allDay,s=e.evtB,a=s.start,o=s.end,l=s.allDay,u=+Jt(n,"day")-+Jt(a,"day"),d=M0(n,r),f=M0(a,o);return u||f-d||!!l-!!i||+n-+a||+r-+o}function ahe(e){var t=e.event,n=t.start,r=t.end,i=e.range,s=i.start,a=i.end,o=Jt(n,"day"),l=Vl(o,a,"day"),u=SS(o,r,"minutes"),d=u?fg(r,s,"minutes"):jd(r,s,"minutes");return l&&d}function ohe(e,t){return Ld(e,t,"day")}function lhe(e,t){return ex(e)&&ex(t)}var che=Pt(function e(t){var n=this;Rt(this,e),zu(typeof t.format=="function","date localizer `format(..)` must be a function"),zu(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||Jde,this.formats=t.formats,this.format=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return Zde.apply(void 0,[n,t.format].concat(i))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||Qde,this.inRange=t.inRange||fP,this.lt=t.lt||ES,this.lte=t.lte||Vl,this.gt=t.gt||fg,this.gte=t.gte||jd,this.eq=t.eq||Ld,this.neq=t.neq||SS,this.startOf=t.startOf||Jt,this.endOf=t.endOf||Lp,this.add=t.add||Ur,this.range=t.range||Kde,this.diff=t.diff||eE,this.ceil=t.ceil||qde,this.min=t.min||dP,this.max=t.max||hP,this.minutes=t.minutes||kl,this.daySpan=t.daySpan||M0,this.firstVisibleDay=t.firstVisibleDay||g$,this.lastVisibleDay=t.lastVisibleDay||v$,this.visibleDays=t.visibleDays||Gde,this.getSlotDate=t.getSlotDate||ehe,this.getTimezoneOffset=t.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||tE,this.getTotalMin=t.getTotalMin||the,this.getMinutesFromMidnight=t.getMinutesFromMidnight||nhe,this.continuesPrior=t.continuesPrior||rhe,this.continuesAfter=t.continuesAfter||ihe,this.sortEvents=t.sortEvents||she,this.inEventRange=t.inEventRange||ahe,this.isSameDate=t.isSameDate||ohe,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||lhe,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function uhe(e,t,n,r){var i=Be(Be({},e.formats),n);return Be(Be({},e),{},{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(a,o){return e.format(a,i[o]||o,t)}})}var dhe=function(e){function t(){var n;Rt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=vn(this,t,[].concat(i)),n.navigate=function(a){n.props.onNavigate(a)},n.view=function(a){n.props.onView(a)},n}return yn(t,e),Pt(t,[{key:"render",value:function(){var r=this.props,i=r.localizer.messages,s=r.label;return A.createElement("div",{className:"rbc-toolbar"},A.createElement("span",{className:"rbc-btn-group"},A.createElement("button",{type:"button",onClick:this.navigate.bind(null,Vn.TODAY)},i.today),A.createElement("button",{type:"button",onClick:this.navigate.bind(null,Vn.PREVIOUS)},i.previous),A.createElement("button",{type:"button",onClick:this.navigate.bind(null,Vn.NEXT)},i.next)),A.createElement("span",{className:"rbc-toolbar-label"},s),A.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(r){var i=this,s=this.props.views,a=this.props.view;if(s.length>1)return s.map(function(o){return A.createElement("button",{type:"button",key:o,className:mt({"rbc-active":a===o}),onClick:i.view.bind(null,o)},r[o])})}}])}(A.Component);function Ze(e,t){e&&e.apply(null,[].concat(t))}var hhe={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function fhe(e){return Be(Be({},hhe),e)}function phe(e){var t=e.ref,n=e.callback;M.useEffect(function(){var r=function(s){t.current&&!t.current.contains(s.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[t,n])}var mhe=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],y$=function(e){function t(){return Rt(this,t),vn(this,t,arguments)}return yn(t,e),Pt(t,[{key:"render",value:function(){var r=this.props,i=r.style,s=r.className,a=r.event,o=r.selected,l=r.isAllDay,u=r.onSelect,d=r.onDoubleClick,f=r.onKeyPress,p=r.localizer,g=r.continuesPrior,S=r.continuesAfter,E=r.accessors,T=r.getters,v=r.children,w=r.components,b=w.event,D=w.eventWrapper,C=r.slotStart,I=r.slotEnd,N=di(r,mhe);delete N.resizable;var O=E.title(a),P=E.tooltip(a),x=E.end(a),j=E.start(a),K=E.allDay(a),W=l||K||p.diff(j,p.ceil(x,"day"),"day")>1,ne=T.eventProp(a,j,x,o),q=A.createElement("div",{className:"rbc-event-content",title:P||void 0},b?A.createElement(b,{event:a,continuesPrior:g,continuesAfter:S,title:O,isAllDay:K,localizer:p,slotStart:C,slotEnd:I}):O);return A.createElement(D,Object.assign({},this.props,{type:"date"}),A.createElement("div",Object.assign({},N,{style:Be(Be({},ne.style),i),className:mt("rbc-event",s,ne.className,{"rbc-selected":o,"rbc-event-allday":W,"rbc-event-continues-prior":g,"rbc-event-continues-after":S}),onClick:function(de){return u&&u(a,de)},onDoubleClick:function(de){return d&&d(a,de)},onKeyDown:function(de){return f&&f(a,de)}}),typeof v=="function"?v(q):q))}}])}(A.Component);function Ig(e,t){return!e||t==null?!1:Mre(e,t)}function w$(e,t){var n=e.right-e.left,r=n/t;return r}function _$(e,t,n,r){var i=w$(e,r);return n?r-1-Math.floor((t-e.left)/i):Math.floor((t-e.left)/i)}function ghe(e,t){var n=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&n>=e.left&&n<=e.right}function vhe(e,t,n,r,i){var s=-1,a=-1,o=r-1,l=w$(t,r),u=_$(t,n.x,i,r),d=t.top<n.y&&t.bottom>n.y,f=t.top<e.y&&t.bottom>e.y,p=e.y>t.bottom,g=t.top>e.y,S=n.top<t.top&&n.bottom>t.bottom;return S&&(s=0,a=o),d&&(g?(s=0,a=u):p&&(s=u,a=o)),f&&(s=a=i?o-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),d?u<s?s=u:a=u:e.y<n.y?a=o:s=0),{startIdx:s,endIdx:a}}function yhe(e){var t=e.target,n=e.offset,r=e.container,i=e.box,s=Oa(t),a=s.top,o=s.left,l=s.width,u=s.height,d=Oa(r),f=d.top,p=d.left,g=d.width,S=d.height,E=Oa(i),T=E.width,v=E.height,w=f+S,b=p+g,D=a+v,C=o+T,I=n.x,N=n.y,O=D>w?a-v-N:a+N+u,P=C>b?o+I-T+l:o+I;return{topOffset:O,leftOffset:P}}function whe(e){var t=e.containerRef,n=e.accessors,r=e.getters,i=e.selected,s=e.components,a=e.localizer,o=e.position,l=e.show,u=e.events,d=e.slotStart,f=e.slotEnd,p=e.onSelect,g=e.onDoubleClick,S=e.onKeyPress,E=e.handleDragStart,T=e.popperRef,v=e.target,w=e.offset;phe({ref:T,callback:l}),M.useLayoutEffect(function(){var C=yhe({target:v,offset:w,container:t.current,box:T.current}),I=C.topOffset,N=C.leftOffset;T.current.style.top="".concat(I,"px"),T.current.style.left="".concat(N,"px")},[w.x,w.y,v]);var b=o.width,D={minWidth:b+b/2};return A.createElement("div",{style:D,className:"rbc-overlay",ref:T},A.createElement("div",{className:"rbc-overlay-header"},a.format(d,"dayHeaderFormat")),u.map(function(C,I){return A.createElement(y$,{key:I,type:"popup",localizer:a,event:C,getters:r,onSelect:p,accessors:n,components:s,onDoubleClick:g,onKeyPress:S,continuesPrior:a.lt(n.end(C),d,"day"),continuesAfter:a.gte(n.start(C),f,"day"),slotStart:d,slotEnd:f,selected:Ig(C,i),draggable:!0,onDragStart:function(){return E(C)},onDragEnd:function(){return l()}})}))}var S$=A.forwardRef(function(e,t){return A.createElement(whe,Object.assign({},e,{popperRef:t}))});S$.propTypes={accessors:te.object.isRequired,getters:te.object.isRequired,selected:te.object,components:te.object.isRequired,localizer:te.object.isRequired,position:te.object.isRequired,show:te.func.isRequired,events:te.array.isRequired,slotStart:te.instanceOf(Date).isRequired,slotEnd:te.instanceOf(Date),onSelect:te.func,onDoubleClick:te.func,onKeyPress:te.func,handleDragStart:te.func,style:te.object,offset:te.shape({x:te.number,y:te.number})};function _he(e){var t=e.containerRef,n=e.popupOffset,r=n===void 0?5:n,i=e.overlay,s=e.accessors,a=e.localizer,o=e.components,l=e.getters,u=e.selected,d=e.handleSelectEvent,f=e.handleDoubleClickEvent,p=e.handleKeyPressEvent,g=e.handleDragStart,S=e.onHide,E=e.overlayDisplay,T=M.useRef(null);if(!i.position)return null;var v=r;isNaN(r)||(v={x:r,y:r});var w=i.position,b=i.events,D=i.date,C=i.end;return A.createElement(sJ,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:S,target:i.target},function(I){var N=I.props;return A.createElement(S$,Object.assign({},N,{containerRef:t,ref:T,target:i.target,offset:v,accessors:s,getters:l,selected:u,components:o,localizer:a,position:w,show:E,events:b,slotStart:D,slotEnd:C,onSelect:d,onDoubleClick:f,onKeyPress:p,handleDragStart:g}))})}var nE=A.forwardRef(function(e,t){return A.createElement(_he,Object.assign({},e,{containerRef:t}))});nE.propTypes={popupOffset:te.oneOfType([te.number,te.shape({x:te.number,y:te.number})]),overlay:te.shape({position:te.object,events:te.array,date:te.instanceOf(Date),end:te.instanceOf(Date)}),accessors:te.object.isRequired,localizer:te.object.isRequired,components:te.object.isRequired,getters:te.object.isRequired,selected:te.object,handleSelectEvent:te.func,handleDoubleClickEvent:te.func,handleKeyPressEvent:te.func,handleDragStart:te.func,onHide:te.func,overlayDisplay:te.func};function sn(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Uc(n,e,t,{passive:!1})}function She(e,t,n){return!e||Qu(e,document.elementFromPoint(t,n))}function Ehe(e,t){var n=t.clientX,r=t.clientY,i=document.elementFromPoint(n,r);return GP(i,".rbc-event",e)}function The(e,t){var n=t.clientX,r=t.clientY,i=document.elementFromPoint(n,r);return GP(i,".rbc-show-more",e)}function Wp(e,t){return!!Ehe(e,t)}function bhe(e,t){return!!The(e,t)}function Cc(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var tx=5,khe=250,E$=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,i=r===void 0?!1:r,s=n.longPressThreshold,a=s===void 0?250:s,o=n.validContainers,l=o===void 0?[]:o;Rt(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||i,this.longPressThreshold=a,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=sn("touchmove",function(){},window),this._removeKeyDownListener=sn("keydown",this._keyListener),this._removeKeyUpListener=sn("keyup",this._keyListener),this._removeDropFromOutsideListener=sn("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=sn("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Pt(e,[{key:"on",value:function(n,r){var i=this._listeners[n]||(this._listeners[n]=[]);return i.push(r),{remove:function(){var a=i.indexOf(r);a!==-1&&i.splice(a,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var a,o=this._listeners[n]||[];return o.forEach(function(l){a===void 0&&(a=l.apply(void 0,i))}),a}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:nx(r,Ja(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var i=this,s=null,a=null,o=null,l=function(p){s=setTimeout(function(){d(),n(p)},i.longPressThreshold),a=sn("touchmove",function(){return d()}),o=sn("touchend",function(){return d()})},u=sn("touchstart",l),d=function(){s&&clearTimeout(s),a&&a(),o&&o(),s=null,a=null,o=null};return r&&l(r),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=sn("mousedown",function(s){n._removeInitialEventListener(),n._handleInitialEvent(s),n._removeInitialEventListener=sn("mousedown",n._handleInitialEvent)}),i=sn("touchstart",function(s){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,s)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(n){var r=Cc(n),i=r.pageX,s=r.pageY,a=r.clientX,o=r.clientY;this.emit("dropFromOutside",{x:i,y:s,clientX:a,clientY:o}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=Cc(n),i=r.pageX,s=r.pageY,a=r.clientX,o=r.clientY;this.emit("dragOverFromOutside",{x:i,y:s,clientX:a,clientY:o}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(this._initialEvent=n,!this.isDetached){var r=Cc(n),i=r.clientX,s=r.clientY,a=r.pageX,o=r.pageY,l=this.container(),u,d;if(!(n.which===3||n.button===2||!She(l,i,s))){if(!this.globalMouse&&l&&!Qu(l,n.target)){var f=Dhe(0),p=f.top,g=f.left,S=f.bottom,E=f.right;if(d=Ja(l),u=nx({top:d.top-p,left:d.left-g,bottom:d.bottom+S,right:d.right+E},{top:o,left:a}),!u)return}var T=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:a,y:o,clientX:i,clientY:s});if(T!==!1)switch(n.type){case"mousedown":this._removeEndListener=sn("mouseup",this._handleTerminatingEvent),this._onEscListener=sn("keydown",this._handleTerminatingEvent),this._removeMoveListener=sn("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=sn("touchend",this._handleTerminatingEvent),this._removeMoveListener=sn("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(s){return!!r.closest(s)})}},{key:"_handleTerminatingEvent",value:function(n){var r=this.selecting,i=this._selectRect;if(!r&&n.type.includes("key")&&(n=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!n){var s=!this.container||Qu(this.container(),n.target),a=this._isWithinValidContainer(n);return n.key==="Escape"||!a?this.emit("reset"):!r&&s?this._handleClickEvent(n):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(n){var r=Cc(n),i=r.pageX,s=r.pageY,a=r.clientX,o=r.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<khe?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:s,clientX:a,clientY:o})):(this._lastClickData={timestamp:l},this.emit("click",{x:i,y:s,clientX:a,clientY:o}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,s=r.y,a=Cc(n),o=a.pageX,l=a.pageY,u=Math.abs(i-o),d=Math.abs(s-l),f=Math.min(o,i),p=Math.min(l,s),g=this.selecting,S=this.isClick(o,l);S&&!g&&!(u||d)||(!g&&!S&&this.emit("selectStart",this._initialEventData),S||(this.selecting=!0,this._selectRect={top:p,left:f,x:o,y:l,right:f+u,bottom:p+d},this.emit("selecting",this._selectRect)),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var i=this._initialEventData,s=i.x,a=i.y,o=i.isTouch;return!o&&Math.abs(n-s)<=tx&&Math.abs(r-a)<=tx}}])}();function Dhe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return es(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function nx(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Ja(e),i=r.top,s=r.left,a=r.right,o=a===void 0?s:a,l=r.bottom,u=l===void 0?i:l,d=Ja(t),f=d.top,p=d.left,g=d.right,S=g===void 0?p:g,E=d.bottom,T=E===void 0?f:E;return!(u-n<f||i+n>T||o-n<p||s+n>S)}function Ja(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+rx("left"),r=t.top+rx("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function rx(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var Che=function(e){function t(n,r){var i;return Rt(this,t),i=vn(this,t,[n,r]),i.state={selecting:!1},i.containerRef=M.createRef(),i}return yn(t,e),Pt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,i=r.range,s=r.getNow,a=r.getters,o=r.date,l=r.components.dateCellWrapper,u=r.localizer,d=this.state,f=d.selecting,p=d.startIdx,g=d.endIdx,S=s();return A.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(E,T){var v=f&&T>=p&&T<=g,w=a.dayProp(E),b=w.className,D=w.style;return A.createElement(l,{key:T,value:E,range:i},A.createElement("div",{style:D,className:mt("rbc-day-bg",b,v&&"rbc-selected-cell",u.isSameDate(E,S)&&"rbc-today",o&&u.neq(o,E,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,i=this.containerRef.current,s=this._selector=new E$(this.props.container,{longPressThreshold:this.props.longPressThreshold}),a=function(l,u){if(!Wp(i,l)&&!bhe(i,l)){var d=Ja(i),f=r.props,p=f.range,g=f.rtl;if(ghe(d,l)){var S=_$(d,l.x,g,p.length);r._selectSlot({startIdx:S,endIdx:S,action:u,box:l})}}r._initial={},r.setState({selecting:!1})};s.on("selecting",function(o){var l=r.props,u=l.range,d=l.rtl,f=-1,p=-1;if(r.state.selecting||(Ze(r.props.onSelectStart,[o]),r._initial={x:o.x,y:o.y}),s.isSelected(i)){var g=Ja(i),S=vhe(r._initial,g,o,u.length,d);f=S.startIdx,p=S.endIdx}r.setState({selecting:!0,startIdx:f,endIdx:p})}),s.on("beforeSelect",function(o){if(r.props.selectable==="ignoreEvents")return!Wp(r.containerRef.current,o)}),s.on("click",function(o){return a(o,"click")}),s.on("doubleClick",function(o){return a(o,"doubleClick")}),s.on("select",function(o){r._selectSlot(Be(Be({},r.state),{},{action:"select",bounds:o})),r._initial={},r.setState({selecting:!1}),Ze(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var i=r.endIdx,s=r.startIdx,a=r.action,o=r.bounds,l=r.box;i!==-1&&s!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:i,action:a,bounds:o,box:l,resourceId:this.props.resourceId})}}])}(A.Component),Qr={propTypes:{slotMetrics:te.object.isRequired,selected:te.object,isAllDay:te.bool,accessors:te.object.isRequired,localizer:te.object.isRequired,components:te.object.isRequired,getters:te.object.isRequired,onSelect:te.func,onDoubleClick:te.func,onKeyPress:te.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,n){var r=t.selected;t.isAllDay;var i=t.accessors,s=t.getters,a=t.onSelect,o=t.onDoubleClick,l=t.onKeyPress,u=t.localizer,d=t.slotMetrics,f=t.components,p=t.resizable,g=d.continuesPrior(n),S=d.continuesAfter(n);return A.createElement(y$,{event:n,getters:s,localizer:u,accessors:i,components:f,onSelect:a,onDoubleClick:o,onKeyPress:l,continuesPrior:g,continuesAfter:S,slotStart:d.first,slotEnd:d.last,selected:Ig(n,r),resizable:p})},renderSpan:function(t,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(n)/t*100+"%";return A.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},i)}},T$=function(e){function t(){return Rt(this,t),vn(this,t,arguments)}return yn(t,e),Pt(t,[{key:"render",value:function(){var r=this,i=this.props,s=i.segments,a=i.slotMetrics.slots,o=i.className,l=1;return A.createElement("div",{className:mt(o,"rbc-row")},s.reduce(function(u,d,f){var p=d.event,g=d.left,S=d.right,E=d.span,T="_lvl_"+f,v=g-l,w=Qr.renderEvent(r.props,p);return v&&u.push(Qr.renderSpan(a,v,"".concat(T,"_gap"))),u.push(Qr.renderSpan(a,E,T,w)),l=S+1,u},[]))}}])}(A.Component);T$.defaultProps=Be({},Qr.defaultProps);function b$(e){var t=e.dateRange,n=e.unit,r=n===void 0?"day":n,i=e.localizer;return{first:t[0],last:i.add(t[t.length-1],1,r)}}function xhe(e,t,n,r){var i=b$({dateRange:t,localizer:r}),s=i.first,a=i.last,o=r.diff(s,a,"day"),l=r.max(r.startOf(n.start(e),"day"),s),u=r.min(r.ceil(n.end(e),"day"),a),d=Ase(t,function(p){return r.isSameDate(p,l)}),f=r.diff(l,u,"day");return f=Math.min(f,o),f=Math.max(f-r.segmentOffset,1),{event:e,span:f,left:d+1,right:Math.max(d+f,1)}}function k$(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,i,s=[],a=[];for(n=0;n<e.length;n++){for(i=e[n],r=0;r<s.length&&Ihe(i,s[r]);r++);r>=t?a.push(i):(s[r]||(s[r]=[])).push(i)}for(n=0;n<s.length;n++)s[n].sort(function(o,l){return o.left-l.left});return{levels:s,extra:a}}function Zu(e,t,n,r,i){var s={start:r.start(e),end:r.end(e)},a={start:t,end:n};return i.inEventRange({event:s,range:a})}function Ihe(e,t){return t.some(function(n){return n.left<=e.right&&n.right>=e.left})}function Nhe(e,t,n){var r=Cf(e),i=[],s=[];r.forEach(function(l){var u=t.start(l),d=t.end(l);n.daySpan(u,d)>1?i.push(l):s.push(l)});var a=i.sort(function(l,u){return A0(l,u,t,n)}),o=s.sort(function(l,u){return A0(l,u,t,n)});return[].concat(Cf(a),Cf(o))}function A0(e,t,n,r){var i={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},s={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:i,evtB:s})}var D$=function(t,n){return t.left<=n&&t.right>=n},ix=function(t,n){return t.filter(function(r){return D$(r,n)}).map(function(r){return r.event})},C$=function(e){function t(){return Rt(this,t),vn(this,t,arguments)}return yn(t,e),Pt(t,[{key:"render",value:function(){for(var r=this.props,i=r.segments,s=r.slotMetrics.slots,a=k$(i).levels[0],o=1,l=1,u=[];o<=s;){var d="_lvl_"+o,f=a.filter(function(w){return D$(w,o)})[0]||{},p=f.event,g=f.left,S=f.right,E=f.span;if(!p){o++;continue}var T=Math.max(0,g-l);if(this.canRenderSlotEvent(g,E)){var v=Qr.renderEvent(this.props,p);T&&u.push(Qr.renderSpan(s,T,d+"_gap")),u.push(Qr.renderSpan(s,E,d,v)),l=o=S+1}else T&&u.push(Qr.renderSpan(s,T,d+"_gap")),u.push(Qr.renderSpan(s,1,d,this.renderShowMore(i,o))),l=o=o+1}return A.createElement("div",{className:"rbc-row"},u)}},{key:"canRenderSlotEvent",value:function(r,i){var s=this.props.segments;return Hse(r,r+i).every(function(a){var o=ix(s,a).length;return o===1})}},{key:"renderShowMore",value:function(r,i){var s=this,a=this.props,o=a.localizer,l=a.slotMetrics,u=a.components,d=l.getEventsForSlot(i),f=ix(r,i),p=f.length;if(u!=null&&u.showMore){var g=u.showMore,S=l.getDateForSlot(i-1);return p?A.createElement(g,{localizer:o,slotDate:S,slot:i,count:p,events:d,remainingEvents:f}):!1}return p?A.createElement("button",{type:"button",key:"sm_"+i,className:mt("rbc-button-link","rbc-show-more"),onClick:function(T){return s.showMore(i,T)}},o.messages.showMore(p,f,d)):!1}},{key:"showMore",value:function(r,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(r,i.target)}}])}(A.Component);C$.defaultProps=Be({},Qr.defaultProps);var Ohe=function(t){var n=t.children;return A.createElement("div",{className:"rbc-row-content-scroll-container"},n)},Mhe=function(t,n){return t.left<=n&&t.right>=n},Ahe=function(t,n){return t[0].range===n[0].range&&t[0].events===n[0].events};function x$(){return JP(function(e){for(var t=e.range,n=e.events,r=e.maxRows,i=e.minRows,s=e.accessors,a=e.localizer,o=b$({dateRange:t,localizer:a}),l=o.first,u=o.last,d=n.map(function(E){return xhe(E,t,s,a)}),f=k$(d,Math.max(r-1,1)),p=f.levels,g=f.extra,S=g.length>0?i-1:i;p.length<S;)p.push([]);return{first:l,last:u,levels:p,extra:g,range:t,slots:t.length,clone:function(T){var v=x$();return v(Be(Be({},e),T))},getDateForSlot:function(T){return t[T]},getSlotForDate:function(T){return t.find(function(v){return a.isSameDate(v,T)})},getEventsForSlot:function(T){return d.filter(function(v){return Mhe(v,T)}).map(function(v){return v.event})},continuesPrior:function(T){return a.continuesPrior(s.start(T),l)},continuesAfter:function(T){var v=s.start(T),w=s.end(T);return a.continuesAfter(v,w,u)}}},Ahe)}var ed=function(e){function t(){var n;Rt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=vn(this,t,[].concat(i)),n.handleSelectSlot=function(a){var o=n.props,l=o.range,u=o.onSelectSlot;u(l.slice(a.start,a.end+1),a)},n.handleShowMore=function(a,o){var l=n.props,u=l.range,d=l.onShowMore,f=n.slotMetrics(n.props),p=NQ(n.containerRef.current,".rbc-row-bg")[0],g;p&&(g=p.children[a-1]);var S=f.getEventsForSlot(a);d(S,u[a-1],g,a,o)},n.getContainer=function(){var a=n.props.container;return a?a():n.containerRef.current},n.renderHeadingCell=function(a,o){var l=n.props,u=l.renderHeader,d=l.getNow,f=l.localizer;return u({date:a,key:"header_".concat(o),className:mt("rbc-date-cell",f.isSameDate(a,d())&&"rbc-now")})},n.renderDummy=function(){var a=n.props,o=a.className,l=a.range,u=a.renderHeader,d=a.showAllEvents;return A.createElement("div",{className:o,ref:n.containerRef},A.createElement("div",{className:mt("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&A.createElement("div",{className:"rbc-row",ref:n.headingRowRef},l.map(n.renderHeadingCell)),A.createElement("div",{className:"rbc-row",ref:n.eventRowRef},A.createElement("div",{className:"rbc-row-segment"},A.createElement("div",{className:"rbc-event"},A.createElement("div",{className:"rbc-event-content"}," "))))))},n.containerRef=M.createRef(),n.headingRowRef=M.createRef(),n.eventRowRef=M.createRef(),n.slotMetrics=x$(),n}return yn(t,e),Pt(t,[{key:"getRowLimit",value:function(){var r,i=Oy(this.eventRowRef.current),s=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?Oy(this.headingRowRef.current):0,a=Oy(this.containerRef.current)-s;return Math.max(Math.floor(a/i),1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.rtl,a=r.range,o=r.className,l=r.selected,u=r.selectable,d=r.renderForMeasure,f=r.accessors,p=r.getters,g=r.components,S=r.getNow,E=r.renderHeader,T=r.onSelect,v=r.localizer,w=r.onSelectStart,b=r.onSelectEnd,D=r.onDoubleClick,C=r.onKeyPress,I=r.resourceId,N=r.longPressThreshold,O=r.isAllDay,P=r.resizable,x=r.showAllEvents;if(d)return this.renderDummy();var j=this.slotMetrics(this.props),K=j.levels,W=j.extra,ne=x?Ohe:Ni,q=g.weekWrapper,ee={selected:l,accessors:f,getters:p,localizer:v,components:g,onSelect:T,onDoubleClick:D,onKeyPress:C,resourceId:I,slotMetrics:j,resizable:P};return A.createElement("div",{className:o,role:"rowgroup",ref:this.containerRef},A.createElement(Che,{localizer:v,date:i,getNow:S,rtl:s,range:a,selectable:u,container:this.getContainer,getters:p,onSelectStart:w,onSelectEnd:b,onSelectSlot:this.handleSelectSlot,components:g,longPressThreshold:N,resourceId:I}),A.createElement("div",{className:mt("rbc-row-content",x&&"rbc-row-content-scrollable"),role:"row"},E&&A.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},a.map(this.renderHeadingCell)),A.createElement(ne,null,A.createElement(q,Object.assign({isAllDay:O},ee,{rtl:this.props.rtl}),K.map(function(de,B){return A.createElement(T$,Object.assign({key:B,segments:de},ee))}),!!W.length&&A.createElement(C$,Object.assign({segments:W,onShowMore:this.handleShowMore},ee))))))}}])}(A.Component);ed.defaultProps={minRows:0,maxRows:1/0};var rE=function(t){var n=t.label;return A.createElement("span",{role:"columnheader","aria-sort":"none"},n)},Rhe=function(t){var n=t.label,r=t.drilldownView,i=t.onDrillDown;return r?A.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},n):A.createElement("span",null,n)},Phe=["date","className"],$he=function(t,n,r,i,s){return t.filter(function(a){return Zu(a,n,r,i,s)})},Ng=function(e){function t(){var n;Rt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=vn(this,t,[].concat(i)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(a,o){var l=n.props,u=l.events,d=l.components,f=l.selectable,p=l.getNow,g=l.selected,S=l.date,E=l.localizer,T=l.longPressThreshold,v=l.accessors,w=l.getters,b=l.showAllEvents,D=n.state,C=D.needLimitMeasure,I=D.rowLimit,N=$he(Cf(u),a[0],a[a.length-1],v,E),O=Nhe(N,v,E);return A.createElement(ed,{key:o,ref:o===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:p,date:S,range:a,events:O,maxRows:b?1/0:I,selected:g,selectable:f,components:d,accessors:v,getters:w,localizer:E,renderHeader:n.readerDateHeading,renderForMeasure:C,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:T,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:b})},n.readerDateHeading=function(a){var o=a.date,l=a.className,u=di(a,Phe),d=n.props,f=d.date,p=d.getDrilldownView,g=d.localizer,S=g.neq(o,f,"month"),E=g.isSameDate(o,f),T=p(o),v=g.format(o,"dateFormat"),w=n.props.components.dateHeader||Rhe;return A.createElement("div",Object.assign({},u,{className:mt(l,S&&"rbc-off-range",E&&"rbc-current"),role:"cell"}),A.createElement(w,{label:v,date:o,drilldownView:T,isOffRange:S,onDrillDown:function(D){return n.handleHeadingClick(o,T,D)}}))},n.handleSelectSlot=function(a,o){n._pendingSelection=n._pendingSelection.concat(a),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(o)})},n.handleHeadingClick=function(a,o,l){l.preventDefault(),n.clearSelection(),Ze(n.props.onDrillDown,[a,o])},n.handleSelectEvent=function(){n.clearSelection();for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];Ze(n.props.onSelectEvent,o)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];Ze(n.props.onDoubleClickEvent,o)},n.handleKeyPressEvent=function(){n.clearSelection();for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];Ze(n.props.onKeyPressEvent,o)},n.handleShowMore=function(a,o,l,u,d){var f=n.props,p=f.popup,g=f.onDrillDown,S=f.onShowMore,E=f.getDrilldownView,T=f.doShowMoreDrillDown;if(n.clearSelection(),p){var v=DP(l,n.containerRef.current);n.setState({overlay:{date:o,events:a,position:v,target:d}})}else T&&Ze(g,[o,E(o)||Sn.DAY]);Ze(S,[a,o,u])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=M.createRef(),n.slotRowRef=M.createRef(),n._bgRows=[],n._pendingSelection=[],n}return yn(t,e),Pt(t,[{key:"componentDidMount",value:function(){var r=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||CP(function(){i=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,a=r.className,o=s.visibleDays(i,s),l=pQ(o,7);return this._weekCount=l.length,A.createElement("div",{className:mt("rbc-month-view",a),role:"table","aria-label":"Month View",ref:this.containerRef},A.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var i=this.props,s=i.localizer,a=i.components,o=r[0],l=r[r.length-1],u=a.header||rE;return s.range(o,l,"day").map(function(d,f){return A.createElement("div",{key:"header_"+f,className:"rbc-header"},A.createElement(u,{date:d,localizer:s,label:s.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,i,s=this,a=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},o=this.props,l=o.accessors,u=o.localizer,d=o.components,f=o.getters,p=o.selected,g=o.popupOffset,S=o.handleDragStart,E=function(){return s.setState({overlay:null})};return A.createElement(nE,{overlay:a,accessors:l,localizer:u,components:d,getters:f,selected:p,popupOffset:g,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:S,show:!!a.position,overlayDisplay:this.overlayDisplay,onHide:E})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(o,l){return+o-+l});var s=new Date(i[0]),a=new Date(i[i.length-1]);a.setDate(i[i.length-1].getDate()+1),Ze(this.props.onSelectSlot,{slots:i,start:s,end:a,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,i){var s=r.date,a=r.localizer;return{date:s,needLimitMeasure:a.neq(s,i.date,"month")}}}])}(A.Component);Ng.range=function(e,t){var n=t.localizer,r=n.firstVisibleDay(e,n),i=n.lastVisibleDay(e,n);return{start:r,end:i}};Ng.navigate=function(e,t,n){var r=n.localizer;switch(t){case Vn.PREVIOUS:return r.add(e,-1,"month");case Vn.NEXT:return r.add(e,1,"month");default:return e}};Ng.title=function(e,t){var n=t.localizer;return n.format(e,"monthHeaderFormat")};var sx=function(t){var n=t.min,r=t.max,i=t.step,s=t.slots,a=t.localizer;return"".concat(+a.startOf(n,"minutes"))+"".concat(+a.startOf(r,"minutes"))+"".concat(i,"-").concat(s)};function iE(e){for(var t=e.min,n=e.max,r=e.step,i=e.timeslots,s=e.localizer,a=sx({start:t,end:n,step:r,timeslots:i,localizer:s}),o=1+s.getTotalMin(t,n),l=s.getMinutesFromMidnight(t),u=Math.ceil((o-1)/(r*i)),d=u*i,f=new Array(u),p=new Array(d),g=0;g<u;g++){f[g]=new Array(i);for(var S=0;S<i;S++){var E=g*i+S,T=E*r;p[E]=f[g][S]=s.getSlotDate(t,l,T)}}var v=p.length*r;p.push(s.getSlotDate(t,l,v));function w(b){var D=s.diff(t,b,"minutes")+s.getDstOffset(t,b);return Math.min(D,o)}return{groups:f,update:function(D){return sx(D)!==a?iE(D):this},dateIsInGroup:function(D,C){var I=f[C+1];return s.inRange(D,f[C][0],I?I[0]:n,"minutes")},nextSlot:function(D){var C=p[Math.min(p.findIndex(function(I){return I===D||s.eq(I,D)})+1,p.length-1)];return s.eq(C,D)&&(C=s.add(D,r,"minutes")),C},closestSlotToPosition:function(D){var C=Math.min(p.length-1,Math.max(0,Math.floor(D*d)));return p[C]},closestSlotFromPoint:function(D,C){var I=Math.abs(C.top-C.bottom);return this.closestSlotToPosition((D.y-C.top)/I)},closestSlotFromDate:function(D){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s.lt(D,t,"minutes"))return p[0];if(s.gt(D,n,"minutes"))return p[p.length-1];var I=s.diff(t,D,"minutes");return p[(I-I%r)/r+C]},startsBeforeDay:function(D){return s.lt(D,t,"day")},startsAfterDay:function(D){return s.gt(D,n,"day")},startsBefore:function(D){return s.lt(s.merge(t,D),t,"minutes")},startsAfter:function(D){return s.gt(s.merge(n,D),n,"minutes")},getRange:function(D,C,I,N){I||(D=s.min(n,s.max(t,D))),N||(C=s.min(n,s.max(t,C)));var O=w(D),P=w(C),x=P>r*d&&!s.eq(n,C)?(O-r)/(r*d)*100:O/(r*d)*100;return{top:x,height:P/(r*d)*100-x,start:w(D),startDate:D,end:w(C),endDate:C}},getCurrentTimePosition:function(D){var C=w(D),I=C/(r*d)*100;return I}}}var Lhe=function(){function e(t,n){var r=n.accessors,i=n.slotMetrics;Rt(this,e);var s=i.getRange(r.start(t),r.end(t)),a=s.start,o=s.startDate,l=s.end,u=s.endDate,d=s.top,f=s.height;this.start=a,this.end=l,this.startMs=+o,this.endMs=+u,this.top=d,this.height=f,this.data=t}return Pt(e,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(i,s){return Math.max(i,s.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var i=this.row.leaves,s=i.indexOf(this);return s===i.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,i=n.xOffset,s=n._width,a=r.indexOf(this)+1;return i+a*s}}])}();function jhe(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function Fhe(e){for(var t=doe(e,["startMs",function(o){return-o.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var i=0;i<t.length;i++){var s=t[i];if(!(r.endMs>s.startMs)){if(i>0){var a=t.splice(i,1)[0];n.push(a)}break}}}return n}function I$(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,i=e.accessors,s=t.map(function(d){return new Lhe(d,{slotMetrics:r,accessors:i})}),a=Fhe(s),o=[],l=function(){var f=a[u],p=o.find(function(E){return E.end>f.start||Math.abs(f.start-E.start)<n});if(!p)return f.rows=[],o.push(f),1;f.container=p;for(var g=null,S=p.rows.length-1;!g&&S>=0;S--)jhe(p.rows[S],f,n)&&(g=p.rows[S]);g?(g.leaves.push(f),f.row=g):(f.leaves=[],p.rows.push(f))},u=0;u<a.length;u++)l();return a.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function N$(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var i=N$(e.friends[r],t,n);t=t>i?t:i}return t}function Uhe(e){var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,i=e.accessors,s=I$({events:t,minimumStartDifference:n,slotMetrics:r,accessors:i});s.sort(function(q,ee){return q=q.style,ee=ee.style,q.top!==ee.top?q.top>ee.top?1:-1:q.height!==ee.height?q.top+q.height<ee.top+ee.height?1:-1:0});for(var a=0;a<s.length;++a)s[a].friends=[],delete s[a].style.left,delete s[a].style.left,delete s[a].idx,delete s[a].size;for(var o=0;o<s.length-1;++o)for(var l=s[o],u=l.style.top,d=l.style.top+l.style.height,f=o+1;f<s.length;++f){var p=s[f],g=p.style.top,S=p.style.top+p.style.height;(g>=u&&S<=d||S>u&&S<=d||g>=u&&g<d)&&(l.friends.push(p),p.friends.push(l))}for(var E=0;E<s.length;++E){for(var T=s[E],v=[],w=0;w<100;++w)v.push(1);for(var b=0;b<T.friends.length;++b)T.friends[b].idx!==void 0&&(v[T.friends[b].idx]=0);T.idx=v.indexOf(1)}for(var D=0;D<s.length;++D){var C=0;if(!s[D].size){var I=[],N=N$(s[D],0,I);C=100/(N+1),s[D].size=C;for(var O=0;O<I.length;++O)I[O].size=C}}for(var P=0;P<s.length;++P){var x=s[P];x.style.left=x.idx*x.size;for(var j=0,K=0;K<x.friends.length;++K){var W=x.friends[K].idx;j=j>W?j:W}j<=x.idx&&(x.size=100-x.idx*x.size);var ne=x.idx===0?0:3;x.style.width="calc(".concat(x.size,"% - ").concat(ne,"px)"),x.style.height="calc(".concat(x.style.height,"% - 2px)"),x.style.xOffset="calc(".concat(x.style.left,"% + ").concat(ne,"px)")}return s}var ax={overlap:I$,"no-overlap":Uhe};function zhe(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Vhe(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,n=t;return t in ax&&(n=ax[t]),zhe(n)?n.apply(this,arguments):[]}var O$=function(e){function t(){return Rt(this,t),vn(this,t,arguments)}return yn(t,e),Pt(t,[{key:"render",value:function(){var r=this.props,i=r.renderSlot,s=r.resource,a=r.group,o=r.getters,l=r.components,u=l===void 0?{}:l,d=u.timeSlotWrapper,f=d===void 0?Ni:d,p=o?o.slotGroupProp(a):{};return A.createElement("div",Object.assign({className:"rbc-timeslot-group"},p),a.map(function(g,S){var E=o?o.slotProp(g,s):{};return A.createElement(f,{key:S,value:g,resource:s},A.createElement("div",Object.assign({},E,{className:mt("rbc-time-slot",E.className)}),i&&i(g,S)))}))}}])}(M.Component);function tf(e){return typeof e=="string"?e:e+"%"}function Yhe(e){var t=e.style,n=e.className,r=e.event,i=e.accessors,s=e.rtl,a=e.selected,o=e.label,l=e.continuesPrior,u=e.continuesAfter,d=e.getters,f=e.onClick,p=e.onDoubleClick,g=e.isBackgroundEvent,S=e.onKeyPress,E=e.components,T=E.event,v=E.eventWrapper,w=i.title(r),b=i.tooltip(r),D=i.end(r),C=i.start(r),I=d.eventProp(r,C,D,a),N=[A.createElement("div",{key:"1",className:"rbc-event-label"},o),A.createElement("div",{key:"2",className:"rbc-event-content"},T?A.createElement(T,{event:r,title:w}):w)],O=t.height,P=t.top,x=t.width,j=t.xOffset,K=Be(Be({},I.style),{},ga({top:tf(P),height:tf(O),width:tf(x)},s?"right":"left",tf(j)));return A.createElement(v,Object.assign({type:"time"},e),A.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:p,style:K,onKeyDown:S,title:b?(typeof o=="string"?o+": ":"")+b:void 0,className:mt(g?"rbc-background-event":"rbc-event",n,I.className,{"rbc-selected":a,"rbc-event-continues-earlier":l,"rbc-event-continues-later":u})},N))}var Whe=function(t){var n=t.children,r=t.className,i=t.style,s=t.innerRef;return A.createElement("div",{className:r,style:i,ref:s},n)},Hhe=A.forwardRef(function(e,t){return A.createElement(Whe,Object.assign({},e,{innerRef:t}))}),Bhe=["dayProp"],Ghe=["eventContainerWrapper"],M$=function(e){function t(){var n;Rt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=vn(this,t,[].concat(i)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(a){var o=a.events,l=a.isBackgroundEvent,u=n.props,d=u.rtl,f=u.selected,p=u.accessors,g=u.localizer,S=u.getters,E=u.components,T=u.step,v=u.timeslots,w=u.dayLayoutAlgorithm,b=u.resizable,D=n,C=D.slotMetrics,I=g.messages,N=Vhe({events:o,accessors:p,slotMetrics:C,minimumStartDifference:Math.ceil(T*v/2),dayLayoutAlgorithm:w});return N.map(function(O,P){var x,j=O.event,K=O.style,W=p.end(j),ne=p.start(j),q=(x=p.eventId(j))!==null&&x!==void 0?x:"evt_"+P,ee="eventTimeRangeFormat",de,B=C.startsBeforeDay(ne),Y=C.startsAfterDay(W);B?ee="eventTimeRangeEndFormat":Y&&(ee="eventTimeRangeStartFormat"),B&&Y?de=I.allDay:de=g.format({start:ne,end:W},ee);var V=B||C.startsBefore(ne),$=Y||C.startsAfter(W);return A.createElement(Yhe,{style:K,event:j,label:de,key:q,getters:S,rtl:d,components:E,continuesPrior:V,continuesAfter:$,accessors:p,resource:n.props.resource,selected:Ig(j,f),onClick:function(z){return n._select(Be(Be(Be({},j),n.props.resource&&{sourceResource:n.props.resource}),l&&{isBackgroundEvent:!0}),z)},onDoubleClick:function(z){return n._doubleClick(j,z)},isBackgroundEvent:l,onKeyPress:function(z){return n._keyPress(j,z)},resizable:b})})},n._selectable=function(){var a=n.containerRef.current,o=n.props,l=o.longPressThreshold,u=o.localizer,d=n._selector=new E$(function(){return a},{longPressThreshold:l}),f=function(E){var T=n.props.onSelecting,v=n.state||{},w=p(E),b=w.startDate,D=w.endDate;T&&(u.eq(v.startDate,b,"minutes")&&u.eq(v.endDate,D,"minutes")||T({start:b,end:D,resourceId:n.props.resource})===!1)||(n.state.start!==w.start||n.state.end!==w.end||n.state.selecting!==w.selecting)&&n.setState(w)},p=function(E){var T=n.slotMetrics.closestSlotFromPoint(E,Ja(a));n.state.selecting||(n._initialSlot=T);var v=n._initialSlot;u.lte(v,T)?T=n.slotMetrics.nextSlot(T):u.gt(v,T)&&(v=n.slotMetrics.nextSlot(v));var w=n.slotMetrics.getRange(u.min(v,T),u.max(v,T));return Be(Be({},w),{},{selecting:!0,top:"".concat(w.top,"%"),height:"".concat(w.height,"%")})},g=function(E,T){if(!Wp(n.containerRef.current,E)){var v=p(E),w=v.startDate,b=v.endDate;n._selectSlot({startDate:w,endDate:b,action:T,box:E})}n.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(S){if(n.props.selectable==="ignoreEvents")return!Wp(n.containerRef.current,S)}),d.on("click",function(S){return g(S,"click")}),d.on("doubleClick",function(S){return g(S,"doubleClick")}),d.on("select",function(S){n.state.selecting&&(n._selectSlot(Be(Be({},n.state),{},{action:"select",bounds:S})),n.setState({selecting:!1}))}),d.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(a){for(var o=a.startDate,l=a.endDate,u=a.action,d=a.bounds,f=a.box,p=o,g=[];n.props.localizer.lte(p,l);)g.push(p),p=new Date(+p+n.props.step*60*1e3);Ze(n.props.onSelectSlot,{slots:g,start:o,end:l,resourceId:n.props.resource,action:u,bounds:d,box:f})},n._select=function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];Ze(n.props.onSelectEvent,o)},n._doubleClick=function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];Ze(n.props.onDoubleClickEvent,o)},n._keyPress=function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];Ze(n.props.onKeyPressEvent,o)},n.slotMetrics=iE(n.props),n.containerRef=M.createRef(),n}return yn(t,e),Pt(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,i){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var s=this.props,a=s.getNow,o=s.isNow,l=s.localizer,u=s.date,d=s.min,f=s.max,p=l.neq(r.getNow(),a(),"minutes");if(r.isNow!==o||p){if(this.clearTimeIndicatorInterval(),o){var g=!p&&l.eq(r.date,u,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(g)}}else o&&(l.neq(r.min,d,"minutes")||l.neq(r.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,i=r.min,s=r.max,a=r.getNow,o=a();if(o>=i&&o<=s){var l=this.slotMetrics.getCurrentTimePosition(o);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.max,a=r.rtl,o=r.isNow,l=r.resource,u=r.accessors,d=r.localizer,f=r.getters,p=f.dayProp,g=di(f,Bhe),S=r.components,E=S.eventContainerWrapper,T=di(S,Ghe);this.slotMetrics=this.slotMetrics.update(this.props);var v=this.slotMetrics,w=this.state,b=w.selecting,D=w.top,C=w.height,I=w.startDate,N=w.endDate,O={start:I,end:N},P=p(s,l),x=P.className,j=P.style,K=T.dayColumnWrapper||Hhe;return A.createElement(K,{ref:this.containerRef,date:i,style:j,className:mt(x,"rbc-day-slot","rbc-time-column",o&&"rbc-now",o&&"rbc-today",b&&"rbc-slot-selecting"),slotMetrics:v,resource:l},v.groups.map(function(W,ne){return A.createElement(O$,{key:ne,group:W,resource:l,getters:g,components:T})}),A.createElement(E,{localizer:d,resource:l,accessors:u,getters:g,components:T,slotMetrics:v},A.createElement("div",{className:mt("rbc-events-container",a&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),b&&A.createElement("div",{className:"rbc-slot-selection",style:{top:D,height:C}},A.createElement("span",null,d.format(O,"selectRangeFormat"))),o&&this.intervalTriggered&&A.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}])}(A.Component);M$.defaultProps={dragThroughEvents:!0,timeslots:2};var A$=function(t){var n=t.label;return A.createElement(A.Fragment,null,n)},qhe=function(e){function t(){var n;Rt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=vn(this,t,[].concat(i)),n.handleHeaderClick=function(a,o,l){l.preventDefault(),Ze(n.props.onDrillDown,[a,o])},n.renderRow=function(a){var o=n.props,l=o.events,u=o.rtl,d=o.selectable,f=o.getNow,p=o.range,g=o.getters,S=o.localizer,E=o.accessors,T=o.components,v=o.resizable,w=E.resourceId(a),b=a?l.filter(function(D){return E.resource(D)===w}):l;return A.createElement(ed,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:n.props.allDayMaxRows+1,range:p,events:b,resourceId:w,className:"rbc-allday-cell",selectable:d,selected:n.props.selected,components:T,accessors:E,getters:g,localizer:S,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:v})},n}return yn(t,e),Pt(t,[{key:"renderHeaderCells",value:function(r){var i=this,s=this.props,a=s.localizer,o=s.getDrilldownView,l=s.getNow,u=s.getters.dayProp,d=s.components.header,f=d===void 0?rE:d,p=l();return r.map(function(g,S){var E=o(g),T=a.format(g,"dayFormat"),v=u(g),w=v.className,b=v.style,D=A.createElement(f,{date:g,label:T,localizer:a});return A.createElement("div",{key:S,style:b,className:mt("rbc-header",w,a.isSameDate(g,p)&&"rbc-today")},E?A.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(I){return i.handleHeaderClick(g,E,I)}},D):A.createElement("span",null,D))})}},{key:"render",value:function(){var r=this,i=this.props,s=i.width,a=i.rtl,o=i.resources,l=i.range,u=i.events,d=i.getNow,f=i.accessors,p=i.selectable,g=i.components,S=i.getters,E=i.scrollRef,T=i.localizer,v=i.isOverflowing,w=i.components,b=w.timeGutterHeader,D=w.resourceHeader,C=D===void 0?A$:D,I=i.resizable,N={};v&&(N[a?"marginLeft":"marginRight"]="".concat($S()-1,"px"));var O=o.groupEvents(u);return A.createElement("div",{style:N,ref:E,className:mt("rbc-time-header",v&&"rbc-overflowing")},A.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},b&&A.createElement(b,null)),o.map(function(P,x){var j=ur(P,2),K=j[0],W=j[1];return A.createElement("div",{className:"rbc-time-header-content",key:K||x},W&&A.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(x)},A.createElement("div",{className:"rbc-header"},A.createElement(C,{index:x,label:f.resourceTitle(W),resource:W}))),A.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(l)),A.createElement(ed,{isAllDay:!0,rtl:a,getNow:d,minRows:2,maxRows:r.props.allDayMaxRows+1,range:l,events:O.get(K)||[],resourceId:W&&K,className:"rbc-allday-cell",selectable:p,selected:r.props.selected,components:g,accessors:f,getters:S,localizer:T,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:I}))}))}}])}(A.Component),Khe=function(e){function t(){var n;Rt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=vn(this,t,[].concat(i)),n.handleHeaderClick=function(a,o,l){l.preventDefault(),Ze(n.props.onDrillDown,[a,o])},n}return yn(t,e),Pt(t,[{key:"renderHeaderCells",value:function(r){var i=this,s=this.props,a=s.localizer,o=s.getDrilldownView,l=s.getNow,u=s.getters.dayProp,d=s.components,f=d.header,p=f===void 0?rE:f,g=d.resourceHeader,S=g===void 0?A$:g,E=s.resources,T=s.accessors,v=s.events,w=s.rtl,b=s.selectable,D=s.components,C=s.getters,I=s.resizable,N=l(),O=E.groupEvents(v);return r.map(function(P,x){var j=o(P),K=a.format(P,"dayFormat"),W=u(P),ne=W.className,q=W.style,ee=A.createElement(p,{date:P,label:K,localizer:a});return A.createElement("div",{key:x,className:"rbc-time-header-content rbc-resource-grouping"},A.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},A.createElement("div",{style:q,className:mt("rbc-header",ne,a.isSameDate(P,N)&&"rbc-today")},j?A.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(B){return i.handleHeaderClick(P,j,B)}},ee):A.createElement("span",null,ee))),A.createElement("div",{className:"rbc-row"},E.map(function(de,B){var Y=ur(de,2),V=Y[0],$=Y[1];return A.createElement("div",{key:"resource_".concat(V,"_").concat(B),className:mt("rbc-header",ne,a.isSameDate(P,N)&&"rbc-today")},A.createElement(S,{index:B,label:T.resourceTitle($),resource:$}))})),A.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},E.map(function(de,B){var Y=ur(de,2),V=Y[0],$=Y[1],L=(O.get(V)||[]).filter(function(z){return a.isSameDate(z.start,P)||a.isSameDate(z.end,P)});return A.createElement(ed,{key:"resource_".concat(V,"_").concat(B),isAllDay:!0,rtl:w,getNow:l,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[P],events:L,resourceId:$&&V,className:"rbc-allday-cell",selectable:b,selected:i.props.selected,components:D,accessors:T,getters:C,localizer:a,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:I})})))})}},{key:"render",value:function(){var r=this.props,i=r.width,s=r.rtl,a=r.range,o=r.scrollRef,l=r.isOverflowing,u=r.components.timeGutterHeader,d={};return l&&(d[s?"marginLeft":"marginRight"]="".concat($S()-1,"px")),A.createElement("div",{style:d,ref:o,className:mt("rbc-time-header",l&&"rbc-overflowing")},A.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},u&&A.createElement(u,null)),this.renderHeaderCells(a))}}])}(A.Component);function Qhe(e){var t=e.min,n=e.max,r=e.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(n)?{start:r.add(t,-1,"day"),end:r.add(n,-1,"day")}:{start:t,end:n}}var Xhe=function(t){var n=t.min,r=t.max,i=t.timeslots,s=t.step,a=t.localizer,o=t.getNow,l=t.resource,u=t.components,d=t.getters,f=t.gutterRef,p=u.timeGutterWrapper,g=M.useMemo(function(){return Qhe({min:n,max:r,localizer:a})},[n==null?void 0:n.toISOString(),r==null?void 0:r.toISOString(),a]),S=g.start,E=g.end,T=M.useState(iE({min:S,max:E,timeslots:i,step:s,localizer:a})),v=ur(T,2),w=v[0],b=v[1];M.useEffect(function(){w&&b(w.update({min:S,max:E,timeslots:i,step:s,localizer:a}))},[S==null?void 0:S.toISOString(),E==null?void 0:E.toISOString(),i,s]);var D=M.useCallback(function(C,I){if(I)return null;var N=w.dateIsInGroup(o(),I);return A.createElement("span",{className:mt("rbc-label",N&&"rbc-now")},a.format(C,"timeGutterFormat"))},[w,a,o]);return A.createElement(p,{slotMetrics:w},A.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},w.groups.map(function(C,I){return A.createElement(O$,{key:I,group:C,resource:l,components:u,renderSlot:D,getters:d})})))},Jhe=A.forwardRef(function(e,t){return A.createElement(Xhe,Object.assign({gutterRef:t},e))}),Ry={};function Zhe(e,t){return{map:function(r){return e?e.map(function(i,s){return r([t.resourceId(i),i],s)}):[r([Ry,null],0)]},groupEvents:function(r){var i=new Map;return e?(r.forEach(function(s){var a=t.resource(s)||Ry;if(Array.isArray(a))a.forEach(function(l){var u=i.get(l)||[];u.push(s),i.set(l,u)});else{var o=i.get(a)||[];o.push(s),i.set(a,o)}}),i):(i.set(Ry,r),i)}}}var Xl=function(e){function t(n){var r;return Rt(this,t),r=vn(this,t,[n]),r.handleScroll=function(i){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=i.target.scrollLeft)},r.handleResize=function(){HD(r.rafHandle),r.rafHandle=CP(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];Ze(r.props.onKeyPressEvent,s)},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];Ze(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];Ze(r.props.onDoubleClickEvent,s)},r.handleShowMore=function(i,s,a,o,l){var u=r.props,d=u.popup,f=u.onDrillDown,p=u.onShowMore,g=u.getDrilldownView,S=u.doShowMoreDrillDown;if(r.clearSelection(),d){var E=DP(a,r.containerRef.current);r.setState({overlay:{date:s,events:i,position:Be(Be({},E),{},{width:"200px"}),target:l}})}else S&&Ze(f,[s,g(s)||Sn.DAY]);Ze(p,[i,s,o])},r.handleSelectAllDaySlot=function(i,s){var a=r.props.onSelectSlot,o=new Date(i[0]),l=new Date(i[i.length-1]);l.setDate(i[i.length-1].getDate()+1),Ze(a,{slots:i,start:o,end:l,action:s.action,resourceId:s.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var i=r.contentRef.current;if(i!=null&&i.scrollHeight){var s=i.scrollHeight>i.clientHeight;r.state.isOverflowing!==s&&(r._updatingOverflow=!0,r.setState({isOverflowing:s},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=JP(function(i,s){return Zhe(i,s)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=A.createRef(),r.contentRef=A.createRef(),r.containerRef=A.createRef(),r._scrollRatio=null,r.gutterRef=M.createRef(),r}return yn(t,e),Pt(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),HD(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,i,s,a,o,l,u,d,f,p){var g=this.props,S=g.min,E=g.max,T=(a.get(i)||[]).filter(function(w){return l.inRange(r,u.start(w),u.end(w),"day")}),v=(o.get(i)||[]).filter(function(w){return l.inRange(r,u.start(w),u.end(w),"day")});return A.createElement(M$,Object.assign({},this.props,{localizer:l,min:l.merge(r,S),max:l.merge(r,E),resource:s&&i,components:d,isNow:l.isSameDate(r,p),key:"".concat(i,"-").concat(r),date:r,events:T,backgroundEvents:v,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(r,i,s,a,o,l,u,d,f){var p=this;return i.map(function(g){var S=ur(g,2),E=S[0],T=S[1];return r.map(function(v){return p.renderDayColumn(v,E,T,s,a,o,l,d,f,u)})})}},{key:"renderRangeFirst",value:function(r,i,s,a,o,l,u,d,f){var p=this;return r.map(function(g){return A.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:g},i.map(function(S){var E=ur(S,2),T=E[0],v=E[1];return A.createElement("div",{style:{flex:1},key:l.resourceId(v)},p.renderDayColumn(g,T,v,s,a,o,l,d,f,u))}))})}},{key:"renderEvents",value:function(r,i,s,a){var o=this.props,l=o.accessors,u=o.localizer,d=o.resourceGroupingLayout,f=o.components,p=o.dayLayoutAlgorithm,g=this.memoizedResources(this.props.resources,l),S=g.groupEvents(i),E=g.groupEvents(s);return d?this.renderRangeFirst(r,g,S,E,u,l,a,f,p):this.renderResourcesFirst(r,g,S,E,u,l,a,f,p)}},{key:"render",value:function(){var r,i=this.props,s=i.events,a=i.backgroundEvents,o=i.range,l=i.width,u=i.rtl,d=i.selected,f=i.getNow,p=i.resources,g=i.components,S=i.accessors,E=i.getters,T=i.localizer,v=i.min,w=i.max,b=i.showMultiDayTimes,D=i.longPressThreshold,C=i.resizable,I=i.resourceGroupingLayout;l=l||this.state.gutterWidth;var N=o[0],O=o[o.length-1];this.slots=o.length;var P=[],x=[],j=[];s.forEach(function(W){if(Zu(W,N,O,S,T)){var ne=S.start(W),q=S.end(W);S.allDay(W)||T.startAndEndAreDateOnly(ne,q)||!b&&!T.isSameDate(ne,q)?P.push(W):x.push(W)}}),a.forEach(function(W){Zu(W,N,O,S,T)&&j.push(W)}),P.sort(function(W,ne){return A0(W,ne,S,T)});var K={range:o,events:P,width:l,rtl:u,getNow:f,localizer:T,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(p,S),selectable:this.props.selectable,accessors:S,getters:E,components:g,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:D,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:C};return A.createElement("div",{className:mt("rbc-time-view",p&&"rbc-time-view-resources"),ref:this.containerRef},p&&p.length>1&&I?A.createElement(Khe,K):A.createElement(qhe,K),this.props.popup&&this.renderOverlay(),A.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},A.createElement(Jhe,{date:N,ref:this.gutterRef,localizer:T,min:T.merge(N,v),max:T.merge(N,w),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:g,className:"rbc-time-gutter",getters:E}),this.renderEvents(o,x,j,f())))}},{key:"renderOverlay",value:function(){var r,i,s=this,a=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},o=this.props,l=o.accessors,u=o.localizer,d=o.components,f=o.getters,p=o.selected,g=o.popupOffset,S=o.handleDragStart,E=function(){return s.setState({overlay:null})};return A.createElement(nE,{overlay:a,accessors:l,localizer:u,components:d,getters:f,selected:p,popupOffset:g,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:S,show:!!a.position,overlayDisplay:this.overlayDisplay,onHide:E})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,s=(i=r.gutterRef)!==null&&i!==void 0&&i.current?O0(r.gutterRef.current):void 0;s&&r.state.gutterWidth!==s&&r.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=r.min,s=r.max,a=r.scrollToTime,o=r.localizer,l=o.diff(o.merge(a,i),a,"milliseconds"),u=o.diff(i,s,"milliseconds");this._scrollRatio=l/u}}])}(M.Component);Xl.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var efe=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Og=function(e){function t(){return Rt(this,t),vn(this,t,arguments)}return yn(t,e),Pt(t,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,a=r.min,o=a===void 0?s.startOf(new Date,"day"):a,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,d=r.scrollToTime,f=d===void 0?s.startOf(new Date,"day"):d,p=r.enableAutoScroll,g=p===void 0?!0:p,S=di(r,efe),E=t.range(i,{localizer:s});return A.createElement(Xl,Object.assign({},S,{range:E,eventOffset:10,localizer:s,min:o,max:u,scrollToTime:f,enableAutoScroll:g}))}}])}(A.Component);Og.range=function(e,t){var n=t.localizer;return[n.startOf(e,"day")]};Og.navigate=function(e,t,n){var r=n.localizer;switch(t){case Vn.PREVIOUS:return r.add(e,-1,"day");case Vn.NEXT:return r.add(e,1,"day");default:return e}};Og.title=function(e,t){var n=t.localizer;return n.format(e,"dayHeaderFormat")};var tfe=["date","localizer","min","max","scrollToTime","enableAutoScroll"],qs=function(e){function t(){return Rt(this,t),vn(this,t,arguments)}return yn(t,e),Pt(t,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,a=r.min,o=a===void 0?s.startOf(new Date,"day"):a,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,d=r.scrollToTime,f=d===void 0?s.startOf(new Date,"day"):d,p=r.enableAutoScroll,g=p===void 0?!0:p,S=di(r,tfe),E=t.range(i,this.props);return A.createElement(Xl,Object.assign({},S,{range:E,eventOffset:15,localizer:s,min:o,max:u,scrollToTime:f,enableAutoScroll:g}))}}])}(A.Component);qs.defaultProps=Xl.defaultProps;qs.navigate=function(e,t,n){var r=n.localizer;switch(t){case Vn.PREVIOUS:return r.add(e,-1,"week");case Vn.NEXT:return r.add(e,1,"week");default:return e}};qs.range=function(e,t){var n=t.localizer,r=n.startOfWeek(),i=n.startOf(e,"week",r),s=n.endOf(e,"week",r);return n.range(i,s)};qs.title=function(e,t){var n=t.localizer,r=qs.range(e,{localizer:n}),i=s$(r),s=i[0],a=i.slice(1);return n.format({start:s,end:a.pop()},"dayRangeHeaderFormat")};var nfe=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function sE(e,t){return qs.range(e,t).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var qd=function(e){function t(){return Rt(this,t),vn(this,t,arguments)}return yn(t,e),Pt(t,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,a=r.min,o=a===void 0?s.startOf(new Date,"day"):a,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,d=r.scrollToTime,f=d===void 0?s.startOf(new Date,"day"):d,p=r.enableAutoScroll,g=p===void 0?!0:p,S=di(r,nfe),E=sE(i,this.props);return A.createElement(Xl,Object.assign({},S,{range:E,eventOffset:15,localizer:s,min:o,max:u,scrollToTime:f,enableAutoScroll:g}))}}])}(A.Component);qd.defaultProps=Xl.defaultProps;qd.range=sE;qd.navigate=qs.navigate;qd.title=function(e,t){var n=t.localizer,r=sE(e,{localizer:n}),i=s$(r),s=i[0],a=i.slice(1);return n.format({start:s,end:a.pop()},"dayRangeHeaderFormat")};var Mg=30;function Ag(e){var t=e.accessors,n=e.components,r=e.date,i=e.events,s=e.getters,a=e.length,o=a===void 0?Mg:a,l=e.localizer,u=e.onDoubleClickEvent,d=e.onSelectEvent,f=e.selected,p=M.useRef(null),g=M.useRef(null),S=M.useRef(null),E=M.useRef(null),T=M.useRef(null);M.useEffect(function(){b()});var v=function(O,P,x){var j=n.event,K=n.date;return P=P.filter(function(W){return Zu(W,l.startOf(O,"day"),l.endOf(O,"day"),t,l)}),P.map(function(W,ne){var q=t.title(W),ee=t.end(W),de=t.start(W),B=s.eventProp(W,de,ee,Ig(W,f)),Y=ne===0&&l.format(O,"agendaDateFormat"),V=ne===0?A.createElement("td",{rowSpan:P.length,className:"rbc-agenda-date-cell"},K?A.createElement(K,{day:O,label:Y}):Y):!1;return A.createElement("tr",{key:x+"_"+ne,className:B.className,style:B.style},V,A.createElement("td",{className:"rbc-agenda-time-cell"},w(O,W)),A.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(L){return d&&d(W,L)},onDoubleClick:function(L){return u&&u(W,L)}},j?A.createElement(j,{event:W,title:q}):q))},[])},w=function(O,P){var x="",j=n.time,K=l.messages.allDay,W=t.end(P),ne=t.start(P);return t.allDay(P)||(l.eq(ne,W)?K=l.format(ne,"agendaTimeFormat"):l.isSameDate(ne,W)?K=l.format({start:ne,end:W},"agendaTimeRangeFormat"):l.isSameDate(O,ne)?K=l.format(ne,"agendaTimeFormat"):l.isSameDate(O,W)&&(K=l.format(W,"agendaTimeFormat"))),l.gt(O,ne,"day")&&(x="rbc-continues-prior"),l.lt(O,W,"day")&&(x+=" rbc-continues-after"),A.createElement("span",{className:x.trim()},j?A.createElement(j,{event:P,day:O,label:K}):K)},b=function(){if(T.current){var O=p.current,P=T.current.firstChild;if(P){var x=E.current.scrollHeight>E.current.clientHeight,j=[],K=j;j=[O0(P.children[0]),O0(P.children[1])],(K[0]!==j[0]||K[1]!==j[1])&&(g.current.style.width=j[0]+"px",S.current.style.width=j[1]+"px"),x?(tJ(O,"rbc-header-overflowing"),O.style.marginRight=$S()+"px"):nJ(O,"rbc-header-overflowing")}}},D=l.messages,C=l.add(r,o,"day"),I=l.range(r,C,"day");return i=i.filter(function(N){return Zu(N,l.startOf(r,"day"),l.endOf(C,"day"),t,l)}),i.sort(function(N,O){return+t.start(N)-+t.start(O)}),A.createElement("div",{className:"rbc-agenda-view"},i.length!==0?A.createElement(A.Fragment,null,A.createElement("table",{ref:p,className:"rbc-agenda-table"},A.createElement("thead",null,A.createElement("tr",null,A.createElement("th",{className:"rbc-header",ref:g},D.date),A.createElement("th",{className:"rbc-header",ref:S},D.time),A.createElement("th",{className:"rbc-header"},D.event)))),A.createElement("div",{className:"rbc-agenda-content",ref:E},A.createElement("table",{className:"rbc-agenda-table"},A.createElement("tbody",{ref:T},I.map(function(N,O){return v(N,i,O)}))))):A.createElement("span",{className:"rbc-agenda-empty"},D.noEventsInRange))}Ag.range=function(e,t){var n=t.length,r=n===void 0?Mg:n,i=t.localizer,s=i.add(e,r,"day");return{start:e,end:s}};Ag.navigate=function(e,t,n){var r=n.length,i=r===void 0?Mg:r,s=n.localizer;switch(t){case Vn.PREVIOUS:return s.add(e,-i,"day");case Vn.NEXT:return s.add(e,i,"day");default:return e}};Ag.title=function(e,t){var n=t.length,r=n===void 0?Mg:n,i=t.localizer,s=i.add(e,r,"day");return i.format({start:e,end:s},"agendaHeaderFormat")};var Nf=ga(ga(ga(ga(ga({},Sn.MONTH,Ng),Sn.WEEK,qs),Sn.WORK_WEEK,qd),Sn.DAY,Og),Sn.AGENDA,Ag),rfe=["action","date","today"];function ife(e,t){var n=t.action,r=t.date,i=t.today,s=di(t,rfe);switch(e=typeof e=="string"?Nf[e]:e,n){case Vn.TODAY:r=i||new Date;break;case Vn.DATE:break;default:zu(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=e.navigate(r,n,s)}return r}function sfe(e,t){var n=null;return typeof t=="function"?n=t(e):typeof t=="string"&&es(e)==="object"&&e!=null&&t in e&&(n=e[t]),n}var Ci=function(t){return function(n){return sfe(n,t)}},afe=["view","date","getNow","onNavigate"],ofe=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function R$(e){if(Array.isArray(e))return e;for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=ur(r[n],2),s=i[0],a=i[1];a&&t.push(s)}return t}function lfe(e,t){var n=t.views,r=R$(n);return r.indexOf(e)!==-1}var P$=function(e){function t(){var n;Rt(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=vn(this,t,[].concat(i)),n.getViews=function(){var a=n.props.views;return Array.isArray(a)?Fde(a,function(o,l){return o[l]=Nf[l]},{}):es(a)==="object"?Foe(a,function(o,l){return o===!0?Nf[l]:o}):Nf},n.getView=function(){var a=n.getViews();return a[n.props.view]},n.getDrilldownView=function(a){var o=n.props,l=o.view,u=o.drilldownView,d=o.getDrilldownView;return d?d(a,l,Object.keys(n.getViews())):u},n.handleRangeChange=function(a,o,l){var u=n.props,d=u.onRangeChange,f=u.localizer;d&&o.range&&d(o.range(a,{localizer:f}),l)},n.handleNavigate=function(a,o){var l=n.props,u=l.view,d=l.date,f=l.getNow,p=l.onNavigate,g=di(l,afe),S=n.getView(),E=f();d=ife(S,Be(Be({},g),{},{action:a,date:o||d||E,today:E})),p(d,u,a),n.handleRangeChange(d,S)},n.handleViewChange=function(a){a!==n.props.view&&lfe(a,n.props)&&n.props.onView(a);var o=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),o[a],a)},n.handleSelectEvent=function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];Ze(n.props.onSelectEvent,o)},n.handleDoubleClickEvent=function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];Ze(n.props.onDoubleClickEvent,o)},n.handleKeyPressEvent=function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];Ze(n.props.onKeyPressEvent,o)},n.handleSelectSlot=function(a){Ze(n.props.onSelectSlot,a)},n.handleDrillDown=function(a,o){var l=n.props.onDrillDown;if(l){l(a,o,n.drilldownView);return}o&&n.handleViewChange(o),n.handleNavigate(Vn.DATE,a)},n.state={context:t.getContext(n.props)},n}return yn(t,e),Pt(t,[{key:"render",value:function(){var r=this.props,i=r.view,s=r.toolbar,a=r.events,o=r.backgroundEvents,l=r.resourceGroupingLayout,u=r.style,d=r.className,f=r.elementProps,p=r.date,g=r.getNow,S=r.length,E=r.showMultiDayTimes,T=r.onShowMore,v=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var w=di(r,ofe);p=p||g();var b=this.getView(),D=this.state.context,C=D.accessors,I=D.components,N=D.getters,O=D.localizer,P=D.viewNames,x=I.toolbar||dhe,j=b.title(p,{localizer:O,length:S});return A.createElement("div",Object.assign({},f,{className:mt(d,"rbc-calendar",w.rtl&&"rbc-rtl"),style:u}),s&&A.createElement(x,{date:p,view:i,views:P,label:j,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:O}),A.createElement(b,Object.assign({},w,{events:a,backgroundEvents:o,date:p,getNow:g,length:S,localizer:O,getters:N,components:I,accessors:C,showMultiDayTimes:E,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:T,doShowMoreDrillDown:v,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:t.getContext(r)}}},{key:"getContext",value:function(r){var i=r.startAccessor,s=r.endAccessor,a=r.allDayAccessor,o=r.tooltipAccessor,l=r.titleAccessor,u=r.resourceAccessor,d=r.resourceIdAccessor,f=r.resourceTitleAccessor,p=r.eventIdAccessor,g=r.eventPropGetter,S=r.backgroundEventPropGetter,E=r.slotPropGetter,T=r.slotGroupPropGetter,v=r.dayPropGetter,w=r.view,b=r.views,D=r.localizer,C=r.culture,I=r.messages,N=I===void 0?{}:I,O=r.components,P=O===void 0?{}:O,x=r.formats,j=x===void 0?{}:x,K=R$(b),W=fhe(N);return{viewNames:K,localizer:uhe(D,C,j,W),getters:{eventProp:function(){return g&&g.apply(void 0,arguments)||{}},backgroundEventProp:function(){return S&&S.apply(void 0,arguments)||{}},slotProp:function(){return E&&E.apply(void 0,arguments)||{}},slotGroupProp:function(){return T&&T.apply(void 0,arguments)||{}},dayProp:function(){return v&&v.apply(void 0,arguments)||{}}},components:Moe(P[w]||{},Dde(P,K),{eventWrapper:Ni,backgroundEventWrapper:Ni,eventContainerWrapper:Ni,dateCellWrapper:Ni,weekWrapper:Ni,timeSlotWrapper:Ni,timeGutterWrapper:Ni}),accessors:{start:Ci(i),end:Ci(s),allDay:Ci(a),tooltip:Ci(o),title:Ci(l),resource:Ci(u),resourceId:Ci(d),resourceTitle:Ci(f),eventId:Ci(p)}}}}])}(A.Component);P$.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Sn.MONTH,views:[Sn.MONTH,Sn.WEEK,Sn.DAY,Sn.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Sn.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var cfe=cP(P$,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),ufe=function(t,n,r){var i=t.start,s=t.end;return r.format(i,"MMMM DD",n)+" – "+r.format(s,r.eq(i,s,"month")?"DD":"MMMM DD",n)},dfe=function(t,n,r){var i=t.start,s=t.end;return r.format(i,"L",n)+" – "+r.format(s,"L",n)},Py=function(t,n,r){var i=t.start,s=t.end;return r.format(i,"LT",n)+" – "+r.format(s,"LT",n)},hfe=function(t,n,r){var i=t.start;return r.format(i,"LT",n)+" – "},ffe=function(t,n,r){var i=t.end;return" – "+r.format(i,"LT",n)},pfe={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:Py,eventTimeRangeFormat:Py,eventTimeRangeStartFormat:hfe,eventTimeRangeEndFormat:ffe,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:ufe,agendaHeaderFormat:dfe,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:Py};function ms(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function mfe(e){var t=function(L,z){return z?L.locale(z):L};function n($){return e($).toDate().getTimezoneOffset()}function r($,L){var z,G,F=e($).local(),he=e(L).local();if(!e.tz)return F.toDate().getTimezoneOffset()-he.toDate().getTimezoneOffset();var ye=(z=F==null||(G=F._z)===null||G===void 0?void 0:G.name)!==null&&z!==void 0?z:e.tz.guess(),be=e.tz.zone(ye).utcOffset(+F),Vt=e.tz.zone(ye).utcOffset(+he);return be-Vt}function i($){var L=e($).startOf("day");return r(L,$)}function s($,L,z){var G=ms(z),F=G?e($).startOf(G):e($),he=G?e(L).startOf(G):e(L);return[F,he,G]}function a(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,L=arguments.length>1?arguments[1]:void 0,z=ms(L);return z?e($).startOf(z).toDate():e($).toDate()}function o(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,L=arguments.length>1?arguments[1]:void 0,z=ms(L);return z?e($).endOf(z).toDate():e($).toDate()}function l($,L,z){var G=s($,L,z),F=ur(G,3),he=F[0],ye=F[1],be=F[2];return he.isSame(ye,be)}function u($,L,z){return!l($,L,z)}function d($,L,z){var G=s($,L,z),F=ur(G,3),he=F[0],ye=F[1],be=F[2];return he.isAfter(ye,be)}function f($,L,z){var G=s($,L,z),F=ur(G,3),he=F[0],ye=F[1],be=F[2];return he.isBefore(ye,be)}function p($,L,z){var G=s($,L,z),F=ur(G,3),he=F[0],ye=F[1],be=F[2];return he.isSameOrBefore(ye,be)}function g($,L,z){var G=s($,L,z),F=ur(G,3),he=F[0],ye=F[1],be=F[2];return he.isSameOrBefore(ye,be)}function S($,L,z){var G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",F=ms(G),he=e($),ye=e(L),be=e(z);return he.isBetween(ye,be,F,"[]")}function E($,L){var z=e($),G=e(L),F=e.min(z,G);return F.toDate()}function T($,L){var z=e($),G=e(L),F=e.max(z,G);return F.toDate()}function v($,L){if(!$&&!L)return null;var z=e(L).format("HH:mm:ss"),G=e($).startOf("day").format("MM/DD/YYYY");return e("".concat(G," ").concat(z),"MM/DD/YYYY HH:mm:ss").toDate()}function w($,L,z){var G=ms(z);return e($).add(L,G).toDate()}function b($,L){for(var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",G=ms(z),F=e($).toDate(),he=[];g(F,L);)he.push(F),F=w(F,1,G);return he}function D($,L){var z=ms(L),G=a($,z);return l(G,$)?G:w(G,1,z)}function C($,L){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",G=ms(z),F=e($),he=e(L);return he.diff(F,G)}function I($){var L=e($);return L.minutes()}function N($){var L=$?e.localeData($):e.localeData();return L?L.firstDayOfWeek():0}function O($){return e($).startOf("month").startOf("week").toDate()}function P($){return e($).endOf("month").endOf("week").toDate()}function x($){for(var L=O($),z=P($),G=[];g(L,z);)G.push(L),L=w(L,1,"d");return G}function j($,L,z){return e($).startOf("day").minute(L+z).toDate()}function K($,L){return C($,L,"minutes")}function W($){var L=e($).startOf("day"),z=e($);return z.diff(L,"minutes")+i($)}function ne($,L){var z=e($),G=e(L);return z.isBefore(G,"day")}function q($,L,z){var G=e(L),F=e(z);return G.isSameOrAfter(F,"minutes")}function ee($,L){var z=e($),G=e(L),F=e.duration(G.diff(z));return F.days()}function de($){var L=$.evtA,z=L.start,G=L.end,F=L.allDay,he=$.evtB,ye=he.start,be=he.end,Vt=he.allDay,ls=+a(z,"day")-+a(ye,"day"),vi=ee(z,G),oa=ee(ye,be);return ls||oa-vi||!!Vt-!!F||+z-+ye||+G-+be}function B($){var L=$.event,z=L.start,G=L.end,F=$.range,he=F.start,ye=F.end,be=e(z).startOf("day"),Vt=e(G),ls=e(he),vi=e(ye),oa=be.isSameOrBefore(vi,"day"),co=!be.isSame(Vt,"minutes"),tc=co?Vt.isAfter(ls,"minutes"):Vt.isSameOrAfter(ls,"minutes");return oa&&tc}function Y($,L){var z=e($),G=e(L);return z.isSame(G,"day")}function V(){var $=new Date,L=/-/.test($.toString())?"-":"",z=$.getTimezoneOffset(),G=Number("".concat(L).concat(Math.abs(z))),F=e().utcOffset();return F>G?1:0}return new che({formats:pfe,firstOfWeek:N,firstVisibleDay:O,lastVisibleDay:P,visibleDays:x,format:function(L,z,G){return t(e(L),G).format(z)},lt:f,lte:g,gt:d,gte:p,eq:l,neq:u,merge:v,inRange:S,startOf:a,endOf:o,range:b,add:w,diff:C,ceil:D,min:E,max:T,minutes:I,getSlotDate:j,getTimezoneOffset:n,getDstOffset:r,getTotalMin:K,getMinutesFromMidnight:W,continuesPrior:ne,continuesAfter:q,sortEvents:de,inEventRange:B,isSameDate:Y,daySpan:ee,browserTZOffset:V})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var $$;function ie(){return $$.apply(null,arguments)}function gfe(e){$$=e}function zr(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Aa(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Le(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function aE(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Le(e,t))return!1;return!0}function Nn(e){return e===void 0}function ns(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Kd(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function L$(e,t){var n=[],r,i=e.length;for(r=0;r<i;++r)n.push(t(e[r],r));return n}function Ds(e,t){for(var n in t)Le(t,n)&&(e[n]=t[n]);return Le(t,"toString")&&(e.toString=t.toString),Le(t,"valueOf")&&(e.valueOf=t.valueOf),e}function mi(e,t,n,r){return a2(e,t,n,r,!0).utc()}function vfe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Te(e){return e._pf==null&&(e._pf=vfe()),e._pf}var R0;Array.prototype.some?R0=Array.prototype.some:R0=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function oE(e){var t=null,n=!1,r=e._d&&!isNaN(e._d.getTime());if(r&&(t=Te(e),n=R0.call(t.parsedDateParts,function(i){return i!=null}),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r;return e._isValid}function Rg(e){var t=mi(NaN);return e!=null?Ds(Te(t),e):Te(t).userInvalidated=!0,t}var ox=ie.momentProperties=[],$y=!1;function lE(e,t){var n,r,i,s=ox.length;if(Nn(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Nn(t._i)||(e._i=t._i),Nn(t._f)||(e._f=t._f),Nn(t._l)||(e._l=t._l),Nn(t._strict)||(e._strict=t._strict),Nn(t._tzm)||(e._tzm=t._tzm),Nn(t._isUTC)||(e._isUTC=t._isUTC),Nn(t._offset)||(e._offset=t._offset),Nn(t._pf)||(e._pf=Te(t)),Nn(t._locale)||(e._locale=t._locale),s>0)for(n=0;n<s;n++)r=ox[n],i=t[r],Nn(i)||(e[r]=i);return e}function Qd(e){lE(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),$y===!1&&($y=!0,ie.updateOffset(this),$y=!1)}function Vr(e){return e instanceof Qd||e!=null&&e._isAMomentObject!=null}function j$(e){ie.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Sr(e,t){var n=!0;return Ds(function(){if(ie.deprecationHandler!=null&&ie.deprecationHandler(null,e),n){var r=[],i,s,a,o=arguments.length;for(s=0;s<o;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(a in arguments[0])Le(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}j$(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var lx={};function F$(e,t){ie.deprecationHandler!=null&&ie.deprecationHandler(e,t),lx[e]||(j$(t),lx[e]=!0)}ie.suppressDeprecationWarnings=!1;ie.deprecationHandler=null;function gi(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function yfe(e){var t,n;for(n in e)Le(e,n)&&(t=e[n],gi(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function P0(e,t){var n=Ds({},e),r;for(r in t)Le(t,r)&&(Aa(e[r])&&Aa(t[r])?(n[r]={},Ds(n[r],e[r]),Ds(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)Le(e,r)&&!Le(t,r)&&Aa(e[r])&&(n[r]=Ds({},n[r]));return n}function cE(e){e!=null&&this.set(e)}var $0;Object.keys?$0=Object.keys:$0=function(e){var t,n=[];for(t in e)Le(e,t)&&n.push(t);return n};var wfe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function _fe(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return gi(r)?r.call(t,n):r}function hi(e,t,n){var r=""+Math.abs(e),i=t-r.length,s=e>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var uE=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,nf=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ly={},nl={};function fe(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(nl[e]=i),t&&(nl[t[0]]=function(){return hi(i.apply(this,arguments),t[1],t[2])}),n&&(nl[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Sfe(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Efe(e){var t=e.match(uE),n,r;for(n=0,r=t.length;n<r;n++)nl[t[n]]?t[n]=nl[t[n]]:t[n]=Sfe(t[n]);return function(i){var s="",a;for(a=0;a<r;a++)s+=gi(t[a])?t[a].call(i,e):t[a];return s}}function Of(e,t){return e.isValid()?(t=U$(t,e.localeData()),Ly[t]=Ly[t]||Efe(t),Ly[t](e)):e.localeData().invalidDate()}function U$(e,t){var n=5;function r(i){return t.longDateFormat(i)||i}for(nf.lastIndex=0;n>=0&&nf.test(e);)e=e.replace(nf,r),nf.lastIndex=0,n-=1;return e}var Tfe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function bfe(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(uE).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var kfe="Invalid date";function Dfe(){return this._invalidDate}var Cfe="%d",xfe=/\d{1,2}/;function Ife(e){return this._ordinal.replace("%d",e)}var Nfe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ofe(e,t,n,r){var i=this._relativeTime[n];return gi(i)?i(e,t,n,r):i.replace(/%d/i,e)}function Mfe(e,t){var n=this._relativeTime[e>0?"future":"past"];return gi(n)?n(t):n.replace(/%s/i,t)}var cx={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Er(e){return typeof e=="string"?cx[e]||cx[e.toLowerCase()]:void 0}function dE(e){var t={},n,r;for(r in e)Le(e,r)&&(n=Er(r),n&&(t[n]=e[r]));return t}var Afe={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Rfe(e){var t=[],n;for(n in e)Le(e,n)&&t.push({unit:n,priority:Afe[n]});return t.sort(function(r,i){return r.priority-i.priority}),t}var z$=/\d/,ir=/\d\d/,V$=/\d{3}/,hE=/\d{4}/,Pg=/[+-]?\d{6}/,st=/\d\d?/,Y$=/\d\d\d\d?/,W$=/\d\d\d\d\d\d?/,$g=/\d{1,3}/,fE=/\d{1,4}/,Lg=/[+-]?\d{1,6}/,Jl=/\d+/,jg=/[+-]?\d+/,Pfe=/Z|[+-]\d\d:?\d\d/gi,Fg=/Z|[+-]\d\d(?::?\d\d)?/gi,$fe=/[+-]?\d+(\.\d{1,3})?/,Xd=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Zl=/^[1-9]\d?/,pE=/^([1-9]\d|\d)/,Hp;Hp={};function le(e,t,n){Hp[e]=gi(t)?t:function(r,i){return r&&n?n:t}}function Lfe(e,t){return Le(Hp,e)?Hp[e](t._strict,t._locale):new RegExp(jfe(e))}function jfe(e){return Vi(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,i,s){return n||r||i||s}))}function Vi(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function lr(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Ie(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=lr(t)),n}var L0={};function He(e,t){var n,r=t,i;for(typeof e=="string"&&(e=[e]),ns(t)&&(r=function(s,a){a[t]=Ie(s)}),i=e.length,n=0;n<i;n++)L0[e[n]]=r}function Jd(e,t){He(e,function(n,r,i,s){i._w=i._w||{},t(n,i._w,i,s)})}function Ffe(e,t,n){t!=null&&Le(L0,e)&&L0[e](t,n._a,n,e)}function Ug(e){return e%4===0&&e%100!==0||e%400===0}var pn=0,ji=1,Xr=2,Ot=3,Mr=4,Fi=5,Da=6,Ufe=7,zfe=8;fe("Y",0,0,function(){var e=this.year();return e<=9999?hi(e,4):"+"+e});fe(0,["YY",2],0,function(){return this.year()%100});fe(0,["YYYY",4],0,"year");fe(0,["YYYYY",5],0,"year");fe(0,["YYYYYY",6,!0],0,"year");le("Y",jg);le("YY",st,ir);le("YYYY",fE,hE);le("YYYYY",Lg,Pg);le("YYYYYY",Lg,Pg);He(["YYYYY","YYYYYY"],pn);He("YYYY",function(e,t){t[pn]=e.length===2?ie.parseTwoDigitYear(e):Ie(e)});He("YY",function(e,t){t[pn]=ie.parseTwoDigitYear(e)});He("Y",function(e,t){t[pn]=parseInt(e,10)});function au(e){return Ug(e)?366:365}ie.parseTwoDigitYear=function(e){return Ie(e)+(Ie(e)>68?1900:2e3)};var H$=ec("FullYear",!0);function Vfe(){return Ug(this.year())}function ec(e,t){return function(n){return n!=null?(B$(this,e,n),ie.updateOffset(this,t),this):td(this,e)}}function td(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function B$(e,t,n){var r,i,s,a,o;if(!(!e.isValid()||isNaN(n))){switch(r=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}s=n,a=e.month(),o=e.date(),o=o===29&&a===1&&!Ug(s)?28:o,i?r.setUTCFullYear(s,a,o):r.setFullYear(s,a,o)}}function Yfe(e){return e=Er(e),gi(this[e])?this[e]():this}function Wfe(e,t){if(typeof e=="object"){e=dE(e);var n=Rfe(e),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](e[n[r].unit])}else if(e=Er(e),gi(this[e]))return this[e](t);return this}function Hfe(e,t){return(e%t+t)%t}var yt;Array.prototype.indexOf?yt=Array.prototype.indexOf:yt=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function mE(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Hfe(t,12);return e+=(t-n)/12,n===1?Ug(e)?29:28:31-n%7%2}fe("M",["MM",2],"Mo",function(){return this.month()+1});fe("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});fe("MMMM",0,0,function(e){return this.localeData().months(this,e)});le("M",st,Zl);le("MM",st,ir);le("MMM",function(e,t){return t.monthsShortRegex(e)});le("MMMM",function(e,t){return t.monthsRegex(e)});He(["M","MM"],function(e,t){t[ji]=Ie(e)-1});He(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[ji]=i:Te(n).invalidMonth=e});var Bfe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),G$="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),q$=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Gfe=Xd,qfe=Xd;function Kfe(e,t){return e?zr(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||q$).test(t)?"format":"standalone"][e.month()]:zr(this._months)?this._months:this._months.standalone}function Qfe(e,t){return e?zr(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[q$.test(t)?"format":"standalone"][e.month()]:zr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Xfe(e,t,n){var r,i,s,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=mi([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?t==="MMM"?(i=yt.call(this._shortMonthsParse,a),i!==-1?i:null):(i=yt.call(this._longMonthsParse,a),i!==-1?i:null):t==="MMM"?(i=yt.call(this._shortMonthsParse,a),i!==-1?i:(i=yt.call(this._longMonthsParse,a),i!==-1?i:null)):(i=yt.call(this._longMonthsParse,a),i!==-1?i:(i=yt.call(this._shortMonthsParse,a),i!==-1?i:null))}function Jfe(e,t,n){var r,i,s;if(this._monthsParseExact)return Xfe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=mi([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function K$(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Ie(t);else if(t=e.localeData().monthsParse(t),!ns(t))return e}var n=t,r=e.date();return r=r<29?r:Math.min(r,mE(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function Q$(e){return e!=null?(K$(this,e),ie.updateOffset(this,!0),this):td(this,"Month")}function Zfe(){return mE(this.year(),this.month())}function epe(e){return this._monthsParseExact?(Le(this,"_monthsRegex")||X$.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Le(this,"_monthsShortRegex")||(this._monthsShortRegex=Gfe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function tpe(e){return this._monthsParseExact?(Le(this,"_monthsRegex")||X$.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Le(this,"_monthsRegex")||(this._monthsRegex=qfe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function X$(){function e(l,u){return u.length-l.length}var t=[],n=[],r=[],i,s,a,o;for(i=0;i<12;i++)s=mi([2e3,i]),a=Vi(this.monthsShort(s,"")),o=Vi(this.months(s,"")),t.push(a),n.push(o),r.push(o),r.push(a);t.sort(e),n.sort(e),r.sort(e),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function npe(e,t,n,r,i,s,a){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,r,i,s,a),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,r,i,s,a),o}function nd(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Bp(e,t,n){var r=7+t-n,i=(7+nd(e,0,r).getUTCDay()-t)%7;return-i+r-1}function J$(e,t,n,r,i){var s=(7+n-r)%7,a=Bp(e,r,i),o=1+7*(t-1)+s+a,l,u;return o<=0?(l=e-1,u=au(l)+o):o>au(e)?(l=e+1,u=o-au(e)):(l=e,u=o),{year:l,dayOfYear:u}}function rd(e,t,n){var r=Bp(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1,s,a;return i<1?(a=e.year()-1,s=i+Yi(a,t,n)):i>Yi(e.year(),t,n)?(s=i-Yi(e.year(),t,n),a=e.year()+1):(a=e.year(),s=i),{week:s,year:a}}function Yi(e,t,n){var r=Bp(e,t,n),i=Bp(e+1,t,n);return(au(e)-r+i)/7}fe("w",["ww",2],"wo","week");fe("W",["WW",2],"Wo","isoWeek");le("w",st,Zl);le("ww",st,ir);le("W",st,Zl);le("WW",st,ir);Jd(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Ie(e)});function rpe(e){return rd(e,this._week.dow,this._week.doy).week}var ipe={dow:0,doy:6};function spe(){return this._week.dow}function ape(){return this._week.doy}function ope(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function lpe(e){var t=rd(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}fe("d",0,"do","day");fe("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});fe("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});fe("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});fe("e",0,0,"weekday");fe("E",0,0,"isoWeekday");le("d",st);le("e",st);le("E",st);le("dd",function(e,t){return t.weekdaysMinRegex(e)});le("ddd",function(e,t){return t.weekdaysShortRegex(e)});le("dddd",function(e,t){return t.weekdaysRegex(e)});Jd(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);i!=null?t.d=i:Te(n).invalidWeekday=e});Jd(["d","e","E"],function(e,t,n,r){t[r]=Ie(e)});function cpe(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function upe(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function gE(e,t){return e.slice(t,7).concat(e.slice(0,t))}var dpe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Z$="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),hpe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),fpe=Xd,ppe=Xd,mpe=Xd;function gpe(e,t){var n=zr(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?gE(n,this._week.dow):e?n[e.day()]:n}function vpe(e){return e===!0?gE(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function ype(e){return e===!0?gE(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function wpe(e,t,n){var r,i,s,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=mi([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?t==="dddd"?(i=yt.call(this._weekdaysParse,a),i!==-1?i:null):t==="ddd"?(i=yt.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=yt.call(this._minWeekdaysParse,a),i!==-1?i:null):t==="dddd"?(i=yt.call(this._weekdaysParse,a),i!==-1||(i=yt.call(this._shortWeekdaysParse,a),i!==-1)?i:(i=yt.call(this._minWeekdaysParse,a),i!==-1?i:null)):t==="ddd"?(i=yt.call(this._shortWeekdaysParse,a),i!==-1||(i=yt.call(this._weekdaysParse,a),i!==-1)?i:(i=yt.call(this._minWeekdaysParse,a),i!==-1?i:null)):(i=yt.call(this._minWeekdaysParse,a),i!==-1||(i=yt.call(this._weekdaysParse,a),i!==-1)?i:(i=yt.call(this._shortWeekdaysParse,a),i!==-1?i:null))}function _pe(e,t,n){var r,i,s;if(this._weekdaysParseExact)return wpe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=mi([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Spe(e){if(!this.isValid())return e!=null?this:NaN;var t=td(this,"Day");return e!=null?(e=cpe(e,this.localeData()),this.add(e-t,"d")):t}function Epe(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Tpe(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=upe(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function bpe(e){return this._weekdaysParseExact?(Le(this,"_weekdaysRegex")||vE.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Le(this,"_weekdaysRegex")||(this._weekdaysRegex=fpe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function kpe(e){return this._weekdaysParseExact?(Le(this,"_weekdaysRegex")||vE.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Le(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ppe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Dpe(e){return this._weekdaysParseExact?(Le(this,"_weekdaysRegex")||vE.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Le(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=mpe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function vE(){function e(d,f){return f.length-d.length}var t=[],n=[],r=[],i=[],s,a,o,l,u;for(s=0;s<7;s++)a=mi([2e3,1]).day(s),o=Vi(this.weekdaysMin(a,"")),l=Vi(this.weekdaysShort(a,"")),u=Vi(this.weekdays(a,"")),t.push(o),n.push(l),r.push(u),i.push(o),i.push(l),i.push(u);t.sort(e),n.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function yE(){return this.hours()%12||12}function Cpe(){return this.hours()||24}fe("H",["HH",2],0,"hour");fe("h",["hh",2],0,yE);fe("k",["kk",2],0,Cpe);fe("hmm",0,0,function(){return""+yE.apply(this)+hi(this.minutes(),2)});fe("hmmss",0,0,function(){return""+yE.apply(this)+hi(this.minutes(),2)+hi(this.seconds(),2)});fe("Hmm",0,0,function(){return""+this.hours()+hi(this.minutes(),2)});fe("Hmmss",0,0,function(){return""+this.hours()+hi(this.minutes(),2)+hi(this.seconds(),2)});function e2(e,t){fe(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}e2("a",!0);e2("A",!1);function t2(e,t){return t._meridiemParse}le("a",t2);le("A",t2);le("H",st,pE);le("h",st,Zl);le("k",st,Zl);le("HH",st,ir);le("hh",st,ir);le("kk",st,ir);le("hmm",Y$);le("hmmss",W$);le("Hmm",Y$);le("Hmmss",W$);He(["H","HH"],Ot);He(["k","kk"],function(e,t,n){var r=Ie(e);t[Ot]=r===24?0:r});He(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});He(["h","hh"],function(e,t,n){t[Ot]=Ie(e),Te(n).bigHour=!0});He("hmm",function(e,t,n){var r=e.length-2;t[Ot]=Ie(e.substr(0,r)),t[Mr]=Ie(e.substr(r)),Te(n).bigHour=!0});He("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Ot]=Ie(e.substr(0,r)),t[Mr]=Ie(e.substr(r,2)),t[Fi]=Ie(e.substr(i)),Te(n).bigHour=!0});He("Hmm",function(e,t,n){var r=e.length-2;t[Ot]=Ie(e.substr(0,r)),t[Mr]=Ie(e.substr(r))});He("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Ot]=Ie(e.substr(0,r)),t[Mr]=Ie(e.substr(r,2)),t[Fi]=Ie(e.substr(i))});function xpe(e){return(e+"").toLowerCase().charAt(0)==="p"}var Ipe=/[ap]\.?m?\.?/i,Npe=ec("Hours",!0);function Ope(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var n2={calendar:wfe,longDateFormat:Tfe,invalidDate:kfe,ordinal:Cfe,dayOfMonthOrdinalParse:xfe,relativeTime:Nfe,months:Bfe,monthsShort:G$,week:ipe,weekdays:dpe,weekdaysMin:hpe,weekdaysShort:Z$,meridiemParse:Ipe},ot={},xc={},id;function Mpe(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function ux(e){return e&&e.toLowerCase().replace("_","-")}function Ape(e){for(var t=0,n,r,i,s;t<e.length;){for(s=ux(e[t]).split("-"),n=s.length,r=ux(e[t+1]),r=r?r.split("-"):null;n>0;){if(i=zg(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&Mpe(s,r)>=n-1)break;n--}t++}return id}function Rpe(e){return!!(e&&e.match("^[^/\\\\]*$"))}function zg(e){var t=null,n;if(ot[e]===void 0&&typeof Rf<"u"&&Rf&&Rf.exports&&Rpe(e))try{t=id._abbr,n=require,n("./locale/"+e),zs(t)}catch{ot[e]=null}return ot[e]}function zs(e,t){var n;return e&&(Nn(t)?n=as(e):n=wE(e,t),n?id=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),id._abbr}function wE(e,t){if(t!==null){var n,r=n2;if(t.abbr=e,ot[e]!=null)F$("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ot[e]._config;else if(t.parentLocale!=null)if(ot[t.parentLocale]!=null)r=ot[t.parentLocale]._config;else if(n=zg(t.parentLocale),n!=null)r=n._config;else return xc[t.parentLocale]||(xc[t.parentLocale]=[]),xc[t.parentLocale].push({name:e,config:t}),null;return ot[e]=new cE(P0(r,t)),xc[e]&&xc[e].forEach(function(i){wE(i.name,i.config)}),zs(e),ot[e]}else return delete ot[e],null}function Ppe(e,t){if(t!=null){var n,r,i=n2;ot[e]!=null&&ot[e].parentLocale!=null?ot[e].set(P0(ot[e]._config,t)):(r=zg(e),r!=null&&(i=r._config),t=P0(i,t),r==null&&(t.abbr=e),n=new cE(t),n.parentLocale=ot[e],ot[e]=n),zs(e)}else ot[e]!=null&&(ot[e].parentLocale!=null?(ot[e]=ot[e].parentLocale,e===zs()&&zs(e)):ot[e]!=null&&delete ot[e]);return ot[e]}function as(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return id;if(!zr(e)){if(t=zg(e),t)return t;e=[e]}return Ape(e)}function $pe(){return $0(ot)}function _E(e){var t,n=e._a;return n&&Te(e).overflow===-2&&(t=n[ji]<0||n[ji]>11?ji:n[Xr]<1||n[Xr]>mE(n[pn],n[ji])?Xr:n[Ot]<0||n[Ot]>24||n[Ot]===24&&(n[Mr]!==0||n[Fi]!==0||n[Da]!==0)?Ot:n[Mr]<0||n[Mr]>59?Mr:n[Fi]<0||n[Fi]>59?Fi:n[Da]<0||n[Da]>999?Da:-1,Te(e)._overflowDayOfYear&&(t<pn||t>Xr)&&(t=Xr),Te(e)._overflowWeeks&&t===-1&&(t=Ufe),Te(e)._overflowWeekday&&t===-1&&(t=zfe),Te(e).overflow=t),e}var Lpe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,jpe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Fpe=/Z|[+-]\d\d(?::?\d\d)?/,rf=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],jy=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Upe=/^\/?Date\((-?\d+)/i,zpe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Vpe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function r2(e){var t,n,r=e._i,i=Lpe.exec(r)||jpe.exec(r),s,a,o,l,u=rf.length,d=jy.length;if(i){for(Te(e).iso=!0,t=0,n=u;t<n;t++)if(rf[t][1].exec(i[1])){a=rf[t][0],s=rf[t][2]!==!1;break}if(a==null){e._isValid=!1;return}if(i[3]){for(t=0,n=d;t<n;t++)if(jy[t][1].exec(i[3])){o=(i[2]||" ")+jy[t][0];break}if(o==null){e._isValid=!1;return}}if(!s&&o!=null){e._isValid=!1;return}if(i[4])if(Fpe.exec(i[4]))l="Z";else{e._isValid=!1;return}e._f=a+(o||"")+(l||""),EE(e)}else e._isValid=!1}function Ype(e,t,n,r,i,s){var a=[Wpe(e),G$.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&a.push(parseInt(s,10)),a}function Wpe(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Hpe(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Bpe(e,t,n){if(e){var r=Z$.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return Te(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function Gpe(e,t,n){if(e)return Vpe[e];if(t)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function i2(e){var t=zpe.exec(Hpe(e._i)),n;if(t){if(n=Ype(t[4],t[3],t[2],t[5],t[6],t[7]),!Bpe(t[1],n,e))return;e._a=n,e._tzm=Gpe(t[8],t[9],t[10]),e._d=nd.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Te(e).rfc2822=!0}else e._isValid=!1}function qpe(e){var t=Upe.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(r2(e),e._isValid===!1)delete e._isValid;else return;if(i2(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:ie.createFromInputFallback(e)}ie.createFromInputFallback=Sr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Co(e,t,n){return e??t??n}function Kpe(e){var t=new Date(ie.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function SE(e){var t,n,r=[],i,s,a;if(!e._d){for(i=Kpe(e),e._w&&e._a[Xr]==null&&e._a[ji]==null&&Qpe(e),e._dayOfYear!=null&&(a=Co(e._a[pn],i[pn]),(e._dayOfYear>au(a)||e._dayOfYear===0)&&(Te(e)._overflowDayOfYear=!0),n=nd(a,0,e._dayOfYear),e._a[ji]=n.getUTCMonth(),e._a[Xr]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Ot]===24&&e._a[Mr]===0&&e._a[Fi]===0&&e._a[Da]===0&&(e._nextDay=!0,e._a[Ot]=0),e._d=(e._useUTC?nd:npe).apply(null,r),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ot]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==s&&(Te(e).weekdayMismatch=!0)}}function Qpe(e){var t,n,r,i,s,a,o,l,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(s=1,a=4,n=Co(t.GG,e._a[pn],rd(it(),1,4).year),r=Co(t.W,1),i=Co(t.E,1),(i<1||i>7)&&(l=!0)):(s=e._locale._week.dow,a=e._locale._week.doy,u=rd(it(),s,a),n=Co(t.gg,e._a[pn],u.year),r=Co(t.w,u.week),t.d!=null?(i=t.d,(i<0||i>6)&&(l=!0)):t.e!=null?(i=t.e+s,(t.e<0||t.e>6)&&(l=!0)):i=s),r<1||r>Yi(n,s,a)?Te(e)._overflowWeeks=!0:l!=null?Te(e)._overflowWeekday=!0:(o=J$(n,r,i,s,a),e._a[pn]=o.year,e._dayOfYear=o.dayOfYear)}ie.ISO_8601=function(){};ie.RFC_2822=function(){};function EE(e){if(e._f===ie.ISO_8601){r2(e);return}if(e._f===ie.RFC_2822){i2(e);return}e._a=[],Te(e).empty=!0;var t=""+e._i,n,r,i,s,a,o=t.length,l=0,u,d;for(i=U$(e._f,e._locale).match(uE)||[],d=i.length,n=0;n<d;n++)s=i[n],r=(t.match(Lfe(s,e))||[])[0],r&&(a=t.substr(0,t.indexOf(r)),a.length>0&&Te(e).unusedInput.push(a),t=t.slice(t.indexOf(r)+r.length),l+=r.length),nl[s]?(r?Te(e).empty=!1:Te(e).unusedTokens.push(s),Ffe(s,r,e)):e._strict&&!r&&Te(e).unusedTokens.push(s);Te(e).charsLeftOver=o-l,t.length>0&&Te(e).unusedInput.push(t),e._a[Ot]<=12&&Te(e).bigHour===!0&&e._a[Ot]>0&&(Te(e).bigHour=void 0),Te(e).parsedDateParts=e._a.slice(0),Te(e).meridiem=e._meridiem,e._a[Ot]=Xpe(e._locale,e._a[Ot],e._meridiem),u=Te(e).era,u!==null&&(e._a[pn]=e._locale.erasConvertYear(u,e._a[pn])),SE(e),_E(e)}function Xpe(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function Jpe(e){var t,n,r,i,s,a,o=!1,l=e._f.length;if(l===0){Te(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,a=!1,t=lE({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],EE(t),oE(t)&&(a=!0),s+=Te(t).charsLeftOver,s+=Te(t).unusedTokens.length*10,Te(t).score=s,o?s<r&&(r=s,n=t):(r==null||s<r||a)&&(r=s,n=t,a&&(o=!0));Ds(e,n||t)}function Zpe(e){if(!e._d){var t=dE(e._i),n=t.day===void 0?t.date:t.day;e._a=L$([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),SE(e)}}function eme(e){var t=new Qd(_E(s2(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function s2(e){var t=e._i,n=e._f;return e._locale=e._locale||as(e._l),t===null||n===void 0&&t===""?Rg({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Vr(t)?new Qd(_E(t)):(Kd(t)?e._d=t:zr(n)?Jpe(e):n?EE(e):tme(e),oE(e)||(e._d=null),e))}function tme(e){var t=e._i;Nn(t)?e._d=new Date(ie.now()):Kd(t)?e._d=new Date(t.valueOf()):typeof t=="string"?qpe(e):zr(t)?(e._a=L$(t.slice(0),function(n){return parseInt(n,10)}),SE(e)):Aa(t)?Zpe(e):ns(t)?e._d=new Date(t):ie.createFromInputFallback(e)}function a2(e,t,n,r,i){var s={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Aa(e)&&aE(e)||zr(e)&&e.length===0)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,eme(s)}function it(e,t,n,r){return a2(e,t,n,r,!1)}var nme=Sr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=it.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Rg()}),rme=Sr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=it.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Rg()});function o2(e,t){var n,r;if(t.length===1&&zr(t[0])&&(t=t[0]),!t.length)return it();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function ime(){var e=[].slice.call(arguments,0);return o2("isBefore",e)}function sme(){var e=[].slice.call(arguments,0);return o2("isAfter",e)}var ame=function(){return Date.now?Date.now():+new Date},Ic=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ome(e){var t,n=!1,r,i=Ic.length;for(t in e)if(Le(e,t)&&!(yt.call(Ic,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[Ic[r]]){if(n)return!1;parseFloat(e[Ic[r]])!==Ie(e[Ic[r]])&&(n=!0)}return!0}function lme(){return this._isValid}function cme(){return Yr(NaN)}function Vg(e){var t=dE(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||t.isoWeek||0,a=t.day||0,o=t.hour||0,l=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=ome(t),this._milliseconds=+d+u*1e3+l*6e4+o*1e3*60*60,this._days=+a+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=as(),this._bubble()}function Mf(e){return e instanceof Vg}function j0(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function ume(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0,a;for(a=0;a<r;a++)(n&&e[a]!==t[a]||!n&&Ie(e[a])!==Ie(t[a]))&&s++;return s+i}function l2(e,t){fe(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+hi(~~(n/60),2)+t+hi(~~n%60,2)})}l2("Z",":");l2("ZZ","");le("Z",Fg);le("ZZ",Fg);He(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=TE(Fg,e)});var dme=/([\+\-]|\d\d)/gi;function TE(e,t){var n=(t||"").match(e),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(dme)||["-",0,0],s=+(i[1]*60)+Ie(i[2]),s===0?0:i[0]==="+"?s:-s)}function bE(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Vr(e)||Kd(e)?e.valueOf():it(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),ie.updateOffset(n,!1),n):it(e).local()}function F0(e){return-Math.round(e._d.getTimezoneOffset())}ie.updateOffset=function(){};function hme(e,t,n){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=TE(Fg,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(i=F0(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?d2(this,Yr(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ie.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:F0(this)}function fme(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function pme(e){return this.utcOffset(0,e)}function mme(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(F0(this),"m")),this}function gme(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=TE(Pfe,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function vme(e){return this.isValid()?(e=e?it(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function yme(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wme(){if(!Nn(this._isDSTShifted))return this._isDSTShifted;var e={},t;return lE(e,this),e=s2(e),e._a?(t=e._isUTC?mi(e._a):it(e._a),this._isDSTShifted=this.isValid()&&ume(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function _me(){return this.isValid()?!this._isUTC:!1}function Sme(){return this.isValid()?this._isUTC:!1}function c2(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Eme=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Tme=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Yr(e,t){var n=e,r=null,i,s,a;return Mf(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:ns(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=Eme.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:Ie(r[Xr])*i,h:Ie(r[Ot])*i,m:Ie(r[Mr])*i,s:Ie(r[Fi])*i,ms:Ie(j0(r[Da]*1e3))*i}):(r=Tme.exec(e))?(i=r[1]==="-"?-1:1,n={y:da(r[2],i),M:da(r[3],i),w:da(r[4],i),d:da(r[5],i),h:da(r[6],i),m:da(r[7],i),s:da(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(a=bme(it(n.from),it(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),s=new Vg(n),Mf(e)&&Le(e,"_locale")&&(s._locale=e._locale),Mf(e)&&Le(e,"_isValid")&&(s._isValid=e._isValid),s}Yr.fn=Vg.prototype;Yr.invalid=cme;function da(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function dx(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function bme(e,t){var n;return e.isValid()&&t.isValid()?(t=bE(t,e),e.isBefore(t)?n=dx(e,t):(n=dx(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function u2(e,t){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(F$(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=Yr(n,r),d2(this,i,e),this}}function d2(e,t,n,r){var i=t._milliseconds,s=j0(t._days),a=j0(t._months);e.isValid()&&(r=r??!0,a&&K$(e,td(e,"Month")+a*n),s&&B$(e,"Date",td(e,"Date")+s*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&ie.updateOffset(e,s||a))}var kme=u2(1,"add"),Dme=u2(-1,"subtract");function h2(e){return typeof e=="string"||e instanceof String}function Cme(e){return Vr(e)||Kd(e)||h2(e)||ns(e)||Ime(e)||xme(e)||e===null||e===void 0}function xme(e){var t=Aa(e)&&!aE(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,a=r.length;for(i=0;i<a;i+=1)s=r[i],n=n||Le(e,s);return t&&n}function Ime(e){var t=zr(e),n=!1;return t&&(n=e.filter(function(r){return!ns(r)&&h2(e)}).length===0),t&&n}function Nme(e){var t=Aa(e)&&!aE(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||Le(e,s);return t&&n}function Ome(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Mme(e,t){arguments.length===1&&(arguments[0]?Cme(arguments[0])?(e=arguments[0],t=void 0):Nme(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||it(),r=bE(n,this).startOf("day"),i=ie.calendarFormat(this,r)||"sameElse",s=t&&(gi(t[i])?t[i].call(this,n):t[i]);return this.format(s||this.localeData().calendar(i,this,it(n)))}function Ame(){return new Qd(this)}function Rme(e,t){var n=Vr(e)?e:it(e);return this.isValid()&&n.isValid()?(t=Er(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function Pme(e,t){var n=Vr(e)?e:it(e);return this.isValid()&&n.isValid()?(t=Er(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function $me(e,t,n,r){var i=Vr(e)?e:it(e),s=Vr(t)?t:it(t);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function Lme(e,t){var n=Vr(e)?e:it(e),r;return this.isValid()&&n.isValid()?(t=Er(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function jme(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Fme(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Ume(e,t,n){var r,i,s;if(!this.isValid())return NaN;if(r=bE(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=Er(t),t){case"year":s=Af(this,r)/12;break;case"month":s=Af(this,r);break;case"quarter":s=Af(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:lr(s)}function Af(e,t){if(e.date()<t.date())return-Af(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,s;return t-r<0?(i=e.clone().add(n-1,"months"),s=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),s=(t-r)/(i-r)),-(n+s)||0}ie.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ie.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function zme(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Vme(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Of(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):gi(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Of(n,"Z")):Of(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Yme(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,i,s;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=t+'[")]',this.format(n+r+i+s)}function Wme(e){e||(e=this.isUtc()?ie.defaultFormatUtc:ie.defaultFormat);var t=Of(this,e);return this.localeData().postformat(t)}function Hme(e,t){return this.isValid()&&(Vr(e)&&e.isValid()||it(e).isValid())?Yr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Bme(e){return this.from(it(),e)}function Gme(e,t){return this.isValid()&&(Vr(e)&&e.isValid()||it(e).isValid())?Yr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function qme(e){return this.to(it(),e)}function f2(e){var t;return e===void 0?this._locale._abbr:(t=as(e),t!=null&&(this._locale=t),this)}var p2=Sr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function m2(){return this._locale}var Gp=1e3,rl=60*Gp,qp=60*rl,g2=(365*400+97)*24*qp;function il(e,t){return(e%t+t)%t}function v2(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-g2:new Date(e,t,n).valueOf()}function y2(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-g2:Date.UTC(e,t,n)}function Kme(e){var t,n;if(e=Er(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?y2:v2,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=il(t+(this._isUTC?0:this.utcOffset()*rl),qp);break;case"minute":t=this._d.valueOf(),t-=il(t,rl);break;case"second":t=this._d.valueOf(),t-=il(t,Gp);break}return this._d.setTime(t),ie.updateOffset(this,!0),this}function Qme(e){var t,n;if(e=Er(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?y2:v2,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=qp-il(t+(this._isUTC?0:this.utcOffset()*rl),qp)-1;break;case"minute":t=this._d.valueOf(),t+=rl-il(t,rl)-1;break;case"second":t=this._d.valueOf(),t+=Gp-il(t,Gp)-1;break}return this._d.setTime(t),ie.updateOffset(this,!0),this}function Xme(){return this._d.valueOf()-(this._offset||0)*6e4}function Jme(){return Math.floor(this.valueOf()/1e3)}function Zme(){return new Date(this.valueOf())}function ege(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function tge(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function nge(){return this.isValid()?this.toISOString():null}function rge(){return oE(this)}function ige(){return Ds({},Te(this))}function sge(){return Te(this).overflow}function age(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}fe("N",0,0,"eraAbbr");fe("NN",0,0,"eraAbbr");fe("NNN",0,0,"eraAbbr");fe("NNNN",0,0,"eraName");fe("NNNNN",0,0,"eraNarrow");fe("y",["y",1],"yo","eraYear");fe("y",["yy",2],0,"eraYear");fe("y",["yyy",3],0,"eraYear");fe("y",["yyyy",4],0,"eraYear");le("N",kE);le("NN",kE);le("NNN",kE);le("NNNN",vge);le("NNNNN",yge);He(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?Te(n).era=i:Te(n).invalidEra=e});le("y",Jl);le("yy",Jl);le("yyy",Jl);le("yyyy",Jl);le("yo",wge);He(["y","yy","yyy","yyyy"],pn);He(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[pn]=n._locale.eraYearOrdinalParse(e,i):t[pn]=parseInt(e,10)});function oge(e,t){var n,r,i,s=this._eras||as("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=ie(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=ie(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function lge(e,t,n){var r,i,s=this.eras(),a,o,l;for(e=e.toUpperCase(),r=0,i=s.length;r<i;++r)if(a=s[r].name.toUpperCase(),o=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return s[r];break;case"NNNN":if(a===e)return s[r];break;case"NNNNN":if(l===e)return s[r];break}else if([a,o,l].indexOf(e)>=0)return s[r]}function cge(e,t){var n=e.since<=e.until?1:-1;return t===void 0?ie(e.since).year():ie(e.since).year()+(t-e.offset)*n}function uge(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function dge(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function hge(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function fge(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-ie(i[e].since).year())*n+i[e].offset;return this.year()}function pge(e){return Le(this,"_erasNameRegex")||DE.call(this),e?this._erasNameRegex:this._erasRegex}function mge(e){return Le(this,"_erasAbbrRegex")||DE.call(this),e?this._erasAbbrRegex:this._erasRegex}function gge(e){return Le(this,"_erasNarrowRegex")||DE.call(this),e?this._erasNarrowRegex:this._erasRegex}function kE(e,t){return t.erasAbbrRegex(e)}function vge(e,t){return t.erasNameRegex(e)}function yge(e,t){return t.erasNarrowRegex(e)}function wge(e,t){return t._eraYearOrdinalRegex||Jl}function DE(){var e=[],t=[],n=[],r=[],i,s,a,o,l,u=this.eras();for(i=0,s=u.length;i<s;++i)a=Vi(u[i].name),o=Vi(u[i].abbr),l=Vi(u[i].narrow),t.push(a),e.push(o),n.push(l),r.push(a),r.push(o),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}fe(0,["gg",2],0,function(){return this.weekYear()%100});fe(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Yg(e,t){fe(0,[e,e.length],0,t)}Yg("gggg","weekYear");Yg("ggggg","weekYear");Yg("GGGG","isoWeekYear");Yg("GGGGG","isoWeekYear");le("G",jg);le("g",jg);le("GG",st,ir);le("gg",st,ir);le("GGGG",fE,hE);le("gggg",fE,hE);le("GGGGG",Lg,Pg);le("ggggg",Lg,Pg);Jd(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Ie(e)});Jd(["gg","GG"],function(e,t,n,r){t[r]=ie.parseTwoDigitYear(e)});function _ge(e){return w2.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Sge(e){return w2.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Ege(){return Yi(this.year(),1,4)}function Tge(){return Yi(this.isoWeekYear(),1,4)}function bge(){var e=this.localeData()._week;return Yi(this.year(),e.dow,e.doy)}function kge(){var e=this.localeData()._week;return Yi(this.weekYear(),e.dow,e.doy)}function w2(e,t,n,r,i){var s;return e==null?rd(this,r,i).year:(s=Yi(e,r,i),t>s&&(t=s),Dge.call(this,e,t,n,r,i))}function Dge(e,t,n,r,i){var s=J$(e,t,n,r,i),a=nd(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}fe("Q",0,"Qo","quarter");le("Q",z$);He("Q",function(e,t){t[ji]=(Ie(e)-1)*3});function Cge(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}fe("D",["DD",2],"Do","date");le("D",st,Zl);le("DD",st,ir);le("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});He(["D","DD"],Xr);He("Do",function(e,t){t[Xr]=Ie(e.match(st)[0])});var _2=ec("Date",!0);fe("DDD",["DDDD",3],"DDDo","dayOfYear");le("DDD",$g);le("DDDD",V$);He(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Ie(e)});function xge(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}fe("m",["mm",2],0,"minute");le("m",st,pE);le("mm",st,ir);He(["m","mm"],Mr);var Ige=ec("Minutes",!1);fe("s",["ss",2],0,"second");le("s",st,pE);le("ss",st,ir);He(["s","ss"],Fi);var Nge=ec("Seconds",!1);fe("S",0,0,function(){return~~(this.millisecond()/100)});fe(0,["SS",2],0,function(){return~~(this.millisecond()/10)});fe(0,["SSS",3],0,"millisecond");fe(0,["SSSS",4],0,function(){return this.millisecond()*10});fe(0,["SSSSS",5],0,function(){return this.millisecond()*100});fe(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});fe(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});fe(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});fe(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});le("S",$g,z$);le("SS",$g,ir);le("SSS",$g,V$);var Cs,S2;for(Cs="SSSS";Cs.length<=9;Cs+="S")le(Cs,Jl);function Oge(e,t){t[Da]=Ie(("0."+e)*1e3)}for(Cs="S";Cs.length<=9;Cs+="S")He(Cs,Oge);S2=ec("Milliseconds",!1);fe("z",0,0,"zoneAbbr");fe("zz",0,0,"zoneName");function Mge(){return this._isUTC?"UTC":""}function Age(){return this._isUTC?"Coordinated Universal Time":""}var J=Qd.prototype;J.add=kme;J.calendar=Mme;J.clone=Ame;J.diff=Ume;J.endOf=Qme;J.format=Wme;J.from=Hme;J.fromNow=Bme;J.to=Gme;J.toNow=qme;J.get=Yfe;J.invalidAt=sge;J.isAfter=Rme;J.isBefore=Pme;J.isBetween=$me;J.isSame=Lme;J.isSameOrAfter=jme;J.isSameOrBefore=Fme;J.isValid=rge;J.lang=p2;J.locale=f2;J.localeData=m2;J.max=rme;J.min=nme;J.parsingFlags=ige;J.set=Wfe;J.startOf=Kme;J.subtract=Dme;J.toArray=ege;J.toObject=tge;J.toDate=Zme;J.toISOString=Vme;J.inspect=Yme;typeof Symbol<"u"&&Symbol.for!=null&&(J[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});J.toJSON=nge;J.toString=zme;J.unix=Jme;J.valueOf=Xme;J.creationData=age;J.eraName=uge;J.eraNarrow=dge;J.eraAbbr=hge;J.eraYear=fge;J.year=H$;J.isLeapYear=Vfe;J.weekYear=_ge;J.isoWeekYear=Sge;J.quarter=J.quarters=Cge;J.month=Q$;J.daysInMonth=Zfe;J.week=J.weeks=ope;J.isoWeek=J.isoWeeks=lpe;J.weeksInYear=bge;J.weeksInWeekYear=kge;J.isoWeeksInYear=Ege;J.isoWeeksInISOWeekYear=Tge;J.date=_2;J.day=J.days=Spe;J.weekday=Epe;J.isoWeekday=Tpe;J.dayOfYear=xge;J.hour=J.hours=Npe;J.minute=J.minutes=Ige;J.second=J.seconds=Nge;J.millisecond=J.milliseconds=S2;J.utcOffset=hme;J.utc=pme;J.local=mme;J.parseZone=gme;J.hasAlignedHourOffset=vme;J.isDST=yme;J.isLocal=_me;J.isUtcOffset=Sme;J.isUtc=c2;J.isUTC=c2;J.zoneAbbr=Mge;J.zoneName=Age;J.dates=Sr("dates accessor is deprecated. Use date instead.",_2);J.months=Sr("months accessor is deprecated. Use month instead",Q$);J.years=Sr("years accessor is deprecated. Use year instead",H$);J.zone=Sr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",fme);J.isDSTShifted=Sr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wme);function Rge(e){return it(e*1e3)}function Pge(){return it.apply(null,arguments).parseZone()}function E2(e){return e}var je=cE.prototype;je.calendar=_fe;je.longDateFormat=bfe;je.invalidDate=Dfe;je.ordinal=Ife;je.preparse=E2;je.postformat=E2;je.relativeTime=Ofe;je.pastFuture=Mfe;je.set=yfe;je.eras=oge;je.erasParse=lge;je.erasConvertYear=cge;je.erasAbbrRegex=mge;je.erasNameRegex=pge;je.erasNarrowRegex=gge;je.months=Kfe;je.monthsShort=Qfe;je.monthsParse=Jfe;je.monthsRegex=tpe;je.monthsShortRegex=epe;je.week=rpe;je.firstDayOfYear=ape;je.firstDayOfWeek=spe;je.weekdays=gpe;je.weekdaysMin=ype;je.weekdaysShort=vpe;je.weekdaysParse=_pe;je.weekdaysRegex=bpe;je.weekdaysShortRegex=kpe;je.weekdaysMinRegex=Dpe;je.isPM=xpe;je.meridiem=Ope;function Kp(e,t,n,r){var i=as(),s=mi().set(r,t);return i[n](s,e)}function T2(e,t,n){if(ns(e)&&(t=e,e=void 0),e=e||"",t!=null)return Kp(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Kp(e,r,n,"month");return i}function CE(e,t,n,r){typeof e=="boolean"?(ns(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,ns(t)&&(n=t,t=void 0),t=t||"");var i=as(),s=e?i._week.dow:0,a,o=[];if(n!=null)return Kp(t,(n+s)%7,r,"day");for(a=0;a<7;a++)o[a]=Kp(t,(a+s)%7,r,"day");return o}function $ge(e,t){return T2(e,t,"months")}function Lge(e,t){return T2(e,t,"monthsShort")}function jge(e,t,n){return CE(e,t,n,"weekdays")}function Fge(e,t,n){return CE(e,t,n,"weekdaysShort")}function Uge(e,t,n){return CE(e,t,n,"weekdaysMin")}zs("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Ie(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});ie.lang=Sr("moment.lang is deprecated. Use moment.locale instead.",zs);ie.langData=Sr("moment.langData is deprecated. Use moment.localeData instead.",as);var xi=Math.abs;function zge(){var e=this._data;return this._milliseconds=xi(this._milliseconds),this._days=xi(this._days),this._months=xi(this._months),e.milliseconds=xi(e.milliseconds),e.seconds=xi(e.seconds),e.minutes=xi(e.minutes),e.hours=xi(e.hours),e.months=xi(e.months),e.years=xi(e.years),this}function b2(e,t,n,r){var i=Yr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Vge(e,t){return b2(this,e,t,1)}function Yge(e,t){return b2(this,e,t,-1)}function hx(e){return e<0?Math.floor(e):Math.ceil(e)}function Wge(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,s,a,o,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=hx(U0(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,i=lr(e/1e3),r.seconds=i%60,s=lr(i/60),r.minutes=s%60,a=lr(s/60),r.hours=a%24,t+=lr(a/24),l=lr(k2(t)),n+=l,t-=hx(U0(l)),o=lr(n/12),n%=12,r.days=t,r.months=n,r.years=o,this}function k2(e){return e*4800/146097}function U0(e){return e*146097/4800}function Hge(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Er(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+k2(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(U0(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function os(e){return function(){return this.as(e)}}var D2=os("ms"),Bge=os("s"),Gge=os("m"),qge=os("h"),Kge=os("d"),Qge=os("w"),Xge=os("M"),Jge=os("Q"),Zge=os("y"),eve=D2;function tve(){return Yr(this)}function nve(e){return e=Er(e),this.isValid()?this[e+"s"]():NaN}function lo(e){return function(){return this.isValid()?this._data[e]:NaN}}var rve=lo("milliseconds"),ive=lo("seconds"),sve=lo("minutes"),ave=lo("hours"),ove=lo("days"),lve=lo("months"),cve=lo("years");function uve(){return lr(this.days()/7)}var Oi=Math.round,Vo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function dve(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function hve(e,t,n,r){var i=Yr(e).abs(),s=Oi(i.as("s")),a=Oi(i.as("m")),o=Oi(i.as("h")),l=Oi(i.as("d")),u=Oi(i.as("M")),d=Oi(i.as("w")),f=Oi(i.as("y")),p=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||a<=1&&["m"]||a<n.m&&["mm",a]||o<=1&&["h"]||o<n.h&&["hh",o]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(p=p||d<=1&&["w"]||d<n.w&&["ww",d]),p=p||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f],p[2]=t,p[3]=+e>0,p[4]=r,dve.apply(null,p)}function fve(e){return e===void 0?Oi:typeof e=="function"?(Oi=e,!0):!1}function pve(e,t){return Vo[e]===void 0?!1:t===void 0?Vo[e]:(Vo[e]=t,e==="s"&&(Vo.ss=t-1),!0)}function mve(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Vo,i,s;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Vo,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),s=hve(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var Fy=Math.abs;function To(e){return(e>0)-(e<0)||+e}function Wg(){if(!this.isValid())return this.localeData().invalidDate();var e=Fy(this._milliseconds)/1e3,t=Fy(this._days),n=Fy(this._months),r,i,s,a,o=this.asSeconds(),l,u,d,f;return o?(r=lr(e/60),i=lr(r/60),e%=60,r%=60,s=lr(n/12),n%=12,a=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=o<0?"-":"",u=To(this._months)!==To(o)?"-":"",d=To(this._days)!==To(o)?"-":"",f=To(this._milliseconds)!==To(o)?"-":"",l+"P"+(s?u+s+"Y":"")+(n?u+n+"M":"")+(t?d+t+"D":"")+(i||r||e?"T":"")+(i?f+i+"H":"")+(r?f+r+"M":"")+(e?f+a+"S":"")):"P0D"}var Ae=Vg.prototype;Ae.isValid=lme;Ae.abs=zge;Ae.add=Vge;Ae.subtract=Yge;Ae.as=Hge;Ae.asMilliseconds=D2;Ae.asSeconds=Bge;Ae.asMinutes=Gge;Ae.asHours=qge;Ae.asDays=Kge;Ae.asWeeks=Qge;Ae.asMonths=Xge;Ae.asQuarters=Jge;Ae.asYears=Zge;Ae.valueOf=eve;Ae._bubble=Wge;Ae.clone=tve;Ae.get=nve;Ae.milliseconds=rve;Ae.seconds=ive;Ae.minutes=sve;Ae.hours=ave;Ae.days=ove;Ae.weeks=uve;Ae.months=lve;Ae.years=cve;Ae.humanize=mve;Ae.toISOString=Wg;Ae.toString=Wg;Ae.toJSON=Wg;Ae.locale=f2;Ae.localeData=m2;Ae.toIsoString=Sr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Wg);Ae.lang=p2;fe("X",0,0,"unix");fe("x",0,0,"valueOf");le("x",jg);le("X",$fe);He("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});He("x",function(e,t,n){n._d=new Date(Ie(e))});//! moment.js
ie.version="2.30.1";gfe(it);ie.fn=J;ie.min=ime;ie.max=sme;ie.now=ame;ie.utc=mi;ie.unix=Rge;ie.months=$ge;ie.isDate=Kd;ie.locale=zs;ie.invalid=Rg;ie.duration=Yr;ie.isMoment=Vr;ie.weekdays=jge;ie.parseZone=Pge;ie.localeData=as;ie.isDuration=Mf;ie.monthsShort=Lge;ie.weekdaysMin=Uge;ie.defineLocale=wE;ie.updateLocale=Ppe;ie.locales=$pe;ie.weekdaysShort=Fge;ie.normalizeUnits=Er;ie.relativeTimeRounding=fve;ie.relativeTimeThreshold=pve;ie.calendarFormat=Ome;ie.prototype=J;ie.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function C2(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Uy={exports:{}},fx;function gve(){return fx||(fx=1,function(e,t){(function(n,r){e.exports=r()})(Hn,function(){var n;function r(){return n.apply(null,arguments)}function i(c){n=c}function s(c){return c instanceof Array||Object.prototype.toString.call(c)==="[object Array]"}function a(c){return c!=null&&Object.prototype.toString.call(c)==="[object Object]"}function o(c,h){return Object.prototype.hasOwnProperty.call(c,h)}function l(c){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(c).length===0;var h;for(h in c)if(o(c,h))return!1;return!0}function u(c){return c===void 0}function d(c){return typeof c=="number"||Object.prototype.toString.call(c)==="[object Number]"}function f(c){return c instanceof Date||Object.prototype.toString.call(c)==="[object Date]"}function p(c,h){var m=[],_,k=c.length;for(_=0;_<k;++_)m.push(h(c[_],_));return m}function g(c,h){for(var m in h)o(h,m)&&(c[m]=h[m]);return o(h,"toString")&&(c.toString=h.toString),o(h,"valueOf")&&(c.valueOf=h.valueOf),c}function S(c,h,m,_){return BE(c,h,m,_,!0).utc()}function E(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function T(c){return c._pf==null&&(c._pf=E()),c._pf}var v;Array.prototype.some?v=Array.prototype.some:v=function(c){var h=Object(this),m=h.length>>>0,_;for(_=0;_<m;_++)if(_ in h&&c.call(this,h[_],_,h))return!0;return!1};function w(c){var h=null,m=!1,_=c._d&&!isNaN(c._d.getTime());if(_&&(h=T(c),m=v.call(h.parsedDateParts,function(k){return k!=null}),_=h.overflow<0&&!h.empty&&!h.invalidEra&&!h.invalidMonth&&!h.invalidWeekday&&!h.weekdayMismatch&&!h.nullInput&&!h.invalidFormat&&!h.userInvalidated&&(!h.meridiem||h.meridiem&&m),c._strict&&(_=_&&h.charsLeftOver===0&&h.unusedTokens.length===0&&h.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(c))c._isValid=_;else return _;return c._isValid}function b(c){var h=S(NaN);return c!=null?g(T(h),c):T(h).userInvalidated=!0,h}var D=r.momentProperties=[],C=!1;function I(c,h){var m,_,k,R=D.length;if(u(h._isAMomentObject)||(c._isAMomentObject=h._isAMomentObject),u(h._i)||(c._i=h._i),u(h._f)||(c._f=h._f),u(h._l)||(c._l=h._l),u(h._strict)||(c._strict=h._strict),u(h._tzm)||(c._tzm=h._tzm),u(h._isUTC)||(c._isUTC=h._isUTC),u(h._offset)||(c._offset=h._offset),u(h._pf)||(c._pf=T(h)),u(h._locale)||(c._locale=h._locale),R>0)for(m=0;m<R;m++)_=D[m],k=h[_],u(k)||(c[_]=k);return c}function N(c){I(this,c),this._d=new Date(c._d!=null?c._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),C===!1&&(C=!0,r.updateOffset(this),C=!1)}function O(c){return c instanceof N||c!=null&&c._isAMomentObject!=null}function P(c){r.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+c)}function x(c,h){var m=!0;return g(function(){if(r.deprecationHandler!=null&&r.deprecationHandler(null,c),m){var _=[],k,R,U,ae=arguments.length;for(R=0;R<ae;R++){if(k="",typeof arguments[R]=="object"){k+=`
[`+R+"] ";for(U in arguments[0])o(arguments[0],U)&&(k+=U+": "+arguments[0][U]+", ");k=k.slice(0,-2)}else k=arguments[R];_.push(k)}P(c+`
Arguments: `+Array.prototype.slice.call(_).join("")+`
`+new Error().stack),m=!1}return h.apply(this,arguments)},h)}var j={};function K(c,h){r.deprecationHandler!=null&&r.deprecationHandler(c,h),j[c]||(P(h),j[c]=!0)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null;function W(c){return typeof Function<"u"&&c instanceof Function||Object.prototype.toString.call(c)==="[object Function]"}function ne(c){var h,m;for(m in c)o(c,m)&&(h=c[m],W(h)?this[m]=h:this["_"+m]=h);this._config=c,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function q(c,h){var m=g({},c),_;for(_ in h)o(h,_)&&(a(c[_])&&a(h[_])?(m[_]={},g(m[_],c[_]),g(m[_],h[_])):h[_]!=null?m[_]=h[_]:delete m[_]);for(_ in c)o(c,_)&&!o(h,_)&&a(c[_])&&(m[_]=g({},m[_]));return m}function ee(c){c!=null&&this.set(c)}var de;Object.keys?de=Object.keys:de=function(c){var h,m=[];for(h in c)o(c,h)&&m.push(h);return m};var B={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Y(c,h,m){var _=this._calendar[c]||this._calendar.sameElse;return W(_)?_.call(h,m):_}function V(c,h,m){var _=""+Math.abs(c),k=h-_.length,R=c>=0;return(R?m?"+":"":"-")+Math.pow(10,Math.max(0,k)).toString().substr(1)+_}var $=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,L=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,z={},G={};function F(c,h,m,_){var k=_;typeof _=="string"&&(k=function(){return this[_]()}),c&&(G[c]=k),h&&(G[h[0]]=function(){return V(k.apply(this,arguments),h[1],h[2])}),m&&(G[m]=function(){return this.localeData().ordinal(k.apply(this,arguments),c)})}function he(c){return c.match(/\[[\s\S]/)?c.replace(/^\[|\]$/g,""):c.replace(/\\/g,"")}function ye(c){var h=c.match($),m,_;for(m=0,_=h.length;m<_;m++)G[h[m]]?h[m]=G[h[m]]:h[m]=he(h[m]);return function(k){var R="",U;for(U=0;U<_;U++)R+=W(h[U])?h[U].call(k,c):h[U];return R}}function be(c,h){return c.isValid()?(h=Vt(h,c.localeData()),z[h]=z[h]||ye(h),z[h](c)):c.localeData().invalidDate()}function Vt(c,h){var m=5;function _(k){return h.longDateFormat(k)||k}for(L.lastIndex=0;m>=0&&L.test(c);)c=c.replace(L,_),L.lastIndex=0,m-=1;return c}var ls={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function vi(c){var h=this._longDateFormat[c],m=this._longDateFormat[c.toUpperCase()];return h||!m?h:(this._longDateFormat[c]=m.match($).map(function(_){return _==="MMMM"||_==="MM"||_==="DD"||_==="dddd"?_.slice(1):_}).join(""),this._longDateFormat[c])}var oa="Invalid date";function co(){return this._invalidDate}var tc="%d",Hg=/\d{1,2}/;function Zd(c){return this._ordinal.replace("%d",c)}var eh={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Bg(c,h,m,_){var k=this._relativeTime[m];return W(k)?k(c,h,m,_):k.replace(/%d/i,c)}function Gg(c,h){var m=this._relativeTime[c>0?"future":"past"];return W(m)?m(h):m.replace(/%s/i,h)}var Wr={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Yt(c){return typeof c=="string"?Wr[c]||Wr[c.toLowerCase()]:void 0}function uo(c){var h={},m,_;for(_ in c)o(c,_)&&(m=Yt(_),m&&(h[m]=c[_]));return h}var th={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function nc(c){var h=[],m;for(m in c)o(c,m)&&h.push({unit:m,priority:th[m]});return h.sort(function(_,k){return _.priority-k.priority}),h}var rc=/\d/,Zt=/\d\d/,ic=/\d{3}/,ho=/\d{4}/,nh=/[+-]?\d{6}/,Ke=/\d\d?/,xE=/\d\d\d\d?/,IE=/\d\d\d\d\d\d?/,rh=/\d{1,3}/,qg=/\d{1,4}/,ih=/[+-]?\d{1,6}/,fo=/\d+/,sh=/[+-]?\d+/,x2=/Z|[+-]\d\d:?\d\d/gi,ah=/Z|[+-]\d\d(?::?\d\d)?/gi,I2=/[+-]?\d+(\.\d{1,3})?/,sc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,po=/^[1-9]\d?/,Kg=/^([1-9]\d|\d)/,oh;oh={};function oe(c,h,m){oh[c]=W(h)?h:function(_,k){return _&&m?m:h}}function N2(c,h){return o(oh,c)?oh[c](h._strict,h._locale):new RegExp(O2(c))}function O2(c){return yi(c.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(h,m,_,k,R){return m||_||k||R}))}function yi(c){return c.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function sr(c){return c<0?Math.ceil(c)||0:Math.floor(c)}function Ce(c){var h=+c,m=0;return h!==0&&isFinite(h)&&(m=sr(h)),m}var Qg={};function Ye(c,h){var m,_=h,k;for(typeof c=="string"&&(c=[c]),d(h)&&(_=function(R,U){U[h]=Ce(R)}),k=c.length,m=0;m<k;m++)Qg[c[m]]=_}function ac(c,h){Ye(c,function(m,_,k,R){k._w=k._w||{},h(m,k._w,k,R)})}function M2(c,h,m){h!=null&&o(Qg,c)&&Qg[c](h,m._a,m,c)}function lh(c){return c%4===0&&c%100!==0||c%400===0}var en=0,wi=1,Hr=2,Ct=3,Tr=4,_i=5,la=6,A2=7,R2=8;F("Y",0,0,function(){var c=this.year();return c<=9999?V(c,4):"+"+c}),F(0,["YY",2],0,function(){return this.year()%100}),F(0,["YYYY",4],0,"year"),F(0,["YYYYY",5],0,"year"),F(0,["YYYYYY",6,!0],0,"year"),oe("Y",sh),oe("YY",Ke,Zt),oe("YYYY",qg,ho),oe("YYYYY",ih,nh),oe("YYYYYY",ih,nh),Ye(["YYYYY","YYYYYY"],en),Ye("YYYY",function(c,h){h[en]=c.length===2?r.parseTwoDigitYear(c):Ce(c)}),Ye("YY",function(c,h){h[en]=r.parseTwoDigitYear(c)}),Ye("Y",function(c,h){h[en]=parseInt(c,10)});function oc(c){return lh(c)?366:365}r.parseTwoDigitYear=function(c){return Ce(c)+(Ce(c)>68?1900:2e3)};var NE=mo("FullYear",!0);function P2(){return lh(this.year())}function mo(c,h){return function(m){return m!=null?(OE(this,c,m),r.updateOffset(this,h),this):lc(this,c)}}function lc(c,h){if(!c.isValid())return NaN;var m=c._d,_=c._isUTC;switch(h){case"Milliseconds":return _?m.getUTCMilliseconds():m.getMilliseconds();case"Seconds":return _?m.getUTCSeconds():m.getSeconds();case"Minutes":return _?m.getUTCMinutes():m.getMinutes();case"Hours":return _?m.getUTCHours():m.getHours();case"Date":return _?m.getUTCDate():m.getDate();case"Day":return _?m.getUTCDay():m.getDay();case"Month":return _?m.getUTCMonth():m.getMonth();case"FullYear":return _?m.getUTCFullYear():m.getFullYear();default:return NaN}}function OE(c,h,m){var _,k,R,U,ae;if(!(!c.isValid()||isNaN(m))){switch(_=c._d,k=c._isUTC,h){case"Milliseconds":return void(k?_.setUTCMilliseconds(m):_.setMilliseconds(m));case"Seconds":return void(k?_.setUTCSeconds(m):_.setSeconds(m));case"Minutes":return void(k?_.setUTCMinutes(m):_.setMinutes(m));case"Hours":return void(k?_.setUTCHours(m):_.setHours(m));case"Date":return void(k?_.setUTCDate(m):_.setDate(m));case"FullYear":break;default:return}R=m,U=c.month(),ae=c.date(),ae=ae===29&&U===1&&!lh(R)?28:ae,k?_.setUTCFullYear(R,U,ae):_.setFullYear(R,U,ae)}}function $2(c){return c=Yt(c),W(this[c])?this[c]():this}function L2(c,h){if(typeof c=="object"){c=uo(c);var m=nc(c),_,k=m.length;for(_=0;_<k;_++)this[m[_].unit](c[m[_].unit])}else if(c=Yt(c),W(this[c]))return this[c](h);return this}function j2(c,h){return(c%h+h)%h}var vt;Array.prototype.indexOf?vt=Array.prototype.indexOf:vt=function(c){var h;for(h=0;h<this.length;++h)if(this[h]===c)return h;return-1};function Xg(c,h){if(isNaN(c)||isNaN(h))return NaN;var m=j2(h,12);return c+=(h-m)/12,m===1?lh(c)?29:28:31-m%7%2}F("M",["MM",2],"Mo",function(){return this.month()+1}),F("MMM",0,0,function(c){return this.localeData().monthsShort(this,c)}),F("MMMM",0,0,function(c){return this.localeData().months(this,c)}),oe("M",Ke,po),oe("MM",Ke,Zt),oe("MMM",function(c,h){return h.monthsShortRegex(c)}),oe("MMMM",function(c,h){return h.monthsRegex(c)}),Ye(["M","MM"],function(c,h){h[wi]=Ce(c)-1}),Ye(["MMM","MMMM"],function(c,h,m,_){var k=m._locale.monthsParse(c,_,m._strict);k!=null?h[wi]=k:T(m).invalidMonth=c});var F2="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ME="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),AE=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,U2=sc,z2=sc;function V2(c,h){return c?s(this._months)?this._months[c.month()]:this._months[(this._months.isFormat||AE).test(h)?"format":"standalone"][c.month()]:s(this._months)?this._months:this._months.standalone}function Y2(c,h){return c?s(this._monthsShort)?this._monthsShort[c.month()]:this._monthsShort[AE.test(h)?"format":"standalone"][c.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function W2(c,h,m){var _,k,R,U=c.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],_=0;_<12;++_)R=S([2e3,_]),this._shortMonthsParse[_]=this.monthsShort(R,"").toLocaleLowerCase(),this._longMonthsParse[_]=this.months(R,"").toLocaleLowerCase();return m?h==="MMM"?(k=vt.call(this._shortMonthsParse,U),k!==-1?k:null):(k=vt.call(this._longMonthsParse,U),k!==-1?k:null):h==="MMM"?(k=vt.call(this._shortMonthsParse,U),k!==-1?k:(k=vt.call(this._longMonthsParse,U),k!==-1?k:null)):(k=vt.call(this._longMonthsParse,U),k!==-1?k:(k=vt.call(this._shortMonthsParse,U),k!==-1?k:null))}function H2(c,h,m){var _,k,R;if(this._monthsParseExact)return W2.call(this,c,h,m);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),_=0;_<12;_++){if(k=S([2e3,_]),m&&!this._longMonthsParse[_]&&(this._longMonthsParse[_]=new RegExp("^"+this.months(k,"").replace(".","")+"$","i"),this._shortMonthsParse[_]=new RegExp("^"+this.monthsShort(k,"").replace(".","")+"$","i")),!m&&!this._monthsParse[_]&&(R="^"+this.months(k,"")+"|^"+this.monthsShort(k,""),this._monthsParse[_]=new RegExp(R.replace(".",""),"i")),m&&h==="MMMM"&&this._longMonthsParse[_].test(c))return _;if(m&&h==="MMM"&&this._shortMonthsParse[_].test(c))return _;if(!m&&this._monthsParse[_].test(c))return _}}function RE(c,h){if(!c.isValid())return c;if(typeof h=="string"){if(/^\d+$/.test(h))h=Ce(h);else if(h=c.localeData().monthsParse(h),!d(h))return c}var m=h,_=c.date();return _=_<29?_:Math.min(_,Xg(c.year(),m)),c._isUTC?c._d.setUTCMonth(m,_):c._d.setMonth(m,_),c}function PE(c){return c!=null?(RE(this,c),r.updateOffset(this,!0),this):lc(this,"Month")}function B2(){return Xg(this.year(),this.month())}function G2(c){return this._monthsParseExact?(o(this,"_monthsRegex")||$E.call(this),c?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=U2),this._monthsShortStrictRegex&&c?this._monthsShortStrictRegex:this._monthsShortRegex)}function q2(c){return this._monthsParseExact?(o(this,"_monthsRegex")||$E.call(this),c?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=z2),this._monthsStrictRegex&&c?this._monthsStrictRegex:this._monthsRegex)}function $E(){function c(ge,Ne){return Ne.length-ge.length}var h=[],m=[],_=[],k,R,U,ae;for(k=0;k<12;k++)R=S([2e3,k]),U=yi(this.monthsShort(R,"")),ae=yi(this.months(R,"")),h.push(U),m.push(ae),_.push(ae),_.push(U);h.sort(c),m.sort(c),_.sort(c),this._monthsRegex=new RegExp("^("+_.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+h.join("|")+")","i")}function K2(c,h,m,_,k,R,U){var ae;return c<100&&c>=0?(ae=new Date(c+400,h,m,_,k,R,U),isFinite(ae.getFullYear())&&ae.setFullYear(c)):ae=new Date(c,h,m,_,k,R,U),ae}function cc(c){var h,m;return c<100&&c>=0?(m=Array.prototype.slice.call(arguments),m[0]=c+400,h=new Date(Date.UTC.apply(null,m)),isFinite(h.getUTCFullYear())&&h.setUTCFullYear(c)):h=new Date(Date.UTC.apply(null,arguments)),h}function ch(c,h,m){var _=7+h-m,k=(7+cc(c,0,_).getUTCDay()-h)%7;return-k+_-1}function LE(c,h,m,_,k){var R=(7+m-_)%7,U=ch(c,_,k),ae=1+7*(h-1)+R+U,ge,Ne;return ae<=0?(ge=c-1,Ne=oc(ge)+ae):ae>oc(c)?(ge=c+1,Ne=ae-oc(c)):(ge=c,Ne=ae),{year:ge,dayOfYear:Ne}}function uc(c,h,m){var _=ch(c.year(),h,m),k=Math.floor((c.dayOfYear()-_-1)/7)+1,R,U;return k<1?(U=c.year()-1,R=k+Si(U,h,m)):k>Si(c.year(),h,m)?(R=k-Si(c.year(),h,m),U=c.year()+1):(U=c.year(),R=k),{week:R,year:U}}function Si(c,h,m){var _=ch(c,h,m),k=ch(c+1,h,m);return(oc(c)-_+k)/7}F("w",["ww",2],"wo","week"),F("W",["WW",2],"Wo","isoWeek"),oe("w",Ke,po),oe("ww",Ke,Zt),oe("W",Ke,po),oe("WW",Ke,Zt),ac(["w","ww","W","WW"],function(c,h,m,_){h[_.substr(0,1)]=Ce(c)});function Q2(c){return uc(c,this._week.dow,this._week.doy).week}var X2={dow:0,doy:6};function J2(){return this._week.dow}function Z2(){return this._week.doy}function eL(c){var h=this.localeData().week(this);return c==null?h:this.add((c-h)*7,"d")}function tL(c){var h=uc(this,1,4).week;return c==null?h:this.add((c-h)*7,"d")}F("d",0,"do","day"),F("dd",0,0,function(c){return this.localeData().weekdaysMin(this,c)}),F("ddd",0,0,function(c){return this.localeData().weekdaysShort(this,c)}),F("dddd",0,0,function(c){return this.localeData().weekdays(this,c)}),F("e",0,0,"weekday"),F("E",0,0,"isoWeekday"),oe("d",Ke),oe("e",Ke),oe("E",Ke),oe("dd",function(c,h){return h.weekdaysMinRegex(c)}),oe("ddd",function(c,h){return h.weekdaysShortRegex(c)}),oe("dddd",function(c,h){return h.weekdaysRegex(c)}),ac(["dd","ddd","dddd"],function(c,h,m,_){var k=m._locale.weekdaysParse(c,_,m._strict);k!=null?h.d=k:T(m).invalidWeekday=c}),ac(["d","e","E"],function(c,h,m,_){h[_]=Ce(c)});function nL(c,h){return typeof c!="string"?c:isNaN(c)?(c=h.weekdaysParse(c),typeof c=="number"?c:null):parseInt(c,10)}function rL(c,h){return typeof c=="string"?h.weekdaysParse(c)%7||7:isNaN(c)?null:c}function Jg(c,h){return c.slice(h,7).concat(c.slice(0,h))}var iL="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),jE="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),sL="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),aL=sc,oL=sc,lL=sc;function cL(c,h){var m=s(this._weekdays)?this._weekdays:this._weekdays[c&&c!==!0&&this._weekdays.isFormat.test(h)?"format":"standalone"];return c===!0?Jg(m,this._week.dow):c?m[c.day()]:m}function uL(c){return c===!0?Jg(this._weekdaysShort,this._week.dow):c?this._weekdaysShort[c.day()]:this._weekdaysShort}function dL(c){return c===!0?Jg(this._weekdaysMin,this._week.dow):c?this._weekdaysMin[c.day()]:this._weekdaysMin}function hL(c,h,m){var _,k,R,U=c.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],_=0;_<7;++_)R=S([2e3,1]).day(_),this._minWeekdaysParse[_]=this.weekdaysMin(R,"").toLocaleLowerCase(),this._shortWeekdaysParse[_]=this.weekdaysShort(R,"").toLocaleLowerCase(),this._weekdaysParse[_]=this.weekdays(R,"").toLocaleLowerCase();return m?h==="dddd"?(k=vt.call(this._weekdaysParse,U),k!==-1?k:null):h==="ddd"?(k=vt.call(this._shortWeekdaysParse,U),k!==-1?k:null):(k=vt.call(this._minWeekdaysParse,U),k!==-1?k:null):h==="dddd"?(k=vt.call(this._weekdaysParse,U),k!==-1||(k=vt.call(this._shortWeekdaysParse,U),k!==-1)?k:(k=vt.call(this._minWeekdaysParse,U),k!==-1?k:null)):h==="ddd"?(k=vt.call(this._shortWeekdaysParse,U),k!==-1||(k=vt.call(this._weekdaysParse,U),k!==-1)?k:(k=vt.call(this._minWeekdaysParse,U),k!==-1?k:null)):(k=vt.call(this._minWeekdaysParse,U),k!==-1||(k=vt.call(this._weekdaysParse,U),k!==-1)?k:(k=vt.call(this._shortWeekdaysParse,U),k!==-1?k:null))}function fL(c,h,m){var _,k,R;if(this._weekdaysParseExact)return hL.call(this,c,h,m);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),_=0;_<7;_++){if(k=S([2e3,1]).day(_),m&&!this._fullWeekdaysParse[_]&&(this._fullWeekdaysParse[_]=new RegExp("^"+this.weekdays(k,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[_]=new RegExp("^"+this.weekdaysShort(k,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[_]=new RegExp("^"+this.weekdaysMin(k,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[_]||(R="^"+this.weekdays(k,"")+"|^"+this.weekdaysShort(k,"")+"|^"+this.weekdaysMin(k,""),this._weekdaysParse[_]=new RegExp(R.replace(".",""),"i")),m&&h==="dddd"&&this._fullWeekdaysParse[_].test(c))return _;if(m&&h==="ddd"&&this._shortWeekdaysParse[_].test(c))return _;if(m&&h==="dd"&&this._minWeekdaysParse[_].test(c))return _;if(!m&&this._weekdaysParse[_].test(c))return _}}function pL(c){if(!this.isValid())return c!=null?this:NaN;var h=lc(this,"Day");return c!=null?(c=nL(c,this.localeData()),this.add(c-h,"d")):h}function mL(c){if(!this.isValid())return c!=null?this:NaN;var h=(this.day()+7-this.localeData()._week.dow)%7;return c==null?h:this.add(c-h,"d")}function gL(c){if(!this.isValid())return c!=null?this:NaN;if(c!=null){var h=rL(c,this.localeData());return this.day(this.day()%7?h:h-7)}else return this.day()||7}function vL(c){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Zg.call(this),c?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=aL),this._weekdaysStrictRegex&&c?this._weekdaysStrictRegex:this._weekdaysRegex)}function yL(c){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Zg.call(this),c?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=oL),this._weekdaysShortStrictRegex&&c?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function wL(c){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Zg.call(this),c?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=lL),this._weekdaysMinStrictRegex&&c?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Zg(){function c(wn,Di){return Di.length-wn.length}var h=[],m=[],_=[],k=[],R,U,ae,ge,Ne;for(R=0;R<7;R++)U=S([2e3,1]).day(R),ae=yi(this.weekdaysMin(U,"")),ge=yi(this.weekdaysShort(U,"")),Ne=yi(this.weekdays(U,"")),h.push(ae),m.push(ge),_.push(Ne),k.push(ae),k.push(ge),k.push(Ne);h.sort(c),m.sort(c),_.sort(c),k.sort(c),this._weekdaysRegex=new RegExp("^("+k.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+_.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+h.join("|")+")","i")}function ev(){return this.hours()%12||12}function _L(){return this.hours()||24}F("H",["HH",2],0,"hour"),F("h",["hh",2],0,ev),F("k",["kk",2],0,_L),F("hmm",0,0,function(){return""+ev.apply(this)+V(this.minutes(),2)}),F("hmmss",0,0,function(){return""+ev.apply(this)+V(this.minutes(),2)+V(this.seconds(),2)}),F("Hmm",0,0,function(){return""+this.hours()+V(this.minutes(),2)}),F("Hmmss",0,0,function(){return""+this.hours()+V(this.minutes(),2)+V(this.seconds(),2)});function FE(c,h){F(c,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),h)})}FE("a",!0),FE("A",!1);function UE(c,h){return h._meridiemParse}oe("a",UE),oe("A",UE),oe("H",Ke,Kg),oe("h",Ke,po),oe("k",Ke,po),oe("HH",Ke,Zt),oe("hh",Ke,Zt),oe("kk",Ke,Zt),oe("hmm",xE),oe("hmmss",IE),oe("Hmm",xE),oe("Hmmss",IE),Ye(["H","HH"],Ct),Ye(["k","kk"],function(c,h,m){var _=Ce(c);h[Ct]=_===24?0:_}),Ye(["a","A"],function(c,h,m){m._isPm=m._locale.isPM(c),m._meridiem=c}),Ye(["h","hh"],function(c,h,m){h[Ct]=Ce(c),T(m).bigHour=!0}),Ye("hmm",function(c,h,m){var _=c.length-2;h[Ct]=Ce(c.substr(0,_)),h[Tr]=Ce(c.substr(_)),T(m).bigHour=!0}),Ye("hmmss",function(c,h,m){var _=c.length-4,k=c.length-2;h[Ct]=Ce(c.substr(0,_)),h[Tr]=Ce(c.substr(_,2)),h[_i]=Ce(c.substr(k)),T(m).bigHour=!0}),Ye("Hmm",function(c,h,m){var _=c.length-2;h[Ct]=Ce(c.substr(0,_)),h[Tr]=Ce(c.substr(_))}),Ye("Hmmss",function(c,h,m){var _=c.length-4,k=c.length-2;h[Ct]=Ce(c.substr(0,_)),h[Tr]=Ce(c.substr(_,2)),h[_i]=Ce(c.substr(k))});function SL(c){return(c+"").toLowerCase().charAt(0)==="p"}var EL=/[ap]\.?m?\.?/i,TL=mo("Hours",!0);function bL(c,h,m){return c>11?m?"pm":"PM":m?"am":"AM"}var zE={calendar:B,longDateFormat:ls,invalidDate:oa,ordinal:tc,dayOfMonthOrdinalParse:Hg,relativeTime:eh,months:F2,monthsShort:ME,week:X2,weekdays:iL,weekdaysMin:sL,weekdaysShort:jE,meridiemParse:EL},at={},dc={},hc;function kL(c,h){var m,_=Math.min(c.length,h.length);for(m=0;m<_;m+=1)if(c[m]!==h[m])return m;return _}function VE(c){return c&&c.toLowerCase().replace("_","-")}function DL(c){for(var h=0,m,_,k,R;h<c.length;){for(R=VE(c[h]).split("-"),m=R.length,_=VE(c[h+1]),_=_?_.split("-"):null;m>0;){if(k=uh(R.slice(0,m).join("-")),k)return k;if(_&&_.length>=m&&kL(R,_)>=m-1)break;m--}h++}return hc}function CL(c){return!!(c&&c.match("^[^/\\\\]*$"))}function uh(c){var h=null,m;if(at[c]===void 0&&e&&e.exports&&CL(c))try{h=hc._abbr,m=C2,m("./locale/"+c),cs(h)}catch{at[c]=null}return at[c]}function cs(c,h){var m;return c&&(u(h)?m=Ei(c):m=tv(c,h),m?hc=m:typeof console<"u"&&console.warn&&console.warn("Locale "+c+" not found. Did you forget to load it?")),hc._abbr}function tv(c,h){if(h!==null){var m,_=zE;if(h.abbr=c,at[c]!=null)K("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),_=at[c]._config;else if(h.parentLocale!=null)if(at[h.parentLocale]!=null)_=at[h.parentLocale]._config;else if(m=uh(h.parentLocale),m!=null)_=m._config;else return dc[h.parentLocale]||(dc[h.parentLocale]=[]),dc[h.parentLocale].push({name:c,config:h}),null;return at[c]=new ee(q(_,h)),dc[c]&&dc[c].forEach(function(k){tv(k.name,k.config)}),cs(c),at[c]}else return delete at[c],null}function xL(c,h){if(h!=null){var m,_,k=zE;at[c]!=null&&at[c].parentLocale!=null?at[c].set(q(at[c]._config,h)):(_=uh(c),_!=null&&(k=_._config),h=q(k,h),_==null&&(h.abbr=c),m=new ee(h),m.parentLocale=at[c],at[c]=m),cs(c)}else at[c]!=null&&(at[c].parentLocale!=null?(at[c]=at[c].parentLocale,c===cs()&&cs(c)):at[c]!=null&&delete at[c]);return at[c]}function Ei(c){var h;if(c&&c._locale&&c._locale._abbr&&(c=c._locale._abbr),!c)return hc;if(!s(c)){if(h=uh(c),h)return h;c=[c]}return DL(c)}function IL(){return de(at)}function nv(c){var h,m=c._a;return m&&T(c).overflow===-2&&(h=m[wi]<0||m[wi]>11?wi:m[Hr]<1||m[Hr]>Xg(m[en],m[wi])?Hr:m[Ct]<0||m[Ct]>24||m[Ct]===24&&(m[Tr]!==0||m[_i]!==0||m[la]!==0)?Ct:m[Tr]<0||m[Tr]>59?Tr:m[_i]<0||m[_i]>59?_i:m[la]<0||m[la]>999?la:-1,T(c)._overflowDayOfYear&&(h<en||h>Hr)&&(h=Hr),T(c)._overflowWeeks&&h===-1&&(h=A2),T(c)._overflowWeekday&&h===-1&&(h=R2),T(c).overflow=h),c}var NL=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,OL=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ML=/Z|[+-]\d\d(?::?\d\d)?/,dh=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],rv=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],AL=/^\/?Date\((-?\d+)/i,RL=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,PL={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function YE(c){var h,m,_=c._i,k=NL.exec(_)||OL.exec(_),R,U,ae,ge,Ne=dh.length,wn=rv.length;if(k){for(T(c).iso=!0,h=0,m=Ne;h<m;h++)if(dh[h][1].exec(k[1])){U=dh[h][0],R=dh[h][2]!==!1;break}if(U==null){c._isValid=!1;return}if(k[3]){for(h=0,m=wn;h<m;h++)if(rv[h][1].exec(k[3])){ae=(k[2]||" ")+rv[h][0];break}if(ae==null){c._isValid=!1;return}}if(!R&&ae!=null){c._isValid=!1;return}if(k[4])if(ML.exec(k[4]))ge="Z";else{c._isValid=!1;return}c._f=U+(ae||"")+(ge||""),sv(c)}else c._isValid=!1}function $L(c,h,m,_,k,R){var U=[LL(c),ME.indexOf(h),parseInt(m,10),parseInt(_,10),parseInt(k,10)];return R&&U.push(parseInt(R,10)),U}function LL(c){var h=parseInt(c,10);return h<=49?2e3+h:h<=999?1900+h:h}function jL(c){return c.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function FL(c,h,m){if(c){var _=jE.indexOf(c),k=new Date(h[0],h[1],h[2]).getDay();if(_!==k)return T(m).weekdayMismatch=!0,m._isValid=!1,!1}return!0}function UL(c,h,m){if(c)return PL[c];if(h)return 0;var _=parseInt(m,10),k=_%100,R=(_-k)/100;return R*60+k}function WE(c){var h=RL.exec(jL(c._i)),m;if(h){if(m=$L(h[4],h[3],h[2],h[5],h[6],h[7]),!FL(h[1],m,c))return;c._a=m,c._tzm=UL(h[8],h[9],h[10]),c._d=cc.apply(null,c._a),c._d.setUTCMinutes(c._d.getUTCMinutes()-c._tzm),T(c).rfc2822=!0}else c._isValid=!1}function zL(c){var h=AL.exec(c._i);if(h!==null){c._d=new Date(+h[1]);return}if(YE(c),c._isValid===!1)delete c._isValid;else return;if(WE(c),c._isValid===!1)delete c._isValid;else return;c._strict?c._isValid=!1:r.createFromInputFallback(c)}r.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(c){c._d=new Date(c._i+(c._useUTC?" UTC":""))});function go(c,h,m){return c??h??m}function VL(c){var h=new Date(r.now());return c._useUTC?[h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()]:[h.getFullYear(),h.getMonth(),h.getDate()]}function iv(c){var h,m,_=[],k,R,U;if(!c._d){for(k=VL(c),c._w&&c._a[Hr]==null&&c._a[wi]==null&&YL(c),c._dayOfYear!=null&&(U=go(c._a[en],k[en]),(c._dayOfYear>oc(U)||c._dayOfYear===0)&&(T(c)._overflowDayOfYear=!0),m=cc(U,0,c._dayOfYear),c._a[wi]=m.getUTCMonth(),c._a[Hr]=m.getUTCDate()),h=0;h<3&&c._a[h]==null;++h)c._a[h]=_[h]=k[h];for(;h<7;h++)c._a[h]=_[h]=c._a[h]==null?h===2?1:0:c._a[h];c._a[Ct]===24&&c._a[Tr]===0&&c._a[_i]===0&&c._a[la]===0&&(c._nextDay=!0,c._a[Ct]=0),c._d=(c._useUTC?cc:K2).apply(null,_),R=c._useUTC?c._d.getUTCDay():c._d.getDay(),c._tzm!=null&&c._d.setUTCMinutes(c._d.getUTCMinutes()-c._tzm),c._nextDay&&(c._a[Ct]=24),c._w&&typeof c._w.d<"u"&&c._w.d!==R&&(T(c).weekdayMismatch=!0)}}function YL(c){var h,m,_,k,R,U,ae,ge,Ne;h=c._w,h.GG!=null||h.W!=null||h.E!=null?(R=1,U=4,m=go(h.GG,c._a[en],uc(Qe(),1,4).year),_=go(h.W,1),k=go(h.E,1),(k<1||k>7)&&(ge=!0)):(R=c._locale._week.dow,U=c._locale._week.doy,Ne=uc(Qe(),R,U),m=go(h.gg,c._a[en],Ne.year),_=go(h.w,Ne.week),h.d!=null?(k=h.d,(k<0||k>6)&&(ge=!0)):h.e!=null?(k=h.e+R,(h.e<0||h.e>6)&&(ge=!0)):k=R),_<1||_>Si(m,R,U)?T(c)._overflowWeeks=!0:ge!=null?T(c)._overflowWeekday=!0:(ae=LE(m,_,k,R,U),c._a[en]=ae.year,c._dayOfYear=ae.dayOfYear)}r.ISO_8601=function(){},r.RFC_2822=function(){};function sv(c){if(c._f===r.ISO_8601){YE(c);return}if(c._f===r.RFC_2822){WE(c);return}c._a=[],T(c).empty=!0;var h=""+c._i,m,_,k,R,U,ae=h.length,ge=0,Ne,wn;for(k=Vt(c._f,c._locale).match($)||[],wn=k.length,m=0;m<wn;m++)R=k[m],_=(h.match(N2(R,c))||[])[0],_&&(U=h.substr(0,h.indexOf(_)),U.length>0&&T(c).unusedInput.push(U),h=h.slice(h.indexOf(_)+_.length),ge+=_.length),G[R]?(_?T(c).empty=!1:T(c).unusedTokens.push(R),M2(R,_,c)):c._strict&&!_&&T(c).unusedTokens.push(R);T(c).charsLeftOver=ae-ge,h.length>0&&T(c).unusedInput.push(h),c._a[Ct]<=12&&T(c).bigHour===!0&&c._a[Ct]>0&&(T(c).bigHour=void 0),T(c).parsedDateParts=c._a.slice(0),T(c).meridiem=c._meridiem,c._a[Ct]=WL(c._locale,c._a[Ct],c._meridiem),Ne=T(c).era,Ne!==null&&(c._a[en]=c._locale.erasConvertYear(Ne,c._a[en])),iv(c),nv(c)}function WL(c,h,m){var _;return m==null?h:c.meridiemHour!=null?c.meridiemHour(h,m):(c.isPM!=null&&(_=c.isPM(m),_&&h<12&&(h+=12),!_&&h===12&&(h=0)),h)}function HL(c){var h,m,_,k,R,U,ae=!1,ge=c._f.length;if(ge===0){T(c).invalidFormat=!0,c._d=new Date(NaN);return}for(k=0;k<ge;k++)R=0,U=!1,h=I({},c),c._useUTC!=null&&(h._useUTC=c._useUTC),h._f=c._f[k],sv(h),w(h)&&(U=!0),R+=T(h).charsLeftOver,R+=T(h).unusedTokens.length*10,T(h).score=R,ae?R<_&&(_=R,m=h):(_==null||R<_||U)&&(_=R,m=h,U&&(ae=!0));g(c,m||h)}function BL(c){if(!c._d){var h=uo(c._i),m=h.day===void 0?h.date:h.day;c._a=p([h.year,h.month,m,h.hour,h.minute,h.second,h.millisecond],function(_){return _&&parseInt(_,10)}),iv(c)}}function GL(c){var h=new N(nv(HE(c)));return h._nextDay&&(h.add(1,"d"),h._nextDay=void 0),h}function HE(c){var h=c._i,m=c._f;return c._locale=c._locale||Ei(c._l),h===null||m===void 0&&h===""?b({nullInput:!0}):(typeof h=="string"&&(c._i=h=c._locale.preparse(h)),O(h)?new N(nv(h)):(f(h)?c._d=h:s(m)?HL(c):m?sv(c):qL(c),w(c)||(c._d=null),c))}function qL(c){var h=c._i;u(h)?c._d=new Date(r.now()):f(h)?c._d=new Date(h.valueOf()):typeof h=="string"?zL(c):s(h)?(c._a=p(h.slice(0),function(m){return parseInt(m,10)}),iv(c)):a(h)?BL(c):d(h)?c._d=new Date(h):r.createFromInputFallback(c)}function BE(c,h,m,_,k){var R={};return(h===!0||h===!1)&&(_=h,h=void 0),(m===!0||m===!1)&&(_=m,m=void 0),(a(c)&&l(c)||s(c)&&c.length===0)&&(c=void 0),R._isAMomentObject=!0,R._useUTC=R._isUTC=k,R._l=m,R._i=c,R._f=h,R._strict=_,GL(R)}function Qe(c,h,m,_){return BE(c,h,m,_,!1)}var KL=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var c=Qe.apply(null,arguments);return this.isValid()&&c.isValid()?c<this?this:c:b()}),QL=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var c=Qe.apply(null,arguments);return this.isValid()&&c.isValid()?c>this?this:c:b()});function GE(c,h){var m,_;if(h.length===1&&s(h[0])&&(h=h[0]),!h.length)return Qe();for(m=h[0],_=1;_<h.length;++_)(!h[_].isValid()||h[_][c](m))&&(m=h[_]);return m}function XL(){var c=[].slice.call(arguments,0);return GE("isBefore",c)}function JL(){var c=[].slice.call(arguments,0);return GE("isAfter",c)}var ZL=function(){return Date.now?Date.now():+new Date},fc=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ej(c){var h,m=!1,_,k=fc.length;for(h in c)if(o(c,h)&&!(vt.call(fc,h)!==-1&&(c[h]==null||!isNaN(c[h]))))return!1;for(_=0;_<k;++_)if(c[fc[_]]){if(m)return!1;parseFloat(c[fc[_]])!==Ce(c[fc[_]])&&(m=!0)}return!0}function tj(){return this._isValid}function nj(){return br(NaN)}function hh(c){var h=uo(c),m=h.year||0,_=h.quarter||0,k=h.month||0,R=h.week||h.isoWeek||0,U=h.day||0,ae=h.hour||0,ge=h.minute||0,Ne=h.second||0,wn=h.millisecond||0;this._isValid=ej(h),this._milliseconds=+wn+Ne*1e3+ge*6e4+ae*1e3*60*60,this._days=+U+R*7,this._months=+k+_*3+m*12,this._data={},this._locale=Ei(),this._bubble()}function fh(c){return c instanceof hh}function av(c){return c<0?Math.round(-1*c)*-1:Math.round(c)}function rj(c,h,m){var _=Math.min(c.length,h.length),k=Math.abs(c.length-h.length),R=0,U;for(U=0;U<_;U++)(m&&c[U]!==h[U]||!m&&Ce(c[U])!==Ce(h[U]))&&R++;return R+k}function qE(c,h){F(c,0,0,function(){var m=this.utcOffset(),_="+";return m<0&&(m=-m,_="-"),_+V(~~(m/60),2)+h+V(~~m%60,2)})}qE("Z",":"),qE("ZZ",""),oe("Z",ah),oe("ZZ",ah),Ye(["Z","ZZ"],function(c,h,m){m._useUTC=!0,m._tzm=ov(ah,c)});var ij=/([\+\-]|\d\d)/gi;function ov(c,h){var m=(h||"").match(c),_,k,R;return m===null?null:(_=m[m.length-1]||[],k=(_+"").match(ij)||["-",0,0],R=+(k[1]*60)+Ce(k[2]),R===0?0:k[0]==="+"?R:-R)}function lv(c,h){var m,_;return h._isUTC?(m=h.clone(),_=(O(c)||f(c)?c.valueOf():Qe(c).valueOf())-m.valueOf(),m._d.setTime(m._d.valueOf()+_),r.updateOffset(m,!1),m):Qe(c).local()}function cv(c){return-Math.round(c._d.getTimezoneOffset())}r.updateOffset=function(){};function sj(c,h,m){var _=this._offset||0,k;if(!this.isValid())return c!=null?this:NaN;if(c!=null){if(typeof c=="string"){if(c=ov(ah,c),c===null)return this}else Math.abs(c)<16&&!m&&(c=c*60);return!this._isUTC&&h&&(k=cv(this)),this._offset=c,this._isUTC=!0,k!=null&&this.add(k,"m"),_!==c&&(!h||this._changeInProgress?JE(this,br(c-_,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?_:cv(this)}function aj(c,h){return c!=null?(typeof c!="string"&&(c=-c),this.utcOffset(c,h),this):-this.utcOffset()}function oj(c){return this.utcOffset(0,c)}function lj(c){return this._isUTC&&(this.utcOffset(0,c),this._isUTC=!1,c&&this.subtract(cv(this),"m")),this}function cj(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var c=ov(x2,this._i);c!=null?this.utcOffset(c):this.utcOffset(0,!0)}return this}function uj(c){return this.isValid()?(c=c?Qe(c).utcOffset():0,(this.utcOffset()-c)%60===0):!1}function dj(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function hj(){if(!u(this._isDSTShifted))return this._isDSTShifted;var c={},h;return I(c,this),c=HE(c),c._a?(h=c._isUTC?S(c._a):Qe(c._a),this._isDSTShifted=this.isValid()&&rj(c._a,h.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function fj(){return this.isValid()?!this._isUTC:!1}function pj(){return this.isValid()?this._isUTC:!1}function KE(){return this.isValid()?this._isUTC&&this._offset===0:!1}var mj=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,gj=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function br(c,h){var m=c,_=null,k,R,U;return fh(c)?m={ms:c._milliseconds,d:c._days,M:c._months}:d(c)||!isNaN(+c)?(m={},h?m[h]=+c:m.milliseconds=+c):(_=mj.exec(c))?(k=_[1]==="-"?-1:1,m={y:0,d:Ce(_[Hr])*k,h:Ce(_[Ct])*k,m:Ce(_[Tr])*k,s:Ce(_[_i])*k,ms:Ce(av(_[la]*1e3))*k}):(_=gj.exec(c))?(k=_[1]==="-"?-1:1,m={y:ca(_[2],k),M:ca(_[3],k),w:ca(_[4],k),d:ca(_[5],k),h:ca(_[6],k),m:ca(_[7],k),s:ca(_[8],k)}):m==null?m={}:typeof m=="object"&&("from"in m||"to"in m)&&(U=vj(Qe(m.from),Qe(m.to)),m={},m.ms=U.milliseconds,m.M=U.months),R=new hh(m),fh(c)&&o(c,"_locale")&&(R._locale=c._locale),fh(c)&&o(c,"_isValid")&&(R._isValid=c._isValid),R}br.fn=hh.prototype,br.invalid=nj;function ca(c,h){var m=c&&parseFloat(c.replace(",","."));return(isNaN(m)?0:m)*h}function QE(c,h){var m={};return m.months=h.month()-c.month()+(h.year()-c.year())*12,c.clone().add(m.months,"M").isAfter(h)&&--m.months,m.milliseconds=+h-+c.clone().add(m.months,"M"),m}function vj(c,h){var m;return c.isValid()&&h.isValid()?(h=lv(h,c),c.isBefore(h)?m=QE(c,h):(m=QE(h,c),m.milliseconds=-m.milliseconds,m.months=-m.months),m):{milliseconds:0,months:0}}function XE(c,h){return function(m,_){var k,R;return _!==null&&!isNaN(+_)&&(K(h,"moment()."+h+"(period, number) is deprecated. Please use moment()."+h+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),R=m,m=_,_=R),k=br(m,_),JE(this,k,c),this}}function JE(c,h,m,_){var k=h._milliseconds,R=av(h._days),U=av(h._months);c.isValid()&&(_=_??!0,U&&RE(c,lc(c,"Month")+U*m),R&&OE(c,"Date",lc(c,"Date")+R*m),k&&c._d.setTime(c._d.valueOf()+k*m),_&&r.updateOffset(c,R||U))}var yj=XE(1,"add"),wj=XE(-1,"subtract");function ZE(c){return typeof c=="string"||c instanceof String}function _j(c){return O(c)||f(c)||ZE(c)||d(c)||Ej(c)||Sj(c)||c===null||c===void 0}function Sj(c){var h=a(c)&&!l(c),m=!1,_=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],k,R,U=_.length;for(k=0;k<U;k+=1)R=_[k],m=m||o(c,R);return h&&m}function Ej(c){var h=s(c),m=!1;return h&&(m=c.filter(function(_){return!d(_)&&ZE(c)}).length===0),h&&m}function Tj(c){var h=a(c)&&!l(c),m=!1,_=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],k,R;for(k=0;k<_.length;k+=1)R=_[k],m=m||o(c,R);return h&&m}function bj(c,h){var m=c.diff(h,"days",!0);return m<-6?"sameElse":m<-1?"lastWeek":m<0?"lastDay":m<1?"sameDay":m<2?"nextDay":m<7?"nextWeek":"sameElse"}function kj(c,h){arguments.length===1&&(arguments[0]?_j(arguments[0])?(c=arguments[0],h=void 0):Tj(arguments[0])&&(h=arguments[0],c=void 0):(c=void 0,h=void 0));var m=c||Qe(),_=lv(m,this).startOf("day"),k=r.calendarFormat(this,_)||"sameElse",R=h&&(W(h[k])?h[k].call(this,m):h[k]);return this.format(R||this.localeData().calendar(k,this,Qe(m)))}function Dj(){return new N(this)}function Cj(c,h){var m=O(c)?c:Qe(c);return this.isValid()&&m.isValid()?(h=Yt(h)||"millisecond",h==="millisecond"?this.valueOf()>m.valueOf():m.valueOf()<this.clone().startOf(h).valueOf()):!1}function xj(c,h){var m=O(c)?c:Qe(c);return this.isValid()&&m.isValid()?(h=Yt(h)||"millisecond",h==="millisecond"?this.valueOf()<m.valueOf():this.clone().endOf(h).valueOf()<m.valueOf()):!1}function Ij(c,h,m,_){var k=O(c)?c:Qe(c),R=O(h)?h:Qe(h);return this.isValid()&&k.isValid()&&R.isValid()?(_=_||"()",(_[0]==="("?this.isAfter(k,m):!this.isBefore(k,m))&&(_[1]===")"?this.isBefore(R,m):!this.isAfter(R,m))):!1}function Nj(c,h){var m=O(c)?c:Qe(c),_;return this.isValid()&&m.isValid()?(h=Yt(h)||"millisecond",h==="millisecond"?this.valueOf()===m.valueOf():(_=m.valueOf(),this.clone().startOf(h).valueOf()<=_&&_<=this.clone().endOf(h).valueOf())):!1}function Oj(c,h){return this.isSame(c,h)||this.isAfter(c,h)}function Mj(c,h){return this.isSame(c,h)||this.isBefore(c,h)}function Aj(c,h,m){var _,k,R;if(!this.isValid())return NaN;if(_=lv(c,this),!_.isValid())return NaN;switch(k=(_.utcOffset()-this.utcOffset())*6e4,h=Yt(h),h){case"year":R=ph(this,_)/12;break;case"month":R=ph(this,_);break;case"quarter":R=ph(this,_)/3;break;case"second":R=(this-_)/1e3;break;case"minute":R=(this-_)/6e4;break;case"hour":R=(this-_)/36e5;break;case"day":R=(this-_-k)/864e5;break;case"week":R=(this-_-k)/6048e5;break;default:R=this-_}return m?R:sr(R)}function ph(c,h){if(c.date()<h.date())return-ph(h,c);var m=(h.year()-c.year())*12+(h.month()-c.month()),_=c.clone().add(m,"months"),k,R;return h-_<0?(k=c.clone().add(m-1,"months"),R=(h-_)/(_-k)):(k=c.clone().add(m+1,"months"),R=(h-_)/(k-_)),-(m+R)||0}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Rj(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Pj(c){if(!this.isValid())return null;var h=c!==!0,m=h?this.clone().utc():this;return m.year()<0||m.year()>9999?be(m,h?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):W(Date.prototype.toISOString)?h?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",be(m,"Z")):be(m,h?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function $j(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var c="moment",h="",m,_,k,R;return this.isLocal()||(c=this.utcOffset()===0?"moment.utc":"moment.parseZone",h="Z"),m="["+c+'("]',_=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",k="-MM-DD[T]HH:mm:ss.SSS",R=h+'[")]',this.format(m+_+k+R)}function Lj(c){c||(c=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var h=be(this,c);return this.localeData().postformat(h)}function jj(c,h){return this.isValid()&&(O(c)&&c.isValid()||Qe(c).isValid())?br({to:this,from:c}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()}function Fj(c){return this.from(Qe(),c)}function Uj(c,h){return this.isValid()&&(O(c)&&c.isValid()||Qe(c).isValid())?br({from:this,to:c}).locale(this.locale()).humanize(!h):this.localeData().invalidDate()}function zj(c){return this.to(Qe(),c)}function eT(c){var h;return c===void 0?this._locale._abbr:(h=Ei(c),h!=null&&(this._locale=h),this)}var tT=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(c){return c===void 0?this.localeData():this.locale(c)});function nT(){return this._locale}var mh=1e3,vo=60*mh,gh=60*vo,rT=(365*400+97)*24*gh;function yo(c,h){return(c%h+h)%h}function iT(c,h,m){return c<100&&c>=0?new Date(c+400,h,m)-rT:new Date(c,h,m).valueOf()}function sT(c,h,m){return c<100&&c>=0?Date.UTC(c+400,h,m)-rT:Date.UTC(c,h,m)}function Vj(c){var h,m;if(c=Yt(c),c===void 0||c==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?sT:iT,c){case"year":h=m(this.year(),0,1);break;case"quarter":h=m(this.year(),this.month()-this.month()%3,1);break;case"month":h=m(this.year(),this.month(),1);break;case"week":h=m(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":h=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":h=m(this.year(),this.month(),this.date());break;case"hour":h=this._d.valueOf(),h-=yo(h+(this._isUTC?0:this.utcOffset()*vo),gh);break;case"minute":h=this._d.valueOf(),h-=yo(h,vo);break;case"second":h=this._d.valueOf(),h-=yo(h,mh);break}return this._d.setTime(h),r.updateOffset(this,!0),this}function Yj(c){var h,m;if(c=Yt(c),c===void 0||c==="millisecond"||!this.isValid())return this;switch(m=this._isUTC?sT:iT,c){case"year":h=m(this.year()+1,0,1)-1;break;case"quarter":h=m(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":h=m(this.year(),this.month()+1,1)-1;break;case"week":h=m(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":h=m(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":h=m(this.year(),this.month(),this.date()+1)-1;break;case"hour":h=this._d.valueOf(),h+=gh-yo(h+(this._isUTC?0:this.utcOffset()*vo),gh)-1;break;case"minute":h=this._d.valueOf(),h+=vo-yo(h,vo)-1;break;case"second":h=this._d.valueOf(),h+=mh-yo(h,mh)-1;break}return this._d.setTime(h),r.updateOffset(this,!0),this}function Wj(){return this._d.valueOf()-(this._offset||0)*6e4}function Hj(){return Math.floor(this.valueOf()/1e3)}function Bj(){return new Date(this.valueOf())}function Gj(){var c=this;return[c.year(),c.month(),c.date(),c.hour(),c.minute(),c.second(),c.millisecond()]}function qj(){var c=this;return{years:c.year(),months:c.month(),date:c.date(),hours:c.hours(),minutes:c.minutes(),seconds:c.seconds(),milliseconds:c.milliseconds()}}function Kj(){return this.isValid()?this.toISOString():null}function Qj(){return w(this)}function Xj(){return g({},T(this))}function Jj(){return T(this).overflow}function Zj(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}F("N",0,0,"eraAbbr"),F("NN",0,0,"eraAbbr"),F("NNN",0,0,"eraAbbr"),F("NNNN",0,0,"eraName"),F("NNNNN",0,0,"eraNarrow"),F("y",["y",1],"yo","eraYear"),F("y",["yy",2],0,"eraYear"),F("y",["yyy",3],0,"eraYear"),F("y",["yyyy",4],0,"eraYear"),oe("N",uv),oe("NN",uv),oe("NNN",uv),oe("NNNN",uF),oe("NNNNN",dF),Ye(["N","NN","NNN","NNNN","NNNNN"],function(c,h,m,_){var k=m._locale.erasParse(c,_,m._strict);k?T(m).era=k:T(m).invalidEra=c}),oe("y",fo),oe("yy",fo),oe("yyy",fo),oe("yyyy",fo),oe("yo",hF),Ye(["y","yy","yyy","yyyy"],en),Ye(["yo"],function(c,h,m,_){var k;m._locale._eraYearOrdinalRegex&&(k=c.match(m._locale._eraYearOrdinalRegex)),m._locale.eraYearOrdinalParse?h[en]=m._locale.eraYearOrdinalParse(c,k):h[en]=parseInt(c,10)});function eF(c,h){var m,_,k,R=this._eras||Ei("en")._eras;for(m=0,_=R.length;m<_;++m){switch(typeof R[m].since){case"string":k=r(R[m].since).startOf("day"),R[m].since=k.valueOf();break}switch(typeof R[m].until){case"undefined":R[m].until=1/0;break;case"string":k=r(R[m].until).startOf("day").valueOf(),R[m].until=k.valueOf();break}}return R}function tF(c,h,m){var _,k,R=this.eras(),U,ae,ge;for(c=c.toUpperCase(),_=0,k=R.length;_<k;++_)if(U=R[_].name.toUpperCase(),ae=R[_].abbr.toUpperCase(),ge=R[_].narrow.toUpperCase(),m)switch(h){case"N":case"NN":case"NNN":if(ae===c)return R[_];break;case"NNNN":if(U===c)return R[_];break;case"NNNNN":if(ge===c)return R[_];break}else if([U,ae,ge].indexOf(c)>=0)return R[_]}function nF(c,h){var m=c.since<=c.until?1:-1;return h===void 0?r(c.since).year():r(c.since).year()+(h-c.offset)*m}function rF(){var c,h,m,_=this.localeData().eras();for(c=0,h=_.length;c<h;++c)if(m=this.clone().startOf("day").valueOf(),_[c].since<=m&&m<=_[c].until||_[c].until<=m&&m<=_[c].since)return _[c].name;return""}function iF(){var c,h,m,_=this.localeData().eras();for(c=0,h=_.length;c<h;++c)if(m=this.clone().startOf("day").valueOf(),_[c].since<=m&&m<=_[c].until||_[c].until<=m&&m<=_[c].since)return _[c].narrow;return""}function sF(){var c,h,m,_=this.localeData().eras();for(c=0,h=_.length;c<h;++c)if(m=this.clone().startOf("day").valueOf(),_[c].since<=m&&m<=_[c].until||_[c].until<=m&&m<=_[c].since)return _[c].abbr;return""}function aF(){var c,h,m,_,k=this.localeData().eras();for(c=0,h=k.length;c<h;++c)if(m=k[c].since<=k[c].until?1:-1,_=this.clone().startOf("day").valueOf(),k[c].since<=_&&_<=k[c].until||k[c].until<=_&&_<=k[c].since)return(this.year()-r(k[c].since).year())*m+k[c].offset;return this.year()}function oF(c){return o(this,"_erasNameRegex")||dv.call(this),c?this._erasNameRegex:this._erasRegex}function lF(c){return o(this,"_erasAbbrRegex")||dv.call(this),c?this._erasAbbrRegex:this._erasRegex}function cF(c){return o(this,"_erasNarrowRegex")||dv.call(this),c?this._erasNarrowRegex:this._erasRegex}function uv(c,h){return h.erasAbbrRegex(c)}function uF(c,h){return h.erasNameRegex(c)}function dF(c,h){return h.erasNarrowRegex(c)}function hF(c,h){return h._eraYearOrdinalRegex||fo}function dv(){var c=[],h=[],m=[],_=[],k,R,U,ae,ge,Ne=this.eras();for(k=0,R=Ne.length;k<R;++k)U=yi(Ne[k].name),ae=yi(Ne[k].abbr),ge=yi(Ne[k].narrow),h.push(U),c.push(ae),m.push(ge),_.push(U),_.push(ae),_.push(ge);this._erasRegex=new RegExp("^("+_.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+h.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+c.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+m.join("|")+")","i")}F(0,["gg",2],0,function(){return this.weekYear()%100}),F(0,["GG",2],0,function(){return this.isoWeekYear()%100});function vh(c,h){F(0,[c,c.length],0,h)}vh("gggg","weekYear"),vh("ggggg","weekYear"),vh("GGGG","isoWeekYear"),vh("GGGGG","isoWeekYear"),oe("G",sh),oe("g",sh),oe("GG",Ke,Zt),oe("gg",Ke,Zt),oe("GGGG",qg,ho),oe("gggg",qg,ho),oe("GGGGG",ih,nh),oe("ggggg",ih,nh),ac(["gggg","ggggg","GGGG","GGGGG"],function(c,h,m,_){h[_.substr(0,2)]=Ce(c)}),ac(["gg","GG"],function(c,h,m,_){h[_]=r.parseTwoDigitYear(c)});function fF(c){return aT.call(this,c,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function pF(c){return aT.call(this,c,this.isoWeek(),this.isoWeekday(),1,4)}function mF(){return Si(this.year(),1,4)}function gF(){return Si(this.isoWeekYear(),1,4)}function vF(){var c=this.localeData()._week;return Si(this.year(),c.dow,c.doy)}function yF(){var c=this.localeData()._week;return Si(this.weekYear(),c.dow,c.doy)}function aT(c,h,m,_,k){var R;return c==null?uc(this,_,k).year:(R=Si(c,_,k),h>R&&(h=R),wF.call(this,c,h,m,_,k))}function wF(c,h,m,_,k){var R=LE(c,h,m,_,k),U=cc(R.year,0,R.dayOfYear);return this.year(U.getUTCFullYear()),this.month(U.getUTCMonth()),this.date(U.getUTCDate()),this}F("Q",0,"Qo","quarter"),oe("Q",rc),Ye("Q",function(c,h){h[wi]=(Ce(c)-1)*3});function _F(c){return c==null?Math.ceil((this.month()+1)/3):this.month((c-1)*3+this.month()%3)}F("D",["DD",2],"Do","date"),oe("D",Ke,po),oe("DD",Ke,Zt),oe("Do",function(c,h){return c?h._dayOfMonthOrdinalParse||h._ordinalParse:h._dayOfMonthOrdinalParseLenient}),Ye(["D","DD"],Hr),Ye("Do",function(c,h){h[Hr]=Ce(c.match(Ke)[0])});var oT=mo("Date",!0);F("DDD",["DDDD",3],"DDDo","dayOfYear"),oe("DDD",rh),oe("DDDD",ic),Ye(["DDD","DDDD"],function(c,h,m){m._dayOfYear=Ce(c)});function SF(c){var h=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return c==null?h:this.add(c-h,"d")}F("m",["mm",2],0,"minute"),oe("m",Ke,Kg),oe("mm",Ke,Zt),Ye(["m","mm"],Tr);var EF=mo("Minutes",!1);F("s",["ss",2],0,"second"),oe("s",Ke,Kg),oe("ss",Ke,Zt),Ye(["s","ss"],_i);var TF=mo("Seconds",!1);F("S",0,0,function(){return~~(this.millisecond()/100)}),F(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),F(0,["SSS",3],0,"millisecond"),F(0,["SSSS",4],0,function(){return this.millisecond()*10}),F(0,["SSSSS",5],0,function(){return this.millisecond()*100}),F(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),F(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),F(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),F(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),oe("S",rh,rc),oe("SS",rh,Zt),oe("SSS",rh,ic);var us,lT;for(us="SSSS";us.length<=9;us+="S")oe(us,fo);function bF(c,h){h[la]=Ce(("0."+c)*1e3)}for(us="S";us.length<=9;us+="S")Ye(us,bF);lT=mo("Milliseconds",!1),F("z",0,0,"zoneAbbr"),F("zz",0,0,"zoneName");function kF(){return this._isUTC?"UTC":""}function DF(){return this._isUTC?"Coordinated Universal Time":""}var X=N.prototype;X.add=yj,X.calendar=kj,X.clone=Dj,X.diff=Aj,X.endOf=Yj,X.format=Lj,X.from=jj,X.fromNow=Fj,X.to=Uj,X.toNow=zj,X.get=$2,X.invalidAt=Jj,X.isAfter=Cj,X.isBefore=xj,X.isBetween=Ij,X.isSame=Nj,X.isSameOrAfter=Oj,X.isSameOrBefore=Mj,X.isValid=Qj,X.lang=tT,X.locale=eT,X.localeData=nT,X.max=QL,X.min=KL,X.parsingFlags=Xj,X.set=L2,X.startOf=Vj,X.subtract=wj,X.toArray=Gj,X.toObject=qj,X.toDate=Bj,X.toISOString=Pj,X.inspect=$j,typeof Symbol<"u"&&Symbol.for!=null&&(X[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),X.toJSON=Kj,X.toString=Rj,X.unix=Hj,X.valueOf=Wj,X.creationData=Zj,X.eraName=rF,X.eraNarrow=iF,X.eraAbbr=sF,X.eraYear=aF,X.year=NE,X.isLeapYear=P2,X.weekYear=fF,X.isoWeekYear=pF,X.quarter=X.quarters=_F,X.month=PE,X.daysInMonth=B2,X.week=X.weeks=eL,X.isoWeek=X.isoWeeks=tL,X.weeksInYear=vF,X.weeksInWeekYear=yF,X.isoWeeksInYear=mF,X.isoWeeksInISOWeekYear=gF,X.date=oT,X.day=X.days=pL,X.weekday=mL,X.isoWeekday=gL,X.dayOfYear=SF,X.hour=X.hours=TL,X.minute=X.minutes=EF,X.second=X.seconds=TF,X.millisecond=X.milliseconds=lT,X.utcOffset=sj,X.utc=oj,X.local=lj,X.parseZone=cj,X.hasAlignedHourOffset=uj,X.isDST=dj,X.isLocal=fj,X.isUtcOffset=pj,X.isUtc=KE,X.isUTC=KE,X.zoneAbbr=kF,X.zoneName=DF,X.dates=x("dates accessor is deprecated. Use date instead.",oT),X.months=x("months accessor is deprecated. Use month instead",PE),X.years=x("years accessor is deprecated. Use year instead",NE),X.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",aj),X.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",hj);function CF(c){return Qe(c*1e3)}function xF(){return Qe.apply(null,arguments).parseZone()}function cT(c){return c}var Pe=ee.prototype;Pe.calendar=Y,Pe.longDateFormat=vi,Pe.invalidDate=co,Pe.ordinal=Zd,Pe.preparse=cT,Pe.postformat=cT,Pe.relativeTime=Bg,Pe.pastFuture=Gg,Pe.set=ne,Pe.eras=eF,Pe.erasParse=tF,Pe.erasConvertYear=nF,Pe.erasAbbrRegex=lF,Pe.erasNameRegex=oF,Pe.erasNarrowRegex=cF,Pe.months=V2,Pe.monthsShort=Y2,Pe.monthsParse=H2,Pe.monthsRegex=q2,Pe.monthsShortRegex=G2,Pe.week=Q2,Pe.firstDayOfYear=Z2,Pe.firstDayOfWeek=J2,Pe.weekdays=cL,Pe.weekdaysMin=dL,Pe.weekdaysShort=uL,Pe.weekdaysParse=fL,Pe.weekdaysRegex=vL,Pe.weekdaysShortRegex=yL,Pe.weekdaysMinRegex=wL,Pe.isPM=SL,Pe.meridiem=bL;function yh(c,h,m,_){var k=Ei(),R=S().set(_,h);return k[m](R,c)}function uT(c,h,m){if(d(c)&&(h=c,c=void 0),c=c||"",h!=null)return yh(c,h,m,"month");var _,k=[];for(_=0;_<12;_++)k[_]=yh(c,_,m,"month");return k}function hv(c,h,m,_){typeof c=="boolean"?(d(h)&&(m=h,h=void 0),h=h||""):(h=c,m=h,c=!1,d(h)&&(m=h,h=void 0),h=h||"");var k=Ei(),R=c?k._week.dow:0,U,ae=[];if(m!=null)return yh(h,(m+R)%7,_,"day");for(U=0;U<7;U++)ae[U]=yh(h,(U+R)%7,_,"day");return ae}function IF(c,h){return uT(c,h,"months")}function NF(c,h){return uT(c,h,"monthsShort")}function OF(c,h,m){return hv(c,h,m,"weekdays")}function MF(c,h,m){return hv(c,h,m,"weekdaysShort")}function AF(c,h,m){return hv(c,h,m,"weekdaysMin")}cs("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(c){var h=c%10,m=Ce(c%100/10)===1?"th":h===1?"st":h===2?"nd":h===3?"rd":"th";return c+m}}),r.lang=x("moment.lang is deprecated. Use moment.locale instead.",cs),r.langData=x("moment.langData is deprecated. Use moment.localeData instead.",Ei);var Ti=Math.abs;function RF(){var c=this._data;return this._milliseconds=Ti(this._milliseconds),this._days=Ti(this._days),this._months=Ti(this._months),c.milliseconds=Ti(c.milliseconds),c.seconds=Ti(c.seconds),c.minutes=Ti(c.minutes),c.hours=Ti(c.hours),c.months=Ti(c.months),c.years=Ti(c.years),this}function dT(c,h,m,_){var k=br(h,m);return c._milliseconds+=_*k._milliseconds,c._days+=_*k._days,c._months+=_*k._months,c._bubble()}function PF(c,h){return dT(this,c,h,1)}function $F(c,h){return dT(this,c,h,-1)}function hT(c){return c<0?Math.floor(c):Math.ceil(c)}function LF(){var c=this._milliseconds,h=this._days,m=this._months,_=this._data,k,R,U,ae,ge;return c>=0&&h>=0&&m>=0||c<=0&&h<=0&&m<=0||(c+=hT(fv(m)+h)*864e5,h=0,m=0),_.milliseconds=c%1e3,k=sr(c/1e3),_.seconds=k%60,R=sr(k/60),_.minutes=R%60,U=sr(R/60),_.hours=U%24,h+=sr(U/24),ge=sr(fT(h)),m+=ge,h-=hT(fv(ge)),ae=sr(m/12),m%=12,_.days=h,_.months=m,_.years=ae,this}function fT(c){return c*4800/146097}function fv(c){return c*146097/4800}function jF(c){if(!this.isValid())return NaN;var h,m,_=this._milliseconds;if(c=Yt(c),c==="month"||c==="quarter"||c==="year")switch(h=this._days+_/864e5,m=this._months+fT(h),c){case"month":return m;case"quarter":return m/3;case"year":return m/12}else switch(h=this._days+Math.round(fv(this._months)),c){case"week":return h/7+_/6048e5;case"day":return h+_/864e5;case"hour":return h*24+_/36e5;case"minute":return h*1440+_/6e4;case"second":return h*86400+_/1e3;case"millisecond":return Math.floor(h*864e5)+_;default:throw new Error("Unknown unit "+c)}}function bi(c){return function(){return this.as(c)}}var pT=bi("ms"),FF=bi("s"),UF=bi("m"),zF=bi("h"),VF=bi("d"),YF=bi("w"),WF=bi("M"),HF=bi("Q"),BF=bi("y"),GF=pT;function qF(){return br(this)}function KF(c){return c=Yt(c),this.isValid()?this[c+"s"]():NaN}function ua(c){return function(){return this.isValid()?this._data[c]:NaN}}var QF=ua("milliseconds"),XF=ua("seconds"),JF=ua("minutes"),ZF=ua("hours"),eU=ua("days"),tU=ua("months"),nU=ua("years");function rU(){return sr(this.days()/7)}var ki=Math.round,wo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function iU(c,h,m,_,k){return k.relativeTime(h||1,!!m,c,_)}function sU(c,h,m,_){var k=br(c).abs(),R=ki(k.as("s")),U=ki(k.as("m")),ae=ki(k.as("h")),ge=ki(k.as("d")),Ne=ki(k.as("M")),wn=ki(k.as("w")),Di=ki(k.as("y")),ds=R<=m.ss&&["s",R]||R<m.s&&["ss",R]||U<=1&&["m"]||U<m.m&&["mm",U]||ae<=1&&["h"]||ae<m.h&&["hh",ae]||ge<=1&&["d"]||ge<m.d&&["dd",ge];return m.w!=null&&(ds=ds||wn<=1&&["w"]||wn<m.w&&["ww",wn]),ds=ds||Ne<=1&&["M"]||Ne<m.M&&["MM",Ne]||Di<=1&&["y"]||["yy",Di],ds[2]=h,ds[3]=+c>0,ds[4]=_,iU.apply(null,ds)}function aU(c){return c===void 0?ki:typeof c=="function"?(ki=c,!0):!1}function oU(c,h){return wo[c]===void 0?!1:h===void 0?wo[c]:(wo[c]=h,c==="s"&&(wo.ss=h-1),!0)}function lU(c,h){if(!this.isValid())return this.localeData().invalidDate();var m=!1,_=wo,k,R;return typeof c=="object"&&(h=c,c=!1),typeof c=="boolean"&&(m=c),typeof h=="object"&&(_=Object.assign({},wo,h),h.s!=null&&h.ss==null&&(_.ss=h.s-1)),k=this.localeData(),R=sU(this,!m,_,k),m&&(R=k.pastFuture(+this,R)),k.postformat(R)}var pv=Math.abs;function _o(c){return(c>0)-(c<0)||+c}function wh(){if(!this.isValid())return this.localeData().invalidDate();var c=pv(this._milliseconds)/1e3,h=pv(this._days),m=pv(this._months),_,k,R,U,ae=this.asSeconds(),ge,Ne,wn,Di;return ae?(_=sr(c/60),k=sr(_/60),c%=60,_%=60,R=sr(m/12),m%=12,U=c?c.toFixed(3).replace(/\.?0+$/,""):"",ge=ae<0?"-":"",Ne=_o(this._months)!==_o(ae)?"-":"",wn=_o(this._days)!==_o(ae)?"-":"",Di=_o(this._milliseconds)!==_o(ae)?"-":"",ge+"P"+(R?Ne+R+"Y":"")+(m?Ne+m+"M":"")+(h?wn+h+"D":"")+(k||_||c?"T":"")+(k?Di+k+"H":"")+(_?Di+_+"M":"")+(c?Di+U+"S":"")):"P0D"}var Oe=hh.prototype;Oe.isValid=tj,Oe.abs=RF,Oe.add=PF,Oe.subtract=$F,Oe.as=jF,Oe.asMilliseconds=pT,Oe.asSeconds=FF,Oe.asMinutes=UF,Oe.asHours=zF,Oe.asDays=VF,Oe.asWeeks=YF,Oe.asMonths=WF,Oe.asQuarters=HF,Oe.asYears=BF,Oe.valueOf=GF,Oe._bubble=LF,Oe.clone=qF,Oe.get=KF,Oe.milliseconds=QF,Oe.seconds=XF,Oe.minutes=JF,Oe.hours=ZF,Oe.days=eU,Oe.weeks=rU,Oe.months=tU,Oe.years=nU,Oe.humanize=lU,Oe.toISOString=wh,Oe.toString=wh,Oe.toJSON=wh,Oe.locale=eT,Oe.localeData=nT,Oe.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",wh),Oe.lang=tT,F("X",0,0,"unix"),F("x",0,0,"valueOf"),oe("x",sh),oe("X",I2),Ye("X",function(c,h,m){m._d=new Date(parseFloat(c)*1e3)}),Ye("x",function(c,h,m){m._d=new Date(Ce(c))});//! moment.js
return r.version="2.30.1",i(Qe),r.fn=X,r.min=XL,r.max=JL,r.now=ZL,r.utc=S,r.unix=CF,r.months=IF,r.isDate=f,r.locale=cs,r.invalid=b,r.duration=br,r.isMoment=O,r.weekdays=OF,r.parseZone=xF,r.localeData=Ei,r.isDuration=fh,r.monthsShort=NF,r.weekdaysMin=AF,r.defineLocale=tv,r.updateLocale=xL,r.locales=IL,r.weekdaysShort=MF,r.normalizeUnits=Yt,r.relativeTimeRounding=aU,r.relativeTimeThreshold=oU,r.calendarFormat=bj,r.prototype=X,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r})}(Uy)),Uy.exports}(function(e,t){(function(n,r){r(typeof C2=="function"?gve():n.moment)})(Hn,function(n){//! moment.js locale configuration
var r="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),i="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),s=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],a=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,o=n.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(l,u){return l?/-MMM-/.test(u)?i[l.month()]:r[l.month()]:r},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:s,longMonthsParse:s,shortMonthsParse:s,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4},invalidDate:"Fecha inválida"});return o})})();ie.locale("es");const vve=mfe(ie),yve=()=>{const{currentUser:e}=M.useContext(At),[t,n]=M.useState([]),[r,i]=M.useState(!0),[s,a]=M.useState(null);M.useEffect(()=>{if(!e)return;(async()=>{try{i(!0);const f=(await Xq(e.uid)).map(p=>({id:p.id,title:p.title,start:p.deadline?new Date(p.deadline.seconds*1e3):new Date,end:p.deadline?new Date(p.deadline.seconds*1e3):new Date,allDay:!0,resource:p}));n(f)}catch(d){console.error("Error al cargar las tareas:",d)}finally{i(!1)}})()},[e]);const o=u=>{a(u.resource)},l=u=>{var g,S;const d=((g=u.resource)==null?void 0:g.status)==="completed",f=u.start<new Date&&((S=u.resource)==null?void 0:S.status)!=="completed";let p={backgroundColor:"#3174ad",borderRadius:"4px",color:"white",border:"0px",display:"block"};return d?p.backgroundColor="#4caf50":f?p.backgroundColor="#f44336":ie(u.start).isSame(new Date,"day")&&(p.backgroundColor="#ff9800"),{style:p}};return y.jsxs("div",{className:"calendar-page",children:[y.jsx("h1",{children:"Calendario de Tareas"}),r?y.jsx("div",{className:"loading-spinner",children:"Cargando tareas..."}):y.jsxs("div",{className:"calendar-container",children:[y.jsx(cfe,{localizer:vve,events:t,startAccessor:"start",endAccessor:"end",style:{height:600},views:["month","week","day"],onSelectEvent:o,eventPropGetter:l,messages:{next:"Siguiente",previous:"Anterior",today:"Hoy",month:"Mes",week:"Semana",day:"Día"}}),s&&y.jsxs("div",{className:"task-details",children:[y.jsx("h3",{children:s.title}),y.jsx("p",{className:"task-description",children:s.description||"Sin descripción"}),y.jsxs("div",{className:"task-meta",children:[y.jsx("span",{className:`task-status status-${s.status}`,children:s.status==="completed"?"Completada":s.status==="in_progress"?"En progreso":"Pendiente"}),s.priority&&y.jsxs("span",{className:`task-priority priority-${s.priority}`,children:["Prioridad: ",s.priority==="high"?"Alta":s.priority==="medium"?"Media":"Baja"]})]}),y.jsx("button",{className:"view-task-btn",onClick:()=>window.location.href=`/project/${s.projectId}?task=${s.id}`,children:"Ver detalle"}),y.jsx("button",{className:"close-details-btn",onClick:()=>a(null),children:"Cerrar"})]})]})]})},wve=()=>{const[e,t]=M.useState(!1),n=()=>{t(!e)},r=()=>{e&&t(!1)};return y.jsx(jq,{children:y.jsx(bq,{children:y.jsx(Lq,{children:y.jsxs(PV,{children:[y.jsx(_8,{onToggleSidebar:n}),y.jsxs("div",{className:"app-container",children:[y.jsx(S8,{isMobileOpen:e,onLinkClick:r}),y.jsx("main",{className:"main-content",children:y.jsxs(AV,{children:[y.jsx(Dr,{path:"/",exact:!0,component:Fq}),y.jsx(Dr,{path:"/dashboard",component:Uq}),y.jsx(Dr,{path:"/my-projects",component:b8}),y.jsx(Dr,{path:"/contacts",component:k8}),y.jsx(Dr,{path:"/calendar",component:yve}),y.jsx(Dr,{path:"/project/new",component:u8}),y.jsx(Dr,{path:"/project/edit/:id",component:d8}),y.jsx(Dr,{path:"/project/:id",component:c8}),y.jsx(Dr,{path:"/profile",component:g8}),y.jsx(Dr,{path:"/login",component:v8}),y.jsx(Dr,{path:"/notifications",component:T8})]})})]}),y.jsx(E8,{})]})})})})},_ve=document.getElementById("root"),Sve=xN(_ve);Sve.render(y.jsx(A.StrictMode,{children:y.jsx(wve,{})}))});export default Eve();
